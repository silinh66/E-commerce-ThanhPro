{"version":3,"sources":["assets/b1.jpg","assets/b2.jpg","assets/b3.jpg","assets/b4.jpg","components/Home/RecommendBanner.js","contexts/Cart.js","components/Product/ProductQuickView.js","components/Product/ProductOverlay.js","components/Product/Product.js","components/Home/HomeTabContent.js","components/Home/HomeTab.js","components/Home/Collection.js","components/News/News.js","components/Home/FashionNews.js","components/Layouts/Newsletter.js","components/Layouts/Footer.js","components/Banner/Banner.js","components/Header/Search.js","contexts/User.js","components/Header/AccountInfo.js","components/Header/Account.js","components/Header/CartItem.js","components/Header/WishListItem.js","components/Header/Cart.js","components/Header/DropdownSlider.js","assets/women-dropdown.jpg","assets/women-dropdown2.jpg","assets/women-dropdown3.jpg","assets/men-dropdown.jpg","assets/men-dropdown2.jpg","assets/men-dropdown3.jpg","components/Header/Dropdown.js","components/Header/MenuItemDropdown.js","components/Header/Header.js","pages/Home.js","components/Banner/NewsBanner.js","components/News/NewsNavbar.js","components/News/NewsBodyBig.js","components/News/NewBodySmall.js","components/News/NewsBodyPag.js","components/News/NewsBodyWidget.js","components/News/NewsBody.js","pages/News.js","components/Banner/BannerV2.js","components/Shop/RangeSliderComponents.js","components/Shop/RangeSlider.js","components/Shop/ShopBody.js","assets/S3.jpg","pages/Shop.js","assets/contact.jpg","components/Contact/ContactBody.js","components/Contact/GoogleMap.js","components/Contact/GetInTouch.js","pages/Contact.js","components/Product/ProductBody.js","components/Header/HeaderV2.js","components/Product/ProductReviewContent.js","components/Product/ProductReview.js","components/Product/ProductRecommend.js","pages/ProductDetail.js","components/Banner/BannerV3.js","components/Header/HeaderV3.js","components/Collection/CollectionItem.js","components/Collection/CollectionList.js","pages/Collection.js","components/News/NewsContent.js","pages/NewsDetail.js","components/OpenChatBtn.js","pages/NewsCate.js","assets/login-bg.jpg","components/admin/Login/Login.js","components/admin/Dashboard/DashboardHeader.js","components/admin/Dashboard/Main/DashboardTotalCount.js","components/admin/Dashboard/Main/DashboardLocation.js","components/admin/Dashboard/Main/DashboardTopFive.js","components/admin/Dashboard/Main/DashboardRecentReview.js","components/admin/Dashboard/Main/DashboardChart.js","components/admin/Dashboard/Main/DashboardTodoList.js","components/admin/Dashboard/Main/DashboardChartPie.js","components/admin/Dashboard/Main/DashboardChartLine.js","components/admin/Dashboard/Main/DashboardMain.js","components/admin/Dashboard/Inbox/DashboardInbox.js","components/admin/Dashboard/Product/DashboardProductTable.js","components/admin/Dashboard/Product/DashboardProduct.js","components/admin/Dashboard/News/DashboardNewsTable.js","components/admin/Dashboard/News/DashboardNews.js","components/admin/Dashboard/Product/DashboardProductEdit.js","components/admin/Dashboard/Product/DashboardProductCreate.js","components/admin/Dashboard/News/DashboardEditor.js","components/admin/Dashboard/News/DashboardNewsCreate.js","components/admin/Dashboard/News/DashboardNewsEdit.js","components/admin/Dashboard/User/DashboardUserTable.js","components/admin/Dashboard/User/DashboardUser.js","components/admin/Dashboard/User/DashboardUserCreate.js","components/admin/Dashboard/User/DashboardUserEdit.js","components/admin/Dashboard/Order/DashboardOrderTable.js","components/admin/Dashboard/Order/DashboardOrder.js","components/admin/Dashboard/Order/DashboardOrderEdit.js","components/admin/Dashboard/Order/DashboardOrderCreate.js","components/admin/Dashboard/Collection/DashboardCollectionCreate.js","components/admin/Dashboard/Collection/DashboardCollectionEdit.js","components/admin/Dashboard/Collection/DashboardCollectionTable.js","components/admin/Dashboard/Collection/DashboardCollection.js","components/admin/Dashboard/Subscriber/DashboardSubscriberCreate.js","components/admin/Dashboard/Subscriber/DashboardSubscriberEdit.js","components/admin/Dashboard/Subscriber/DashboardSubscriberTable.js","components/admin/Dashboard/Subscriber/DashboardSubscriber.js","components/admin/Dashboard/DashboardBody.js","components/admin/Dashboard/DashboardMenu.js","components/admin/Dashboard/Dashboard.js","contexts/Chat.js","components/Toast.js","components/Banner/BannerV4.js","components/ZaloPay/common.js","components/ZaloPay/zalopay.js","components/CheckoutBody.js","pages/Checkout.js","App.js","serviceWorker.js","index.js"],"names":["RecommendBanner","handleClick","window","scrollTo","className","src","b1","alt","width","height","to","onClick","b2","b3","b4","CartContext","React","createContext","CartProvider","props","useState","cartItems","setCartItems","wishListItems","setWishListItems","clickedCart","setClickedCart","total","setTotal","isExists","item","cartItem","_id","useEffect","localStorage","getItem","JSON","parse","getTotal","arr","virtualTotal","i","count","productFinalPrice","setItem","stringify","Provider","value","addToCart","product","virtualCart","length","push","addToWishList","removeFromCart","event","id","target","splice","plusCount","minusCount","removeFromWishList","updateCount","Number","children","withRouter","countCart","setCountCart","toast","setToast","ratingList","productVote","map","a","ratingStar","size","reduce","b","edit","activeColor","color","isHalf","settings","infinite","slidesToShow","slidesToScroll","autoplay","autoplaySpeed","useContext","redirect","history","view","style","top","icon","faCheckCircle","closeView","faTimes","productSale","productSold","productImg","index","key","padding","marginTop","productName","productDes","textDecoration","margin","productPrice","marginRight","fontSize","toString","replace","faMinus","onSubmit","preventDefault","type","onChange","e","faPlus","setTimeout","faCartPlus","faHeart","productSex","productCate","toLowerCase","split","join","loading","setLoading","openView","faEye","hover","setHover","setView","document","body","overflow","productDate","Date","today","parentHeight","onMouseOver","onMouseOut","HomeTabContent","limit","setLimit","products","limitProducts","slice","minHeight","textAlign","textTransform","HomeTab","currentTab","setCurrentTab","isActive","setIsActive","setProducts","axios","get","then","res","data","sort","dateProductVirtual","dateProduct","sellingProduct","collection","collectionName","news","cateLink","newCate","date","newTime","day","getDate","month","getMonth","year","getFullYear","newImg","newTitle","dangerouslySetInnerHTML","__html","newContent","FashionNews","setNews","currentPage","setCurrentPage","indexOfLastNews","indexOfFirstNews","currentNews","pageNumbers","Math","ceil","pages","classNames","pagnigation_disable","number","Newsletter","inputEmailRef","useRef","emailInput","setEmailInput","post","subscriber","alert","catch","err","response","current","placeholder","ref","Footer","href","faTwitter","faFacebookF","faInstagram","faPinterest","faGoogle","currentBanner","setCurrentBanner","slide","setInterval","clearInterval","hide","marginLeft","choose_line_active","Search","constProducts","setConstProducts","searchInput","setSearchInput","searchOpen","clickToClose","faSearch","search","includes","alignItems","justifyContent","cartClick","pointerEvents","UserContext","UserProvider","userInfo","setUserInfo","setUserInfoFunc","user","Object","assign","tinh","setTinh","huyen","setHuyen","tabId","setTabId","userName","setUserName","userEmail","setUserEmail","userPassword","setUserPassword","userPhone","setUserPhone","userAvt","setUserAvt","file","setFile","provinceId","setProvinceId","userTinh","setUserTinh","userHuyen","setUserHuyen","userAddress","setUserAddress","orderList","setOrderList","filter","name","orderList2","orderEmail","borderRadius","removeItem","sessionStorage","location","reload","formData","FormData","Array","from","forEach","image","append","headers","token","console","log","encType","files","URL","createObjectURL","prototype","call","multiple","overflowY","flexWrap","selectedIndex","defaultValue","disabled","tinh_id","tableLayout","reverse","orderDate","totalItem","amount","wordWrap","WebkitLineClamp","orderAddress","orderHuyen","orderTinh","orderPaymentMethod","orderTotal","check","setCheck","tabID","setTabID","arrSuccess","setArrSuccess","arrErr","setArrErr","setUser","login","setLogin","handleOnChange","handleOnSubmit","loginEmail","loginPassword","registerName","registerEmail","registerPassword","userRole","uniqueErr","uniqueSuccess","pos","indexOf","accountOpen","faCheck","CartItem","border","visibility","WishListItem","cartOpen","Dropdown","imgIndex","setImgIndex","imgs","transform","faCircle","handleLeaveHover","sex","label","dropdownContent","dropdownTitle","dropdownList","cursor","womenImg","womenImg2","womenImg3","menImg","menImg2","menImg3","dropdownHover","pathname","onMouseEnter","handleHover","onMouseLeave","url","active","whitelink_header","whiteText","scrolled","setScrolled","whiteBox","setWhiteBox","setWhiteText","setSearchOpen","setAccountOpen","setCartOpen","disableBox","setDisableBox","setDropdownHover","totalCart","setTotalCart","openSubMenu","setOpenSubMenu","path","subHeight","setOpenMobileMenu","navBar","setNavBar","onScroll","match","params","cate","pageYOffset","this","prev","virtualNavBar","menProduct","womenProduct","productGroupCate","groupCateMen","elem","self","groupCateWomen","menDropdownContent","menData","cateList","j","cateList2","womenDropdownContent","womenData","totalCartVirtual","addEventListener","removeEventListener","openMobileMenu","closeAnimation","setCloseAnimation","closeMobileMenuFunc","searchMobile","setSearchMobile","white","white_disable","faBars","openMenuMobile","closeMenuMobile","home","maxHeight","menu_mobile_item_active","faAngleDown","item2","item3","faUser","cart_count_news_hover","Cart","Home","setCollection","locationText","locationArr","locationSplit","textContent","faAngleRight","displayNone","sortedCate","setCurrentTabText","currentTarget","firstPost","str","timeStr","choosePage","newspagnigation_disable","isSearchFocus","setIsSearchFocus","splicedCate","topViews","newView","values","create","searchErr","setSearchNews","backgroundImage","currentTabText","nextPosts","searchNews","setSearchErr","filterNews","NewBodySmall","NewsPages","bannerImage","backgroundPosition","position","thumbHeight","MuiRail","withStyles","theme","rail","backgroundColor","railHotspot","classes","getRailProps","MuiHandle","root","whiteSpace","zIndex","domain","min","max","handle","percent","getHandleProps","role","aria-valuemin","aria-valuemax","aria-valuenow","left","MuiTrack","track","trackHotspot","source","getTrackProps","RangeSlider","onUpdate","update","setState","initialValues","state","setSortPriceValue","Grid","container","xs","marginBottom","mode","step","rootStyle","handles","right","tracks","Typography","Component","setProduct","constProduct","setConstProduct","gridTab","setGridTab","sortPriceValue","soldProduct","chooseCateLink","chooseSize","virtualProduct","productSize","filterBox","setFilterBox","cateFilter","setCateFilter","sizeFilter","setSizeFilter","limitProduct","limitProductSold","limitProductDate","limitProductSelling","faTh","faThLarge","faFilter","display","virtualProduct2","virtualProduct3","classWidth","setSortedCate","virtualCate","sortedcate","virtualData","bg","ContactBody","faHome","faPhone","faMailBulk","GoogleMap","title","frameBorder","aria-hidden","tabIndex","GetInTouch","Contact","ProductBody","zoom","setZoom","productSmall","slugSex","l","RegExp","charAt","slugify","innerWidth","sliderWidth","onMouseMove","getBoundingClientRect","x","pageX","y","pageY","offsetWidth","faChevronLeft","faChevronRight","scrollOnLick","keys","ProductReviewContent","full","setFull","content","ProductReview","ratingValue","setRatingValue","reviewInput","setReviewInput","nameInput","setNameInput","setProductVote","defaultStar","newValue","bRef","setTab","ratingDate","ratingAvt","ratingName","ratingText","ratingEmail","ProductRecommend","productInfo","recommendProducts","recommendProducts2","ProductDetail","smoothScroll","timer","stop","clearTimeout","callback","startTime","outQuint","t","c","d","node","getElementById","nodeTop","offsetTop","nodeHeight","offsetHeight","html","documentElement","scrollHeight","clientHeight","windowHeight","innerHeight","offset","delta","bottomScrollableY","targetY","now","yScroll","elapsed","tab","collectionTitle","hoverPrice","setHoverPrice","CollectionList","collectionItems","Axios","collectionBanner","NewsContent","countId","background","messageRef","inputRef","openChat","setOpenChat","onHover","setOnHover","inputValue","setInputValue","socket","socketIOClient","chatList","setChatList","userInfoExist","setUserInfoExist","floor","random","chatContent","emit","sessionId","isAdmin","on","scrollIntoView","behavior","handleChange","sendFirstChatOnSubmit","chatName","chatEmail","text","time","faComment","required","messageSend","fromAdmin","faPaperPlane","NewsCate","email","setEmail","password","setPassword","DashboardHeader","openNotice","setOpenNotice","notice","setNotice","unreadedNotice","setUnreadedNotice","isRead","orderNotice","setOpenMenuOnClick","openMenu","faEllipsisV","faListUl","itemName","readAll","faBell","noticeContent","DashboardTotalCount","isDecrease","faArrowUp","faArrowDown","DashboardLocation","mapLink","setMapLink","order","setLocation","topLocationList","faGlobe","setMap","parseFloat","toFixed","DashboardTopFive","table","orderAvatar","orderName","DashboardRecentReview","topRecentVote","ratingHours","ratingMinutes","ratingYears","ratingMonths","ratingDays","DashboardChart","setData","allCate","topCate","topCateList","labels","datasets","borderColor","borderWidth","faChartBar","options","legend","scales","xAxes","gridLines","yAxes","borderDash","faClock","DashboardTodoList","todoList","setTodoList","openNewTodo","setOpenNewTodo","openEditTodo","setOpenEditTodo","newTodoText","setNewTodoText","editTodoText","setEditTodoText","clickToCheck","isDone","virtualTodo","deleteTodo","delete","eidtTodoOnSubmit","todoContent","todoDate","res2","faEdit","DashboardChartPie","read","unread","sendedEmail","isSeen","responsive","maintainAspectRatio","layout","DashboardChartLine","totalSale","saleData","fill","DashboardMain","setOrder","topCustomer","setTopCusomer","topProductSales","setTopProductSales","totalIncome","setTotalIncome","setTotalSale","orderMonthPercent","setOrderMonthPercent","saleMonthPercent","setSaleMonthPercent","incomeMonthPercent","setIncomeMonthPercent","virtualProducts","virtualProducts2","topCustomer2","currentMonth","currentYear","lastYear","lastMonth","currentOrder","lastMonthOrder","currentTotalIncome","currentTotalSale","lastCurrentTotalIncome","lastCurrentTotalSale","totalCount","faFileInvoice","faTshirt","faMoneyBillWave","recentVote","newRatingDate","hours","getHours","minutes","getMinutes","days","months","faStar","faTasks","DashboardInbox","allChatData","setAllChatData","constAllChatData","setConstAllChatData","roomId","setRoomId","roomIndex","setRoomIndex","chatInput","setChatInput","allchat","sendChatInput","sortDateChat","openTimeTooltip","setOpenTimeTooltip","filterOnSearch","toDay","getDay","dayInMonth","hour","minute","strTime","fontFamily","chatTime","DashboardProductTable","isSortByName","setIsSortByName","isSortByPrice","setIsSortByPrice","isSortBySale","setIsSortBySale","isSortBySold","setIsSortBySold","isChange","indexOfLast","indexOfFirst","deleteOnClick","productId","setOpenCreateFunc","sortByName","nameA","nameB","sortByPrice","priceA","priceB","sortBySale","saleA","saleB","sortBySold","SoldA","SoldB","sortTable","shortedDate","totalRating","averageRating","setOpenEditFunc","faPencilAlt","DashboardProduct","setCloseCreateFunc","setCloseEditFunc","DashboardNewsTable","isSortByTitle","setIsSortByTitle","isSortByView","setIsSortByView","constNews","setConstNews","sortByTitle","titleA","titleB","sortByView","ViewA","ViewB","DashboardNews","faPager","DashboardProductEdit","createForm","cateInput","groupCateInput","isCheckedSmall","setIsCheckedSmall","isCheckedMedium","setIsCheckedMedium","isCheckedLarge","setIsCheckedLarge","setCate","setProductImg","setProductName","setProductSale","setProductPrice","setProductDes","setProductCate","setProductGroupCate","productGroupCateList","setProductGroupCateList","setProductSize","setProductSex","checkedSize","test","deleteImg","virutalFile","items","deleteImgId","setToastFunc","pattern","fontWeight","groupCate","cateName","DashboardProductCreate","cateValue","setCateValue","setSize","setSex","sale","price","des","uploadImageCallBack","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","send","responseText","error","DashboardEditor","EditorState","createEmpty","editorState","setEditorState","newsContent","contentState","stateFromHTML","createWithContent","moveFocusToEnd","toolbarClassName","wrapperClassName","editorClassName","onEditorStateChange","setNewsContent","draftToHtml","convertToRaw","getCurrentContent","toolbar","uploadCallback","present","mandatory","DashboardNewsCreate","newsImg","setNewsImg","setCateList","newsTitle","setNewsTitle","newsCate","setNewsCate","DashboardUserTable","constUser","setConstUser","userA","userB","DashboardUser","DashboardUserCreate","setUserRole","isSortByTotal","setIsSortByTotal","constOrder","setConstOrder","orderId","orderA","orderB","sortByTotal","totalA","totalB","DashboardOrder","setTable","handleResize","DashboardOrderCreate","setOrderName","setOrderEmail","orderPhone","setOrderPhone","setOrderAddress","orderProvince","setOrderProvince","orderDistric","setOrderDistric","setOrderPaymentMethod","productList","setProductList","userList","setUserList","chooseUser","setChooseUser","userProvince","userDistric","listOrder","selected","DashboardCollectionCreate","setCollectionName","DashboardCollectionEdit","setCollectionBanner","DashboardCollectionTable","constCollection","setConstCollection","collectionA","collectionB","collectionTime","DashboardCollection","faShoppingBag","DashboardSubscriberCreate","subscriberEmail","setSubscriberEmail","DashboardSubscriberTable","constEmail","setConstEmail","DashboardSubscriber","faEnvelope","DashboardBody","setIsChange","bool","openEdit","DashboardBody_small","openCreate","menuItems","DashboardMenu","openUserOpt","setOpenUserOpt","hideText","setHideText","DashboardMenu_small","DashboardMenu_mobile","faAngleUp","faIdCard","faSignOutAlt","db_menu_active","setTabIdOnClick","faInbox","faNewspaper","setOpenMenu","setOpenMenuMobile","setProductId","setOrderNotice","setOpenCreate","setOpenEdit","ChatContext","ChatProvider","chatData","setChatData","setChatDataFunc","chat","Toast","HOST","APIs","QR","GATEWAY","QUICKPAY","GETBANKLIST","GETORDERSTATUS","GETREFUNDSTATUS","REFUND","GETHISTORY","SUBSCRIBE","postJSON","done","fail","$","ajax","method","contentType","ZaloPay","apptransid","cb","ws","WebSocket","onopen","onmessage","onclose","pay","returncode","set_Id","phoneInput","setPhoneInput","addressInput","setAddressInput","cartList","setCartList","subTotal","shipping","setShipping","confirm","setConfirm","orderAddressConfirm","setOrderAddressConfirm","isShowQR","setIsShowQR","qrValue","setQRValue","isPaid","setIsPaid","methodPayment","setMethodPayMent","checkedPayMent","lineHeight","description","qr","orderurl","getJSON","orderPaymentMethod2","cartId","Checkout","App","exact","component","News","Shop","Collection","NewsDetail","Login","Dashboard","Boolean","hostname","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.9b47ff15.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/b1.846305b7.jpg\";","export default __webpack_public_path__ + \"static/media/b2.d40da1ac.jpg\";","export default __webpack_public_path__ + \"static/media/b3.d66fc205.jpg\";","export default __webpack_public_path__ + \"static/media/b4.22dc7ed5.jpg\";","import React from 'react';\r\nimport '../../App.css';\r\nimport b1 from '../../assets/b1.jpg';\r\nimport b2 from '../../assets/b2.jpg';\r\nimport b3 from '../../assets/b3.jpg';\r\nimport b4 from '../../assets/b4.jpg';\r\n// import ScrollAnimation from 'react-animate-on-scroll';\r\nimport {\r\n    Link\r\n  } from \"react-router-dom\"; \r\n\r\nexport default function RecommendBanner() {\r\n\r\n    const handleClick = () => {\r\n        window.scrollTo(0,0)\r\n    }\r\n\r\n    return(\r\n        <div className=\"RecommendBanner flex-center\">\r\n            <div className=\"RecommendBanner-container flex-center\">\r\n                <div className=\"banner-box img-hover\">\r\n                    <img src={b1} alt=\"banner\" width=\"100%\" height=\"100%\"></img>\r\n                    <div className=\"blackbox-center-container\">\r\n                        <div className=\"blackbox-title\">New Arrivals</div>\r\n                        <div className=\"blackbox-center\">\r\n                            <Link \r\n                                className=\"blackbox-link a\"\r\n                                to=\"/shop\" \r\n                                onClick={handleClick}\r\n                                >Shop now</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"banner-box\">\r\n                    <div className=\"banner-top flex-center\">\r\n                        <div className=\"banner-top2 img-hover\">\r\n                            <img src={b2} alt=\"banner\" width=\"100%\" height=\"100%\"></img>\r\n                            <div className=\"blackbox-center-container\">\r\n                                <div className=\"blackbox-title blackbox-title-small\">Woman</div>\r\n                                <div className=\"blackbox-center\">\r\n                                    <Link \r\n                                        className=\"blackbox-link blackbox-link-smaill a\"\r\n                                        to=\"/women\" \r\n                                        onClick={handleClick}>Shop now</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"banner-top2 img-hover\">\r\n                            <img src={b3} alt=\"banner\" width=\"100%\" height=\"100%\"></img>\r\n                            <div className=\"blackbox-center-container\">\r\n                                <div className=\"blackbox-title blackbox-title-small\">Man</div>\r\n                                <div className=\"blackbox-center\">\r\n                                    <Link \r\n                                        className=\"blackbox-link blackbox-link-smaill a\"\r\n                                        to=\"/men\" \r\n                                        onClick={handleClick}>Shop now</Link>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"banner-bottom img-hover\">\r\n                        <img src={b4} alt=\"banner\" width=\"100%\" height=\"100%\"></img>\r\n                            <div className=\"blackbox-center-container\">\r\n                            <div className=\"blackbox-title blackbox-title-medium\">Free Shipping On All Orders</div>\r\n                            <div className=\"blackbox-center\">\r\n                                <Link \r\n                                    className=\"blackbox-link blackbox-link-medium a\"\r\n                                    to=\"/shop\" \r\n                                    onClick={handleClick}>Shop now</Link>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\n\r\nexport const CartContext = React.createContext();\r\n\r\nexport function CartProvider(props) {\r\n    \r\n    const [cartItems, setCartItems] = useState([])\r\n    const [wishListItems, setWishListItems] = useState([])\r\n    const [clickedCart, setClickedCart] = useState(0)\r\n    const [total, setTotal] = useState(0)\r\n\r\n    const isExists = (cartItems = [], item = {}) => {\r\n        for (let cartItem of cartItems) {\r\n            if (cartItem._id === item._id) {\r\n                return cartItem;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if (localStorage.getItem('cart')) {\r\n            setCartItems(JSON.parse(localStorage.getItem('cart')))\r\n        }\r\n        if (localStorage.getItem('wishlist')) {\r\n            setWishListItems(JSON.parse(localStorage.getItem('wishlist')))\r\n        }\r\n        setTotal(JSON.parse(localStorage.getItem('total')))\r\n    }, [])\r\n    \r\n    const addToWishList = (product = {}) => {\r\n        \r\n        const virtualCart = [...wishListItems] \r\n\r\n        if (wishListItems.length === 0) {\r\n            virtualCart.push({...product})\r\n        } else {\r\n            if (!isExists(wishListItems, product)) {\r\n                virtualCart.push({...product})\r\n            }\r\n        }\r\n        localStorage.setItem('wishlist', JSON.stringify(virtualCart))\r\n        setWishListItems(virtualCart)\r\n    }\r\n\r\n    const addToCart = (product = {}, count) => {\r\n        if (count) {\r\n            setClickedCart(clickedCart + count) // scroll on click to cart\r\n            const virtualCart = [...cartItems] \r\n            if (cartItems.length === 0) {\r\n                virtualCart.push({...product, count: count})\r\n            } else {\r\n                if (!isExists(cartItems, product)) {\r\n                    virtualCart.push({...product, count: count})\r\n                } else {\r\n                    for (let i = 0; i < virtualCart.length; i++) {\r\n                        if (virtualCart[i]._id === product._id) {\r\n                            virtualCart[i].count += count\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n            setCartItems(virtualCart)\r\n            getTotal(virtualCart)\r\n        } else {\r\n            setClickedCart(clickedCart + 1) // scroll on click to cart\r\n            const virtualCart = [...cartItems] \r\n            if (cartItems.length === 0) {\r\n                virtualCart.push({...product, count: 1})\r\n            } else {\r\n                if (!isExists(cartItems, product)) {\r\n                    virtualCart.push({...product, count: 1})\r\n                } else {\r\n                    for (let i = 0; i < virtualCart.length; i++) {\r\n                        if (virtualCart[i]._id === product._id) {\r\n                            virtualCart[i].count += 1\r\n                            break\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n            setCartItems(virtualCart)\r\n            getTotal(virtualCart)\r\n        }\r\n    }\r\n\r\n    const removeFromCart = (event) => {\r\n        const id = event.target.id\r\n        const virtualCart = [...cartItems]\r\n        for (let i=0;i<virtualCart.length;i++) {\r\n            if (virtualCart[i]._id === id) {\r\n                virtualCart.splice(i, 1)\r\n            }\r\n        }\r\n        localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n        setCartItems(virtualCart)\r\n        getTotal(virtualCart)\r\n    }\r\n\r\n    const removeFromWishList = (event) => {\r\n        const id = event.target.id\r\n        const virtualCart = [...wishListItems]\r\n        for (let i=0;i<virtualCart.length;i++) {\r\n            if (virtualCart[i]._id === id) {\r\n                virtualCart.splice(i, 1)\r\n            }\r\n        }\r\n        localStorage.setItem('wishlist', JSON.stringify(virtualCart))\r\n        setWishListItems(virtualCart)\r\n    }\r\n\r\n    const minusCount = (event) => {\r\n        const id = event.target.id\r\n        const virtualCart = [...cartItems]\r\n        for (let i=0;i<virtualCart.length;i++) {\r\n            if (virtualCart[i]._id === id) {\r\n                if (virtualCart[i].count > 1) {\r\n                    virtualCart[i].count = virtualCart[i].count - 1\r\n                }\r\n            }\r\n        }\r\n        localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n        setCartItems(virtualCart)\r\n        getTotal(virtualCart)\r\n    }\r\n    \r\n    const plusCount = (event) => {\r\n        const id = event.target.id\r\n        const virtualCart = [...cartItems]\r\n        for (let i=0;i<virtualCart.length;i++) {\r\n            if (virtualCart[i]._id === id) {\r\n                virtualCart[i].count += 1\r\n            }\r\n        }\r\n        localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n        setCartItems(virtualCart)\r\n        getTotal(virtualCart)\r\n    }\r\n\r\n    const updateCount = (event) => {\r\n        const id = event.target.id\r\n        const value = event.target.value\r\n        const virtualCart = [...cartItems]\r\n        for (let i=0;i<virtualCart.length;i++) {\r\n            if (virtualCart[i]._id === id) {\r\n                virtualCart[i].count = Number(value)\r\n            }\r\n        }\r\n        localStorage.setItem('cart', JSON.stringify(virtualCart))\r\n        setCartItems(virtualCart)\r\n        getTotal(virtualCart)\r\n    }\r\n\r\n    const getTotal = (arr) => {\r\n        let virtualTotal = 0\r\n        for (let i in arr) {\r\n            virtualTotal += arr[i].count * arr[i].productFinalPrice\r\n        }\r\n        localStorage.setItem('total', JSON.stringify(virtualTotal))\r\n        setTotal(virtualTotal)\r\n    }\r\n    \r\n    return (\r\n        <CartContext.Provider\r\n            value={{\r\n                cartItems: cartItems,\r\n                addToCart: addToCart,\r\n                wishListItems: wishListItems,\r\n                addToWishList: addToWishList,\r\n                clickedCart: clickedCart,\r\n                removeFromCart: removeFromCart,\r\n                plusCount: plusCount,\r\n                minusCount: minusCount,\r\n                removeFromWishList: removeFromWishList,\r\n                updateCount: updateCount,\r\n                total: total\r\n            }}\r\n        >\r\n            {props.children}\r\n        </CartContext.Provider>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport '../../Styles/Product.css';\r\nimport '../../App.css';\r\nimport { faCartPlus, faCheckCircle, faHeart, faMinus, faPlus, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport ReactStars from 'react-rating-stars-component';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Slider from \"react-slick\";\r\nimport \"slick-carousel/slick/slick.css\";\r\nimport \"slick-carousel/slick/slick-theme.css\";\r\nimport { CartContext } from '../../contexts/Cart'; \r\n\r\nfunction ProductQuickView(props) {\r\n\r\n    const [countCart, setCountCart] = useState(1);\r\n    const [toast, setToast] = useState(false)\r\n    const product = props.product;\r\n    \r\n    let ratingList = product.productVote.map(a => a.ratingStar); // get all rating\r\n    const totalRating = ratingList.reduce((a, b) => a + b, 0)\r\n    const averageRating = totalRating/ratingList.length;\r\n\r\n    const ratingStar = {\r\n        size: 12,\r\n        value: averageRating || 0,\r\n        edit: false,\r\n        activeColor: \"#fda32a\",\r\n        color: \"#ddd\",\r\n        isHalf: true\r\n    };\r\n\r\n    const settings = {\r\n        infinite: true,\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        autoplay: true,\r\n        autoplaySpeed: 2000\r\n    }\r\n\r\n    const { \r\n        addToCart  \r\n    } = useContext(CartContext);\r\n\r\n    const cartClick = () => {\r\n        addToCart(props.product, countCart)\r\n        setToast(true)\r\n        setTimeout(()=>{\r\n            setToast(false)\r\n        }, 2000)\r\n    }\r\n    const redirect = () => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/products/${props.product._id}`);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <div className={props.view === true ? 'ProductQuickView' : 'ProductQuickView displayNone'}>\r\n                <div \r\n                    className=\"productquickview-container flex\"\r\n                    onClick={()=>{}}\r\n                >\r\n                    <div className={toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                        <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                        Product is added to cart successfully\r\n                    </div>\r\n                    <div\r\n                        className=\"view-close flex-center\"\r\n                        onClick={()=>{ \r\n                            props.closeView()\r\n                        }}\r\n                        >\r\n                        <FontAwesomeIcon \r\n                            icon={faTimes}\r\n                            className=\"icon\"\r\n                            />\r\n                    </div>\r\n                    <div className=\"productquickview-slide\">\r\n                        <div className=\"productquickview-tag\">\r\n                            {\r\n                                product.productSale > 0 && <div className=\"productquickview-tag-item sale\">\r\n                                    {product.productSale}%\r\n                                </div>\r\n                            }\r\n                            {\r\n                                product.productSold >= 40 && <div className=\"productquickview-tag-item hot\">\r\n                                    HOT\r\n                                </div>\r\n                            }\r\n                            {\r\n                                product.productSale > 0 && <div className=\"productquickview-tag-item new\">\r\n                                    NEW\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        { props.view === true && \r\n                            <Slider {...settings}>\r\n                                {product.productImg.map((item, index) => {\r\n                                    return (\r\n                                        <img key={index} src={item} alt=\"\" className=\"view-img\"/> \r\n                                    )\r\n                                })}\r\n                            </Slider>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"product-info-detail\" style={{padding: '0', marginTop: '70px'}}>\r\n                        <div className=\"product-info-title\"\r\n                            onClick={()=>{\r\n                                props.closeView()\r\n                                redirect()\r\n                            }}>\r\n                            {product.productName}\r\n                        </div>\r\n                        <div className=\"product-info-des\" style={{width: '80%'}}>\r\n                            {product.productDes}\r\n                        </div>\r\n                        <div\r\n                            className=\"product-info-vote\"\r\n                            style={{textDecoration: 'none', color: '#111'}}\r\n                            onClick={()=>{\r\n                                props.closeView()\r\n                                redirect()\r\n                            }}\r\n                            >\r\n                            <ReactStars {...ratingStar} />\r\n                            <p style={{margin: '0'}}>\r\n                                ({ratingList.length} customer reviews)\r\n                            </p>\r\n                        </div>\r\n                        {\r\n                            product.productFinalPrice < product.productPrice &&\r\n                            <div className=\"product-info-price\" style={{marginTop: '30px'}}>\r\n                                <span style={{textDecoration: 'line-through', color: '#777', marginRight: '10px', fontSize: '12px'}}>{product.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</span>\r\n                                <span>{product.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</span>\r\n                            </div>\r\n                        }\r\n                        {\r\n                            product.productFinalPrice === product.productPrice &&\r\n                            <div className=\"product-info-price\" style={{marginTop: '30px'}}>\r\n                                {product.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ\r\n                            </div>\r\n                        }\r\n                        <div className=\"product-info-cart flex\">\r\n                            <div className=\"count-cart noselect\">\r\n                                <div className=\"count-cart-item left flex-center\"\r\n                                    onClick={() => { \r\n                                        if (countCart > 1) setCountCart(countCart-1) \r\n                                    }}\r\n                                    >\r\n                                    <FontAwesomeIcon icon={faMinus}/>\r\n                                </div> \r\n                                <div className=\"count-cart-item text flex-center\">\r\n                                    <form \r\n                                        onSubmit={(event)=>{\r\n                                            event.preventDefault()\r\n                                        }}\r\n                                    >\r\n                                        <input \r\n                                            type=\"text\" \r\n                                            value={countCart}\r\n                                            onChange={e => setCountCart(Number(e.target.value))}\r\n                                        />\r\n                                    </form>\r\n                                </div>\r\n                                <div \r\n                                    className=\"count-cart-item right flex-center\"\r\n                                    onClick={() => { setCountCart(countCart+1) }}\r\n                                    >\r\n                                    <FontAwesomeIcon icon={faPlus}/>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"product-info-addtocart flex-center btn\"\r\n                                onClick={cartClick}\r\n                            >\r\n                                <FontAwesomeIcon icon={faCartPlus}/>\r\n                                <p>Add to cart</p>\r\n                            </div>\r\n                            <div \r\n                                className=\"product-info-wishlist flex-center\">\r\n                                <FontAwesomeIcon icon={faHeart}></FontAwesomeIcon>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"product-info-line\"></div>\r\n                        <div className=\"product-info-cate flex\">\r\n                            <p>Category:</p>\r\n                            <p\r\n                                onClick={()=>{\r\n                                    props.history.push(`/${product.productSex === 'Man' ? 'men' : 'women'}/${product.productCate.toLowerCase().split(' ').join('-')}`)\r\n                                }}\r\n                            >{product.productCate}</p>\r\n                        </div>\r\n                        <div className=\"product-info-line\"></div>\r\n                    </div>\r\n                \r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(ProductQuickView)","import React, { useContext, useState } from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCartPlus, faEye, faHeart } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport { CartContext } from '../../contexts/Cart'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ProductOverlay(props) {\r\n\r\n    const [loading, setLoading] = useState(0)\r\n\r\n    const { \r\n        addToCart,\r\n        addToWishList\r\n    } = useContext(CartContext);\r\n\r\n    const cartClick = () => {\r\n        setLoading(1)\r\n        setTimeout(()=>{\r\n            setLoading(0)\r\n            addToCart(props.product)\r\n        }, 500)\r\n    }\r\n\r\n    const wishListClick = () => {\r\n        setLoading(2)\r\n        setTimeout(()=>{\r\n            setLoading(0)\r\n            addToWishList(props.product)\r\n        }, 500)\r\n    }\r\n\r\n    const redirect = (event) => {\r\n        if (event.target.id === \"overlay\") {\r\n            // window.scrollTo(0,0);\r\n            props.history.push(`/products/${props.product._id}`);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div \r\n            className=\"product-overlay\"\r\n            id=\"overlay\"\r\n            onClick={redirect}\r\n        >\r\n            <div className=\"product-icon-box flex-center icon-cart btn\"\r\n                onClick={cartClick} \r\n            >\r\n                { loading === 1 && \r\n                    <div className=\"loading-icon\"></div>\r\n                }\r\n                { loading !== 1 &&  <FontAwesomeIcon icon={faCartPlus} style={{marginRight: '3px'}}/> }\r\n            </div>\r\n            <div className=\"product-icon-box flex-center icon-wishlist btn\"\r\n                onClick={wishListClick}\r\n            >\r\n                { loading === 2 && \r\n                    <div className=\"loading-icon\"></div>\r\n                }\r\n                { loading !== 2 && <FontAwesomeIcon icon={faHeart}/>}\r\n            </div>\r\n            <div\r\n                className=\"product-icon-box flex-center icon-view btn\"\r\n                onClick={props.openView}\r\n                >\r\n                <FontAwesomeIcon icon={faEye}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(ProductOverlay);","import React, { useState } from 'react';\r\nimport '../../App.css';\r\nimport ProductQuickView from './ProductQuickView';\r\nimport ProductOverlay from './ProductOverlay'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nfunction Product(props) {\r\n\r\n    const [hover, setHover] = useState(false);\r\n    const [view, setView] = useState(false);\r\n    const product = props.product;\r\n\r\n    const closeView = (event) => {\r\n        document.body.style.overflow = 'unset';\r\n        setView(false)\r\n    }\r\n    const openView = () => {\r\n        setView(true)\r\n    }\r\n    if(view){\r\n        document.body.style.overflow = 'hidden';\r\n    } \r\n\r\n    const redirect = (target) => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/products/${product._id}`);\r\n    }\r\n\r\n    let productDate = new Date(product.productDate) \r\n    let today = new Date()\r\n \r\n    return(\r\n        <div \r\n            className={`Product opa`}\r\n            style={{ \r\n                width: `calc(${props.width} - 30px)`,\r\n                height: `${props.parentHeight}`,\r\n            }}\r\n        >\r\n            <ProductQuickView \r\n                view={view} \r\n                closeView={closeView}\r\n                product={product}\r\n            />\r\n            <div className=\"product-img\"\r\n                style={{ \r\n                    height: `${props.height}`,\r\n                }}\r\n                onMouseOver={()=> {setHover(true)}}\r\n                onMouseOut={()=> {setHover(false)}}\r\n                >\r\n                <div className=\"product-tag\">\r\n                    {\r\n                        product.productSale > 0 && <div className=\"product-tag-item sale\">\r\n                            {product.productSale}%\r\n                        </div>\r\n                    }\r\n                    {\r\n                        product.productSold > 40 && <div className=\"product-tag-item hot\">\r\n                            HOT\r\n                        </div>\r\n                    }\r\n                    {\r\n                        (today - productDate)/ (1000 * 3600 * 24) < 10 && <div className=\"product-tag-item new\">\r\n                            NEW\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div    \r\n                    className=\"product-img-bg\"\r\n                    onClick={redirect}>\r\n                    <img \r\n                        className=\"\"\r\n                        src={product.productImg[0]} alt=\"\"></img>\r\n                    <img \r\n                        className={hover === false ? \"img-defalt hide\" : \"img-defalt\"}\r\n                        src={product.productImg[1]} alt=\"\"></img>\r\n                </div>\r\n                <ProductOverlay\r\n                    product={product}\r\n                    openView={openView}\r\n                />\r\n            </div>\r\n            <div className=\"product-title\">\r\n                {product.productName}\r\n            </div>\r\n            {\r\n                product.productFinalPrice < product.productPrice &&\r\n                <div className=\"product-price flex-center\">\r\n                    <p style={{textDecoration: 'line-through', color: '#777', marginRight: '10px'}}>{product.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</p>\r\n                    <p>{product.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</p>\r\n                </div>\r\n            }\r\n            {\r\n                product.productFinalPrice === product.productPrice &&\r\n                <div className=\"product-price\">\r\n                    <p>{product.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</p>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Product);","import React, { useState } from 'react';\r\nimport '../../App.css';\r\nimport Product from '../Product/Product.js'; \r\n\r\nexport default function HomeTabContent(props) {\r\n\r\n    const [limit, setLimit] = useState(10);\r\n    const [loading, setLoading] = useState(false);\r\n    const products = props.products;\r\n    const height = props.height;\r\n\r\n    const handleClick = () => {\r\n        setLoading(true)\r\n        setTimeout(() => {\r\n            setLoading(false)\r\n            setLimit(limit + 5);\r\n        }, 1500);\r\n    }\r\n\r\n    //Limit products\r\n    const limitProducts = products.slice(0, limit);\r\n    \r\n    return(\r\n        <div>\r\n            <div className=\"BestSeller\" style={{minHeight: `${height}px`}}>\r\n                {limitProducts.map(function(item, index) {\r\n                    return (\r\n                        <Product \r\n                            key={index}\r\n                            product={item}\r\n                            index={index}\r\n                        />\r\n                    )\r\n                })}    \r\n                {\r\n                    limitProducts.length === 0 &&\r\n                    <div style={{\r\n                        textAlign: 'center',\r\n                        width: '100%',\r\n                        textTransform: 'capitalize',\r\n                        marginTop: '150px'\r\n                    }}>\r\n                        there's nothing here yet\r\n                    </div>\r\n                }    \r\n            </div>\r\n            {(products.length > 10 && products.length >= limit) && \r\n                <div className=\"tab-loadmore flex-center\">\r\n                    <div \r\n                        className=\"tab-loadmore-btn btn\"\r\n                        onClick={handleClick}\r\n                        >\r\n                        Load More\r\n                    </div>\r\n                    {loading === true &&  \r\n                        <div className=\"tab-loadmore-btn tab-loadmore-loading btn-nothover\">\r\n                            <div className=\"loading-icon\"></div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport HomeTabContent from \"./HomeTabContent.js\"\r\nimport axios from 'axios'\r\n\r\nexport default function HomeTab() {\r\n    const [currentTab, setCurrentTab] = useState(1)\r\n    const [isActive, setIsActive] = useState(1)\r\n    const [products, setProducts] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n            }\r\n        )\r\n    },[])\r\n    \r\n    //Get product sold\r\n    let height = 550;\r\n    if (products.length) {\r\n        products.sort((a,b) =>  b.productSold - a.productSold);\r\n        if (products.length <= 5) {\r\n            height = 260;\r\n        }\r\n    }\r\n\r\n    const dateProductVirtual = [...products];\r\n    const dateProduct = [];\r\n    if (dateProductVirtual) {\r\n        dateProductVirtual.sort((a,b)=> new Date(b.productDate) - new Date(a.productDate));\r\n        for (let i in dateProductVirtual) {\r\n            const today = new Date();\r\n            const productDate = new Date(dateProductVirtual[i].productDate);\r\n            if (((today - productDate)/(1000 * 3600 * 24)) < 10) {\r\n                dateProduct.push(dateProductVirtual[i])\r\n            }\r\n        }\r\n    }\r\n\r\n    // Get product selling\r\n    const sellingProduct = []\r\n    if (products.length) {\r\n        for (let i = 0; i < products.length; i++) {\r\n            if (Number(products[i].productSale) > 0) {\r\n                sellingProduct.push(products[i]);\r\n            }\r\n        }\r\n        if (sellingProduct.length <= 5) {\r\n            height = 360;\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"HomeTab\">\r\n            <div className=\"home-tab flex-center\">\r\n                <p onClick={() => {setCurrentTab(1); setIsActive(1)}} className={isActive === 1 ? \"home-tab-active\" : \"\"}>Best Sellers</p>\r\n                <p onClick={() => {setCurrentTab(2); setIsActive(2)}} className={isActive === 2 ? \"home-tab-active\" : \"\"}>New Products</p>\r\n                <p onClick={() => {setCurrentTab(3); setIsActive(3)}} className={isActive === 3 ? \"home-tab-active\" : \"\"}>Sales Products</p>\r\n            </div>\r\n            <div className=\"tab-content\">\r\n                { // best seller\r\n                    currentTab === 1 && \r\n                    <HomeTabContent \r\n                        products={products}\r\n                        height={height} \r\n                    />\r\n                }\r\n                { // new product\r\n                    currentTab === 2 && \r\n                    <HomeTabContent \r\n                        products={dateProduct}\r\n                        height={height}\r\n                    />\r\n                }\r\n                { // sale product\r\n                    currentTab === 3 && \r\n                    <HomeTabContent \r\n                        products={sellingProduct}\r\n                        height={height}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport '../../App.css';\r\n\r\nfunction Collection(props) {\r\n    \r\n    const redirect = (event) => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/collection/${event.target.id}`);\r\n    }\r\n\r\n    return( \r\n        <div className=\"Collection\">\r\n            {props.collection.length > 0 &&\r\n                <div className=\"collection-container\">\r\n                    <div className=\"collection-box\">\r\n                        <img src=\"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/woman.jpg\" alt=\"\"></img>\r\n                        <div className=\"collection-overlay flex-center\">\r\n                            <div className=\"collection-title\">{props.collection[4].collectionName.toLowerCase()}</div>\r\n                            <div \r\n                                id={props.collection[4]._id}\r\n                                className=\"collection-link\"\r\n                                onClick={redirect}\r\n                            >Discover Now</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"collection-box\">\r\n                        <img src=\"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/man.jpg\" alt=\"\"></img>\r\n                        <div className=\"collection-overlay flex-center\">\r\n                            <div className=\"collection-title\">{props.collection[5].collectionName.toLowerCase()}</div>\r\n                            <div \r\n                                id={props.collection[5]._id}\r\n                                className=\"collection-link\"\r\n                                onClick={redirect}\r\n                            >Discover Now</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    ) \r\n}\r\nexport default withRouter(Collection)\r\n","import React, { } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport '../../App.css';\r\n\r\nfunction News(props) {\r\n\r\n    const redirect = (target) => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/news/${news._id}`);\r\n    }\r\n\r\n    const news = props.news;\r\n    const cateLink = (`/news/category/${news.newCate}`).toLowerCase()\r\n\r\n    const date = new Date(news.newTime)\r\n    const day = date.getDate(date)\r\n    const month = date.getMonth(date) + 1\r\n    const year = date.getFullYear(date)\r\n    return(\r\n        <div \r\n            className=\"News\">\r\n            <div className=\"news-img\"\r\n                onClick={redirect}>\r\n                <img src={news.newImg} alt=\"\"></img>\r\n            </div>\r\n            <div className=\"news-right\">\r\n                <div className=\"news-info flex-center\">\r\n                    <div className=\"news-time\">{day}.{month}.{year}</div>\r\n                    <Link to={cateLink} className=\"news-cate\" onClick={()=>{window.scrollTo(0,0);}}>{news.newCate}</Link>\r\n                </div>\r\n                <div \r\n                    className=\"news-title-box\"\r\n                    onClick={redirect}>\r\n                    {news.newTitle}\r\n                </div>\r\n                <div className=\"news-content\"\r\n                    dangerouslySetInnerHTML={{__html: news.newContent}}>\r\n                </div>\r\n                <div \r\n                    className=\"news-link flex-center\"\r\n                    onClick={redirect}>\r\n                    <p>Read More</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(News);\r\n","import React, { useState, useEffect } from 'react';\r\nimport '../../App.css';\r\nimport News from '../News/News.js'\r\nimport classNames from 'classnames'\r\nimport axios from 'axios'\r\n\r\nexport default function FashionNews(props) {\r\n    const [news, setNews] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const newsPerPage = 3;\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/news`)\r\n            .then(res => {\r\n                setNews(res.data)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLastNews = currentPage * newsPerPage;\r\n    const indexOfFirstNews = indexOfLastNews - newsPerPage;\r\n    const currentNews = news.slice(indexOfFirstNews, indexOfLastNews);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(news.length / newsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (currentPage === 2) {\r\n        pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n        } else if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n            pages.push(currentPage -1, currentPage, currentPage + 1);\r\n        } else if (currentPage === pageNumbers.length - 1) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div className=\"FashionNews\">\r\n            <div className=\"news-container\">\r\n                <div className=\"news-title\">Fashion News</div>\r\n                <div className=\"news-box\">\r\n                    { currentNews.map(function(item, index) {\r\n                        return (\r\n                            <News \r\n                                news={item}\r\n                                key={index}\r\n                            />\r\n                        )                        \r\n                    })}\r\n                </div>\r\n                <div className=\"pagination-container flex-center\">\r\n                    <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                        <div id=\"-1\" className={classNames({\r\n                            pagnigation_disable: currentPage === 1\r\n                        })}>←</div>\r\n                        { pages.map(function(number, index) { \r\n                            if (currentPage === number) {\r\n                                return (\r\n                                    <div key={number} id={number} className=\"pagnigation-active\">\r\n                                        {number}\r\n                                    </div>\r\n                                )\r\n                            } else {\r\n                                return (\r\n                                <div \r\n                                    key={number}\r\n                                    id={number}\r\n                                    >\r\n                                        {number}\r\n                                </div>\r\n                                )\r\n                            } \r\n                        })}\r\n                        <div id=\"999\" className={classNames({\r\n                            pagnigation_disable: currentPage === pageNumbers.length\r\n                        })}>→</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"news-line\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useRef, useState } from 'react';\r\nimport '../../App.css';\r\nimport axios from 'axios'\r\n\r\nexport default function Newsletter () {\r\n\r\n    const inputEmailRef = useRef();\r\n    const [emailInput, setEmailInput] = useState(\"\");\r\n    const handleOnChange = (event) => {\r\n        setEmailInput(event.target.value)\r\n    }\r\n    const handleOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        axios.post('http://pe.heromc.net:4000/email', {\r\n            subscriber: emailInput\r\n        })\r\n        .then(res => {\r\n            alert(res.data)\r\n        })\r\n        .catch(err => {\r\n            alert(err.response.data)\r\n        })\r\n        inputEmailRef.current.value = \"\"\r\n    }\r\n\r\n\r\n    return(\r\n        <div className=\"Newsletter\">\r\n            <div className=\"newsletter-container flex-center\">\r\n                <div className=\"newsletter-title\">Newsletter</div>\r\n                <div className=\"newsletter-small\">Get timely updates from your favorite products</div>\r\n                <form className=\"newsletter-form\" onSubmit={handleOnSubmit}>\r\n                    <input \r\n                        className=\"newsletter-input\" \r\n                        placeholder=\"Enter your email address\" \r\n                        type=\"email\"\r\n                        onChange={handleOnChange}\r\n                        ref={inputEmailRef}\r\n                    ></input>\r\n                    <button className=\"newsletter-btn btn\">Subcribe</button>\r\n                </form>\r\n                <div className=\"newsletter-line\"></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// import {  faFacebookF } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {  faFacebookF, faTwitter, faInstagram, faPinterest, faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nexport default function Footer() {\r\n\r\n    const handleClick = () => {\r\n        window.scrollTo(0,0)\r\n    }\r\n\r\n    return(\r\n        <div className=\"Footer\">\r\n            <div className=\"footer-container\">\r\n                <div className=\"footer-left\">\r\n                    <p className=\"cr\">©2021 Minh Thanh</p>\r\n                    <Link to=\"/news\" onClick={handleClick}>News</Link>\r\n                    <a href=\"/contact\" onClick={handleClick}>FAQs</a>\r\n                    <Link to=\"/contact\" onClick={handleClick}>Contact us</Link>\r\n                </div>\r\n                <div className=\"footer-right\">\r\n                    <FontAwesomeIcon icon={faTwitter} className=\"cart-icon-footer\"/>\r\n                    <FontAwesomeIcon icon={faFacebookF} className=\"cart-icon-footer\"/>\r\n                    <FontAwesomeIcon icon={faInstagram} className=\"cart-icon-footer\"/>\r\n                    <FontAwesomeIcon icon={faPinterest} className=\"cart-icon-footer\"/>\r\n                    <FontAwesomeIcon icon={faGoogle} className=\"cart-icon-footer\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport '../../Styles/Animation.css';\r\nimport classNames from 'classnames';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Div100vh from 'react-div-100vh';\r\n\r\nfunction Banner (props) {\r\n    const [currentBanner, setCurrentBanner] = useState(1);\r\n    const collection = props.collection;\r\n\r\n    useEffect(()=>{\r\n        const slide = setInterval(() => {\r\n            setCurrentBanner(currentBanner + 1)\r\n        }, 5000);\r\n        return() => {\r\n            clearInterval(slide)\r\n        }\r\n    }, [currentBanner])\r\n\r\n    if (currentBanner > 3) {\r\n        setCurrentBanner(1)\r\n    }\r\n\r\n    const redirect = (event) => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/collection/${event.target.id}`);\r\n    }\r\n\r\n    return(\r\n        <div className=\"Banner flex-center\">\r\n            <Div100vh className=\"banner-container\">\r\n                <div className={classNames('banner-first flex-center', {\r\n                    hide: currentBanner !== 1\r\n                })}>\r\n                    <div>\r\n                        <div className={currentBanner === 1 ? \"banner-title fadeInDown\" :\"banner-title\"}>\r\n                            New Arrivals\r\n                        </div>\r\n                    </div>\r\n                    { collection.length > 0 &&\r\n                        <div className=\"flex-center\">\r\n                            <div>\r\n                                <div  \r\n                                    id={collection[7]._id}\r\n                                    onClick={redirect}\r\n                                    className={currentBanner === 1 ? \"banner-link fadeInLeft\" :\"banner-link\"}>\r\n                                    {collection[7].collectionName}\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                            <div \r\n                                id={collection[0]._id}\r\n                                onClick={redirect}\r\n                                className={currentBanner === 1 ? \"banner-link fadeInRight\" :\"banner-link\"}>\r\n                                    {collection[0].collectionName}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className={classNames('banner-second flex-center', {\r\n                    hide: currentBanner !== 2\r\n                })}>\r\n                    { collection.length > 0 &&\r\n                        <div>\r\n                            <div className={currentBanner === 2 ? \"banner-title fadeInDown\" :\"banner-title\"}>\r\n                                {collection[1].collectionName}\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    { collection.length > 0 &&\r\n                        <div>\r\n                            <div>\r\n                                <div \r\n                                    id={collection[1]._id}\r\n                                    onClick={redirect}\r\n                                    className={currentBanner === 2 ? \"banner-link fadeInUp\" :\"banner-link\"} style={{marginLeft: '190px'}}>\r\n                                    Shop now\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className={classNames('banner-third flex-center', {\r\n                    hide: currentBanner !== 3\r\n                })}>\r\n                    { collection.length > 0 &&\r\n                        <div>\r\n                            <div className={currentBanner === 3 ? \"banner-title fadeInDown\" :\"banner-title\"}>\r\n                                {collection[3].collectionName}\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    { collection.length > 0 &&\r\n                        <div className=\"flex-center\">\r\n                            <div>\r\n                                <div \r\n                                    id={collection[3]._id}\r\n                                    onClick={redirect}\r\n                                    className={currentBanner === 3 ? \"banner-link fadeInUp\" :\"banner-link\"}>\r\n                                    Shop now\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Div100vh>\r\n            <div className=\"choose-slide flex-center\">\r\n                <div \r\n                    className={classNames('choose-line', {\r\n                        choose_line_active: currentBanner === 1\r\n                    })}\r\n                    onClick={()=> {setCurrentBanner(1)}}\r\n                ></div>\r\n                <div \r\n                    className={classNames('choose-line', {\r\n                        choose_line_active: currentBanner === 2\r\n                    })}\r\n                    onClick={()=> {setCurrentBanner(2)}}\r\n                ></div>\r\n                <div \r\n                    className={classNames('choose-line', {\r\n                        choose_line_active: currentBanner === 3\r\n                    })}\r\n                    onClick={()=> {setCurrentBanner(3)}}\r\n                ></div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Banner);","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCartPlus, faCheckCircle, faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios'\r\nimport { CartContext } from '../../contexts/Cart';\r\n\r\nexport default function Search(props) {  \r\n\r\n    const [products, setProducts] = useState([])\r\n    const [constProducts, setConstProducts] = useState([])\r\n    const [searchInput, setSearchInput] = useState(\"\")\r\n    const [toast, setToast] = useState(false)\r\n\r\n    useEffect(()=> {\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n                setConstProducts(res.data)\r\n            }\r\n        )\r\n    }, [])\r\n\r\n    const search = (event) => {\r\n        const value = event.target.value\r\n        setSearchInput(value)\r\n        const search = []\r\n        for (let i in constProducts) {\r\n            if ((constProducts[i].productName).toLowerCase().includes(searchInput)) {\r\n                search.push(constProducts[i])\r\n            }\r\n        }\r\n        setProducts(search)\r\n    }\r\n\r\n    const { removeFromWishList, addToCart } = useContext(CartContext)\r\n\r\n    const cartClick = (event) => {\r\n        const id = event.target.id\r\n        axios.get(`http://pe.heromc.net:4000/products/${id}`)\r\n            .then(res => {\r\n                addToCart(res.data)\r\n            }\r\n        )\r\n        setToast(true)\r\n        setTimeout(()=>{\r\n            setToast(false)\r\n        }, 2000)\r\n    }\r\n\r\n    return(\r\n        <div className={props.searchOpen === false ? 'Search displayNone' : 'Search'}>\r\n            <div className={toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Product is added to cart successfully\r\n            </div>\r\n            <div className=\"search-header flex\">\r\n                <div className=\"search-title\">Search</div>\r\n                <div\r\n                    className=\"search-close\"\r\n                    onClick={props.clickToClose}\r\n                    >\r\n                    <FontAwesomeIcon \r\n                        icon={faTimes}\r\n                        className=\"icon\"\r\n                        />\r\n                </div>\r\n            </div>\r\n            <div className={props.searchOpen === false ? '' : 'fadeIn'}> \r\n                <div className=\"search-form\">\r\n                    <form className=\"flex\">\r\n                        <FontAwesomeIcon icon={faSearch} className=\"icon\"/>\r\n                        <input \r\n                            placeholder=\"Search\" \r\n                            onChange={search}\r\n                            value={searchInput}\r\n                        />\r\n                        <FontAwesomeIcon icon={faTimes} className=\"icon\"/>\r\n                    </form>\r\n                </div>\r\n                { (products.length > 0 && searchInput !== \"\") && \r\n                    products.map((item, index) => {\r\n                        return (\r\n                            <div className=\"cart-item flex\" key={index}>\r\n                                <div className=\"cart-product-img\">\r\n                                    <img src={item.productImg[0]} width=\"80px\" height=\"100%\" alt=\"\"></img>\r\n                                </div>\r\n                                <div className=\"cart-product-mobile flex\">\r\n                                    <div className=\"cart-product-name flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productName}</div>\r\n                                    <div className=\"cart-product-price wl-mb-price flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                    \r\n                                    <div className=\"product-info-addtocart wl-mb-addtocart flex-center btn\"\r\n                                        onClick={(event)=> {\r\n                                            cartClick(event)\r\n                                            removeFromWishList(event)\r\n                                        }}\r\n                                        id={item._id}\r\n                                    >\r\n                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faCartPlus}/>\r\n                                        <p style={{pointerEvents: 'none'}}>Add to cart</p>\r\n                                    </div> \r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    ) \r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport const UserContext = React.createContext();\r\n\r\nexport function UserProvider(props) {\r\n    \r\n    const [userInfo ,setUserInfo] = useState(null)\r\n\r\n    const setUserInfoFunc = (user) => {\r\n        setUserInfo(Object.assign(user, userInfo));\r\n    };\r\n\r\n    return (\r\n        <UserContext.Provider\r\n            value={{\r\n                userInfo: userInfo,\r\n                setUserInfoFunc: setUserInfoFunc\r\n            }}\r\n        >\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport '../../Styles/Account.css'\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom'\r\nimport { UserContext } from '../../contexts/User'\r\nimport axios from 'axios'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction AccountInfo(props) {\r\n\r\n   const [tinh, setTinh] = useState([])\r\n   const [huyen, setHuyen] = useState([])\r\n   const { \r\n      userInfo,\r\n      setUserInfoFunc\r\n   } = useContext(UserContext);\r\n\r\n   const [tabId, setTabId] = useState(1);\r\n   const [userName, setUserName] = useState(\"\")\r\n   const [userEmail, setUserEmail] = useState(\"\")\r\n   const [userPassword, setUserPassword] = useState(\"\")\r\n   const [userPhone, setUserPhone] = useState(\"\")\r\n   const [userAvt, setUserAvt] = useState(\"\")\r\n   const [file, setFile] = useState(\"\")\r\n   const [provinceId, setProvinceId] = useState(\"\")\r\n   const [userTinh, setUserTinh] = useState(null)\r\n   const [userHuyen, setUserHuyen] = useState(null)\r\n   const [userAddress, setUserAddress] = useState(null)\r\n   const [toast, setToast] = useState(false)\r\n   const [orderList, setOrderList] = useState([])\r\n   \r\n\r\n   useEffect(()=>{  \r\n      if (userInfo) {\r\n         setUserName(userInfo.userName)\r\n         setUserEmail(userInfo.userEmail)\r\n         setUserPhone(userInfo.userPhone)\r\n         setUserAvt(userInfo.userAvt)\r\n         setUserAddress(userInfo.userAddress) \r\n         if (userInfo.userTinh !== \"\") {\r\n            axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n               .then(res => {\r\n                  setTinh(res.data[0].tinh)\r\n                  setHuyen(res.data[0].huyen)\r\n                  res.data[0].tinh.filter((item)=>{ \r\n                     if (userInfo.userTinh === item.name) {\r\n                        setProvinceId(item.id)\r\n                     }\r\n                     return null\r\n                  })\r\n               }\r\n            ) \r\n            setUserTinh(userInfo.userTinh)\r\n         } else {\r\n            axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n                .then(res => {\r\n                    setTinh(res.data[0].tinh)\r\n                    setHuyen(res.data[0].huyen) \r\n                }\r\n            )   \r\n         }\r\n         if (userInfo.userHuyen !== \"\") {\r\n               setUserHuyen(userInfo.userHuyen)\r\n         }\r\n         axios.get(`http://pe.heromc.net:4000/order`)\r\n            .then(res => {\r\n               const orderList2 = []\r\n               for (let i in res.data) {\r\n                  if (res.data[i].orderEmail === userInfo.userEmail) {\r\n                     orderList2.push(res.data[i])\r\n                  }\r\n               }\r\n               setOrderList(orderList2)\r\n            }\r\n         )\r\n      }\r\n   },[userInfo])\r\n\r\n   const submitInfo = (event) => {\r\n      event.preventDefault()\r\n      const config = {\r\n            headers: {\r\n               'content-type': 'multipart/form-data'\r\n            }\r\n      }\r\n      const formData = new FormData();\r\n      const imageArr = Array.from(file);\r\n      imageArr.forEach(image => {\r\n            formData.append('userAvt', image);\r\n      })\r\n      formData.append(\"userName\", userName);\r\n      formData.append(\"userEmail\", userEmail);\r\n      formData.append(\"userPassword\", userPassword);\r\n      formData.append(\"userPhone\", userPhone);\r\n      formData.append(\"userTinh\", userTinh);\r\n      formData.append(\"userHuyen\", userHuyen);\r\n      formData.append(\"userAddress\", userAddress);\r\n      localStorage.removeItem('token')\r\n      axios.post(`http://pe.heromc.net:4000/users/update/${userInfo._id}`, formData, config)\r\n            .then(res => {\r\n               setUserInfoFunc(res.data.user);\r\n               localStorage.setItem('token', res.data.token);\r\n            })\r\n            .catch(err => {\r\n               console.log(err.response.data);\r\n            })\r\n      \r\n      setToast(true)\r\n      setTimeout(()=>{\r\n            setToast(false)\r\n      }, 2000)\r\n   }  \r\n\r\n   return(\r\n      <div className='AccountInfo'>\r\n            <div className=\"accountinfo-container flex\">\r\n\r\n               <div className={toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                  <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                  Change account infomation success!\r\n               </div>\r\n               <div className=\"accountinfo-menu\">\r\n                  <div className=\"accountinfo-avt flex\">\r\n                        <img \r\n                           style={{borderRadius: '50%'}}\r\n                           className=\"accountinfo-avt-img\"\r\n                           src={userInfo.userAvt} \r\n                           alt=\"\"\r\n                           width=\"48px\"\r\n                           height=\"48px\"\r\n                        ></img>\r\n                        <div className=\"accountinfo-avt-name\">\r\n                           {userInfo.userName}\r\n                        </div>\r\n                  </div>\r\n                  <div className=\"accountinfo-menu-list\">\r\n                        <div \r\n                           className={tabId === 1 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \r\n                           onClick={()=> setTabId(1)}>My account</div>\r\n                        <div \r\n                           className={tabId === 2 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"} \r\n                           onClick={()=> setTabId(2)}>Orders</div>\r\n                        <div \r\n                           className={tabId === 3 ? \"accountinfo-active accountinfo-menu-item flex\" : \"accountinfo-menu-item flex\"}  \r\n                           onClick={()=> {\r\n                              localStorage.removeItem('user-id')\r\n                              localStorage.removeItem('token');\r\n                              sessionStorage.removeItem('chat-id')\r\n                              window.location.reload(false); \r\n                              localStorage.removeItem('total')\r\n                              localStorage.removeItem('cart')  \r\n                           }}\r\n                           >Log out</div>\r\n                  </div>\r\n               </div>\r\n               {\r\n                  tabId === 1 && \r\n                  <div className=\"accountinfo-main\">\r\n                     <div className=\"accountinfo-title\">\r\n                        <p>Account Infomation</p>\r\n                        <p>Manage account information for account security</p>\r\n                     </div>\r\n                     <div className=\"accountinfo-body flex\">\r\n                        <form onSubmit={submitInfo} encType=\"multipart/form-data\" >\r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Name</div>\r\n                              <div className=\"dashboard-right create-box-right\">\r\n                                 <input \r\n                                    type=\"text\" name=\"title\"  \r\n                                    value={userName}\r\n                                    onChange={(event)=>{\r\n                                       setUserName(event.target.value)\r\n                                    }} \r\n                                 ></input>\r\n                              </div>\r\n                           </div>\r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Images </div>\r\n                              <div className=\"dashboard-right create-box-right\"> \r\n                                 <input \r\n                                    onChange={(event) => {\r\n                                       const files = event.target.files;\r\n                                       setUserAvt(URL.createObjectURL(files[0]))\r\n                                       const fileArr = Array.prototype.slice.call(files)\r\n                                       fileArr.forEach(item=>{\r\n                                          setFile(file=>[...file, item])\r\n                                       })\r\n                                    }}\r\n                                    type=\"file\"\r\n                                    name=\"newsImg\"\r\n                                    className=\"noborder\"\r\n                                    multiple=\"multiple\"\r\n                                    style={{height: '30px'}}\r\n                                 ></input>\r\n                                 <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}> \r\n                                    <img  \r\n                                       className=\"accountinfo-editavt-img\"\r\n                                       src={userAvt} \r\n                                       alt=\"\"\r\n                                       width=\"80px\"\r\n                                       height=\"80px\"\r\n                                    ></img>\r\n                                 </div>\r\n                              </div>\r\n                           </div>\r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Email</div>\r\n                              <div className=\"dashboard-right create-box-right\">\r\n                                 <input \r\n                                    type=\"text\" \r\n                                    value={userEmail}\r\n                                    onChange={(event)=>{\r\n                                       setUserEmail(event.target.value)\r\n                                    }}\r\n                                 ></input>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Phone number</div>\r\n                              <div className=\"dashboard-right create-box-right\">\r\n                                 <input \r\n                                    type=\"text\" \r\n                                    value={userPhone}\r\n                                    onChange={(event)=>{\r\n                                       setUserPhone(event.target.value)\r\n                                    }}\r\n                                 ></input>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Province</div>\r\n                              <div className=\"dashboard-right create-box-right\"> \r\n                                 <select \r\n                                    className=\"input\"\r\n                                    value={userTinh || ''}\r\n                                    onChange={(event)=>{\r\n                                       setProvinceId(event.target.selectedIndex)\r\n                                       setUserTinh(event.target.value)\r\n                                    }}\r\n                                 >\r\n                                    <option defaultValue disabled>select a province</option>\r\n                                    {tinh.map((item, index) => {\r\n                                       return (\r\n                                          <option \r\n                                                key={index}\r\n                                                value={item.name}\r\n                                          >{item.name}</option>\r\n                                       )\r\n                                    })}\r\n                                 </select>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">District</div>\r\n                              <div className=\"dashboard-right create-box-right\"> \r\n                                 <select \r\n                                       className=\"input\"\r\n                                       value={userHuyen || ''}\r\n                                       onChange={(event)=>{\r\n                                          setUserHuyen(event.target.value)\r\n                                       }}\r\n                                 >\r\n                                       <option defaultValue disabled>select a district</option>\r\n                                       {huyen.map((item, index) => { \r\n                                          if (item.tinh_id === provinceId) { \r\n                                             return (\r\n                                                   <option\r\n                                                      key={index}\r\n                                                      value={item.name}\r\n                                                      >{item.name}</option>\r\n                                             )\r\n                                          }\r\n                                          return null\r\n                                       })}\r\n                                 </select>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">Address</div>\r\n                              <div className=\"dashboard-right create-box-right\"> \r\n                                 <input \r\n                                    type=\"text\"\r\n                                    className=\"input\"\r\n                                    name=\"phone\" \r\n                                    value={userAddress || ''}\r\n                                    onChange={(event)=>{\r\n                                       setUserAddress(event.target.value)\r\n                                    }} \r\n                                 ></input>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"create-box-row account-box-row flex\">\r\n                              <div className=\"dashboard-left create-box-left flex\">New password</div>\r\n                              <div className=\"dashboard-right create-box-right\"> \r\n                                 <input \r\n                                       type=\"password\"\r\n                                       className=\"input\"\r\n                                       name=\"email\" \r\n                                       value={userPassword}\r\n                                       onChange={(event)=>{\r\n                                          setUserPassword(event.target.value)\r\n                                       }} \r\n                                 ></input>\r\n                              </div>\r\n                           </div> \r\n                           <div className=\"accountinfo-btn-row\">\r\n                              <button className=\"accountinfo-btn btn\">Update infomation</button>\r\n                           </div>\r\n                     </form>\r\n                     </div> \r\n                  </div>\r\n               }\r\n               {\r\n                  tabId === 2 &&  \r\n                  <div className=\"accountinfo-main\">\r\n                     <div className=\"accountinfo-title\">\r\n                        <p>Orders infomation</p>\r\n                        <p>List of your orders</p>\r\n                     </div>      \r\n                     <div className=\"dashboard-table-orderlist\">\r\n                        <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                           <tbody>\r\n                              <tr className=\"dashboard-order\"> \r\n                                 <th className=\"table-new-title table-order-title\"> \r\n                                    Shipping info\r\n                                 </th> \r\n                                 <th className=\"table-new-title table-order-title\"> \r\n                                    Date\r\n                                 </th> \r\n                                 <th className=\"table-new-title table-order-title\"> \r\n                                    Payment Method\r\n                                 </th> \r\n                                 <th className=\"table-new-title table-order-title\"> \r\n                                    Items\r\n                                 </th> \r\n                                 <th className=\"table-new-title table-order-title\"> \r\n                                    Total money\r\n                                 </th> \r\n                              </tr>\r\n                              {\r\n                                 orderList.reverse().map((item, index) => {\r\n                                    const date = new Date(item.orderDate)\r\n                                    const day = date.getDate()\r\n                                    const month = date.getMonth() + 1\r\n                                    const year = date.getFullYear()\r\n                                    var totalItem = 0;\r\n                                    for (let i in item.orderList) {\r\n                                          totalItem += item.orderList[i].amount\r\n                                    }\r\n                                    return (\r\n                                          <tr key={index} className=\"mobile-table\"> \r\n                                             <td> \r\n                                                <div className=\"flex\" style={{alignItems: 'center',margin: '10px 0'}}>\r\n                                                      <p \r\n                                                         style={{wordWrap: 'break-word', WebkitLineClamp: '3'}}\r\n                                                      >{item.orderAddress}, {item.orderHuyen}, {item.orderTinh}</p>\r\n                                                </div> \r\n                                             </td>\r\n                                             <td>\r\n                                                <p>{day}-{month}-{year}</p>\r\n                                             </td>\r\n                                             <td>\r\n                                                <p style={{textTransform: 'capitalize'}}>{item.orderPaymentMethod}</p>\r\n                                             </td>\r\n                                             <td>\r\n                                                {   typeof(totalItem) === 'number' &&\r\n                                                         <div key={index} className=\"flex\" style={{justifyContent: 'space-between'}}>\r\n                                                            {/* <p style={{margin: '10px 0', width: '100%', WebkitLineClamp: '2'}}>{virtualArr.productName}</p> */}\r\n                                                            <p style={{margin: '10px 0', width: '50px', marginLeft: '20px'}}>{totalItem}</p>\r\n                                                         </div>\r\n                                                }\r\n                                             </td>\r\n                                             <td>\r\n                                                <p>{item.orderTotal} đ</p>\r\n                                             </td> \r\n                                          </tr>\r\n                                    )\r\n                                 })\r\n                              }\r\n                           </tbody>\r\n                        </table>\r\n                     </div>\r\n                  </div>\r\n               } \r\n            </div>\r\n      </div>\r\n   )\r\n}\r\n\r\nexport default withRouter(AccountInfo);","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes , faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios'\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom'\r\n\r\nimport { UserContext } from '../../contexts/User'\r\nimport AccountInfo from './AccountInfo'\r\n\r\nfunction Account(props) {\r\n    const { \r\n        setUserInfoFunc \r\n    } = useContext(UserContext);\r\n\r\n    const [check, setCheck] = useState(false);\r\n    const [tabID, setTabID] = useState(0);\r\n    const [arrSuccess, setArrSuccess] = useState([]);\r\n    const [arrErr, setArrErr] = useState([]);\r\n    const [user, setUser] = useState({});\r\n    const [login, setLogin] = useState(false);\r\n\r\n    const handleOnChange = (event) => {\r\n        setUser({...user , [event.target.name]: event.target.value})\r\n    }\r\n\r\n    const handleOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        if (tabID === 0) {\r\n            axios.post('http://pe.heromc.net:4000/users/login', {\r\n                loginEmail: user.loginEmail,\r\n                loginPassword: user.loginPassword\r\n            }) \r\n            .then(res => {\r\n                setArrSuccess(arrSuccess=>[...arrSuccess, \"Login success!\"])\r\n                setTimeout(()=> {\r\n                    window.location.reload(false);\r\n                    document.body.style.overflow = 'unset';\r\n                }, 1000)\r\n                localStorage.setItem('token', res.data.token);\r\n                localStorage.setItem('user-id', res.data.user._id);\r\n            })\r\n            .catch(err => {\r\n                setArrErr(arrErr=>[...arrErr, err.response.data]);\r\n            })\r\n        } else {\r\n            axios.post('http://pe.heromc.net:4000/users/register', {\r\n                userName: user.registerName,\r\n                userEmail: user.registerEmail,\r\n                userPassword: user.registerPassword,\r\n                userRole: \"user\"\r\n            })\r\n            .then(res => {\r\n                setArrSuccess(arrSuccess=>[...arrSuccess, res.data])\r\n                setTimeout(()=> {\r\n                    window.location.reload(false);\r\n                    document.body.style.overflow = 'unset';\r\n                }, 1000)\r\n            })\r\n            .catch(err => {\r\n                setArrErr(arrErr=>[...arrErr, err.response.data]);\r\n            })\r\n        }\r\n    }\r\n\r\n    useEffect(()=> {\r\n        axios.get(`http://pe.heromc.net:4000/users/${localStorage.getItem('user-id')}`, { \r\n            headers: {\"authorization\" : `Bearer ${localStorage.getItem('token')}`}\r\n        })\r\n        .then(res => {\r\n            setUserInfoFunc(res.data.user);\r\n            setLogin(true);\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    },[]) \r\n\r\n    let uniqueErr, uniqueSuccess = [];\r\n    if (arrErr.length > 0) {\r\n        uniqueErr = arrErr.filter(function(item, pos) {\r\n            return arrErr.indexOf(item) === pos;\r\n        })\r\n    }\r\n    if (arrSuccess.length > 0) {\r\n        uniqueSuccess = arrSuccess.filter(function(item, pos) {\r\n            return arrSuccess.indexOf(item) === pos;\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className={props.accountOpen === false ? 'Account displayNone' : 'Account'}>\r\n            <div className=\"account-container\">\r\n                <div className=\"search-header flex\">\r\n                    <div className=\"search-title\">My Account</div>\r\n                    <div\r\n                        className=\"search-close\"\r\n                        onClick={props.clickToClose}\r\n                        >\r\n                        <FontAwesomeIcon \r\n                            icon={faTimes}\r\n                            className=\"icon\"\r\n                            />\r\n                    </div>\r\n                </div >\r\n                \r\n                {login === true && \r\n                    <AccountInfo/>\r\n                }\r\n                \r\n                {login === false && \r\n                <div className={props.accountOpen === false ? '' : 'fadeIn'}>\r\n                    <div \r\n                        className='search-tab login-tab flex'>\r\n                        <div \r\n                            className={tabID === 0 ? 'search-tab-cate search-tab-active' : 'search-tab-cate'}\r\n                            onClick={() => {setTabID(0);setArrErr([]);setArrSuccess([])}}\r\n                            >\r\n                            Login\r\n                        </div>\r\n                        <div \r\n                            className={tabID === 1 ? 'search-tab-cate search-tab-active' : 'search-tab-cate'}\r\n                            onClick={() => {setTabID(1);setArrErr([]);setArrSuccess([])}}\r\n                            >\r\n                            Register\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"login-err flex-center flex-col\">\r\n                        { uniqueErr && \r\n                            <div>\r\n                                {\r\n                                    uniqueErr.map((item, index) => {\r\n                                        return(\r\n                                            <div key={index}>\r\n                                                <FontAwesomeIcon icon={faTimes} style={{ marginRight: '10px', color: 'red'}}/>\r\n                                                {item}\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        }\r\n                        { uniqueSuccess && \r\n                            <div >\r\n                                {\r\n                                    uniqueSuccess.map((item, index) => {\r\n                                        return(\r\n                                            <div key={index} className=\"login-success\">\r\n                                                <FontAwesomeIcon icon={faCheck} style={{ marginRight: '10px', color: 'green'}}/>\r\n                                                {item}\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    { tabID === 0 &&\r\n                        <div className=\"search-form login-form fadeToRight\">\r\n                            <form className=\"flex-col\" onSubmit={handleOnSubmit}>\r\n                                <input type=\"email\" placeholder=\"Email\" name=\"loginEmail\" onChange={handleOnChange}/>\r\n                                <input type=\"password\" placeholder=\"Password\" name=\"loginPassword\" onChange={handleOnChange}/>\r\n                                <div className=\"remember-login flex noselect\" \r\n                                    onClick={() => { \r\n                                        if (check) {\r\n                                            setCheck(false)\r\n                                        } else { \r\n                                            setCheck(true) \r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <div className=\"check-box\"></div>\r\n                                    {check && \r\n                                        <div className=\"check-box-active flex-center\" onClick={()=> setCheck(false)}>\r\n                                            <FontAwesomeIcon className=\"check-box-active\" icon={faCheck}></FontAwesomeIcon>\r\n                                        </div>\r\n                                    }\r\n                                    <p>Remember me</p>\r\n                                </div>\r\n                                <button type=\"submit\" onClick={handleOnSubmit} className=\"btn\">LOGIN</button>\r\n                                <label>LOST YOUR PASSWORD?</label>\r\n                            </form>\r\n                        </div>\r\n                    }\r\n                    { tabID === 1 && \r\n                        <div className=\"search-form login-form fadeToLeft\">\r\n                            <form className=\"flex-col\" onSubmit={handleOnSubmit}>\r\n                                <input type=\"text\" placeholder=\"Name\" name=\"registerName\" onChange={handleOnChange}/>\r\n                                <input type=\"email\" placeholder=\"Email\" name=\"registerEmail\" onChange={handleOnChange}/>\r\n                                <input type=\"password\" placeholder=\"Password\" name=\"registerPassword\" onChange={handleOnChange}/>\r\n                                <button className=\"btn\">REGISTER</button>\r\n                            </form>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Account);","import React, { useContext } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faMinus, faPlus, faTimes  } from '@fortawesome/free-solid-svg-icons';\r\nimport { CartContext } from '../../contexts/Cart';\r\n\r\nexport default function CartItem(props) {\r\n\r\n    const { cartItems, minusCount, plusCount, removeFromCart, updateCount } = useContext(CartContext)\r\n\r\n    return (\r\n        <div className=\"search-form login-form fadeToRight\" style={{width: '100%'}}>\r\n            <div className=\"cart-list\">\r\n                {\r\n                    cartItems.length === 0 && \r\n                    <div style={{textAlign: 'center', color: '#777'}}>\r\n                        No products in the cart.\r\n                    </div>\r\n                }\r\n                {\r\n                    cartItems.length > 0 && \r\n                    <div className=\"cart-item flex\" style={{border: 'none'}}>\r\n                        <div className=\"cart-product-img flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>Image</div>\r\n                        <div className=\"cart-product-mobile flex\">\r\n                            <div className=\"cart-product-name flex-center\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>Name</div>\r\n                            <div className=\"cart-product-amount flex-center\" style={{alignItems: 'center', justifyContent: 'center'}}>Amount</div>\r\n                            <div className=\"cart-product-price flex\" style={{alignItems: 'center', justifyContent: 'center'}}>Price</div>\r\n                            <div className=\"cart-product-totalprice flex\" style={{alignItems: 'center', justifyContent: 'center'}}>Total price</div>\r\n                            <div className=\"cart-product-delete\" style={{visibility: \"hidden\"}}>\r\n                                <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n                {\r\n                    cartItems.map((item, index) => {\r\n                        return (\r\n                            <div className=\"cart-item flex\" key={index}>\r\n                                <div className=\"cart-product-img\">\r\n                                    {\r\n                                        item.productImg &&\r\n                                        <img src={item.productImg[0]} width=\"80px\" height=\"100%\" alt=\"\"></img>\r\n                                    }\r\n                                </div>\r\n                                {item.productFinalPrice &&\r\n                                    <div className=\"cart-product-mobile flex\">\r\n                                        <div className=\"cart-product-name flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productName}</div>\r\n                                        <div className=\"cart-product-amount flex-center\">\r\n                                            <div className=\"count-cart noselect\">\r\n                                                <div \r\n                                                    className=\"count-cart-item left flex-center\"\r\n                                                    id={item._id}\r\n                                                    onClick={minusCount}\r\n                                                    >\r\n                                                    <FontAwesomeIcon  style={{pointerEvents: 'none'}} icon={faMinus}/>\r\n                                                </div> \r\n                                                <div className=\"count-cart-item text flex-center\">\r\n                                                    <form style={{width: '100%', margin: '0', height: '30px'}}>\r\n                                                        <input \r\n                                                            style={{width: '100%', margin: '0', height: '30px'}}\r\n                                                            type=\"text\" \r\n                                                            value={item.count}\r\n                                                            id={item._id}\r\n                                                            onChange={updateCount}\r\n                                                        />\r\n                                                    </form>\r\n                                                </div>\r\n                                                <div \r\n                                                    className=\"count-cart-item right flex-center\"\r\n                                                    id={item._id}\r\n                                                    onClick={plusCount}\r\n                                                    >\r\n                                                    <FontAwesomeIcon  style={{pointerEvents: 'none'}} icon={faPlus}/>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"cart-product-price flex\" style={{alignItems: 'center', justifyContent: 'center'}}>{item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                        <div className=\"cart-product-totalprice flex\" style={{alignItems: 'center', justifyContent: 'center'}}>{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                        <div className=\"cart-product-delete\"\r\n                                        onClick={removeFromCart}\r\n                                        id={item._id}>\r\n                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                    </div>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCartPlus, faTimes  } from '@fortawesome/free-solid-svg-icons';\r\nimport { CartContext } from '../../contexts/Cart';\r\nimport axios from 'axios'\r\n\r\nexport default function WishListItem(props) {\r\n\r\n    const { wishListItems, removeFromWishList, addToCart } = useContext(CartContext)\r\n\r\n    const cartClick = (event) => {\r\n        const id = event.target.id\r\n        axios.get(`http://pe.heromc.net:4000/products/${id}`)\r\n            .then(res => {\r\n                addToCart(res.data)\r\n            }\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"search-form login-form fadeToRight\" style={{width: '100%'}}>\r\n            <div className=\"cart-list\">\r\n                {\r\n                    wishListItems.length === 0 && \r\n                    <div style={{textAlign: 'center', color: '#777'}}>\r\n                        Your wishlist is currently empty.\r\n                    </div>\r\n                }\r\n                {\r\n                    wishListItems.map((item, index) => {\r\n                        return (\r\n                            <div className=\"cart-item flex\" key={index}>\r\n                                <div className=\"cart-product-img\">\r\n                                    <img src={item.productImg[0]} width=\"80px\" height=\"100%\" alt=\"\"></img>\r\n                                </div>\r\n                                <div className=\"cart-product-mobile flex\">\r\n                                    <div className=\"cart-product-name flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productName}</div>\r\n                                    {   item.productFinalPrice &&\r\n                                        <div className=\"cart-product-price wl-mb-price flex\" style={{alignItems: 'center', justifyContent: 'flex-start'}}>{item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                    }\r\n                                    <div className=\"product-info-addtocart wl-mb-addtocart flex-center btn\"\r\n                                        onClick={(event)=> {\r\n                                            cartClick(event)\r\n                                            removeFromWishList(event)\r\n                                        }}\r\n                                        id={item._id}\r\n                                    >\r\n                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faCartPlus}/>\r\n                                        <p style={{pointerEvents: 'none'}}>Add to cart</p>\r\n                                    </div>\r\n                                    <div className=\"cart-product-delete wl-mb-delete\"\r\n                                        onClick={removeFromWishList}\r\n                                        id={item._id}>\r\n                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useState } from 'react';\r\nimport '../../App.css';\r\nimport '../../Styles/Product.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes  } from '@fortawesome/free-solid-svg-icons';\r\nimport CartItem from './CartItem';\r\nimport WishListItem from './WishListItem';\r\nimport { CartContext } from '../../contexts/Cart';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Account(props) {\r\n\r\n    const [tabID, setTabID] = useState(0)\r\n    const {\r\n        total\r\n    } = useContext(CartContext)\r\n\r\n    return(\r\n        <div className={props.cartOpen === false ? 'Cart displayNone' : 'Cart'}>\r\n            <div className=\"search-header flex\">\r\n                <div className=\"search-title\">Cart</div>\r\n                <div\r\n                    className=\"search-close\"\r\n                    onClick={props.clickToClose}\r\n                    >\r\n                    <FontAwesomeIcon \r\n                        icon={faTimes}\r\n                        className=\"icon\"\r\n                        />\r\n                </div>\r\n            </div >\r\n            <div className={props.cartOpen === false ? '' : 'fadeIn'}>\r\n                <div \r\n                    className='search-tab login-tab flex'>\r\n                    <div \r\n                        className={tabID === 0 ? 'search-tab-cate search-tab-active' : 'search-tab-cate'}\r\n                        onClick={() => setTabID(0)}\r\n                        >\r\n                        Cart\r\n                    </div>\r\n                    <div \r\n                        className={tabID === 1 ? 'search-tab-cate search-tab-active' : 'search-tab-cate'}\r\n                        onClick={() => setTabID(1)}\r\n                        >\r\n                        Whishlist\r\n                    </div>\r\n                </div>\r\n                { tabID === 0 &&\r\n                    <CartItem/>\r\n                }\r\n                { tabID === 1 && \r\n                    <WishListItem/>\r\n                }\r\n            </div>\r\n            { tabID === 0 &&\r\n                <div className=\"cart-checkout-box flex-center\">\r\n                    <div className=\"cart-checkout-text flex\">\r\n                        <p>Total: </p>\r\n                        {total &&\r\n                            <p> {total.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</p>\r\n                        }\r\n                    </div>\r\n                    <div \r\n                        className=\"cart-checkout-btn btn\"\r\n                        onClick={()=>{\r\n                            if (total > 0) {    \r\n                                props.history.push(`/checkout`);\r\n                                window.location.reload(false);\r\n                            }\r\n                        }}\r\n                    >Checkout</div> \r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Account);\r\n","import { faCircle } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\n\r\nexport default function Dropdown(props) {\r\n\r\n    const [imgIndex, setImgIndex] = useState(0);\r\n    const [imgs] = useState(props.imgs)\r\n\r\n    useEffect(()=>{\r\n        const slide = setInterval(() => {\r\n            setImgIndex(imgIndex + 1)\r\n        }, 1500);\r\n\r\n        return() => {\r\n            clearInterval(slide)\r\n        }\r\n    }, [imgIndex])\r\n\r\n    if (imgIndex >= imgs.length) {\r\n        setImgIndex(0)\r\n    }\r\n\r\n    return(\r\n        <div className=\"DropdownSlider\">\r\n            <div className=\"dropdownslider-container flex\" style={{width: `${props.width}px`, height: `${props.height}px` }}>\r\n                {\r\n                    imgs.map((item, index) => {\r\n                        return (\r\n                            <img \r\n                                key={index}\r\n                                alt=\"\"\r\n                                style={{transform: `translateX(-${props.width * imgIndex}px`}}\r\n                                src={item} width='100%' height='100%'></img>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"dropdownslider-dot flex-center\">\r\n                {\r\n                    imgs.map((item, index) => {\r\n                        return (\r\n                            <div \r\n                                key={index}\r\n                                className={index === imgIndex ? \"active-dot\" : \"\"}\r\n                            >\r\n                                <FontAwesomeIcon icon={faCircle} className=\"icon\"/>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/women-dropdown.f5ac364e.jpg\";","export default __webpack_public_path__ + \"static/media/women-dropdown2.1381f7eb.jpg\";","export default __webpack_public_path__ + \"static/media/women-dropdown3.3139b2c4.jpg\";","export default __webpack_public_path__ + \"static/media/men-dropdown.c0b8f909.jpg\";","export default __webpack_public_path__ + \"static/media/men-dropdown2.85bf42e0.jpg\";","export default __webpack_public_path__ + \"static/media/men-dropdown3.24c15971.jpg\";","import React from 'react';\r\nimport '../../App.css';\r\nimport DropdownSlider from './DropdownSlider.js'\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom'\r\nimport womenImg from '../../assets/women-dropdown.jpg'\r\nimport womenImg2 from '../../assets/women-dropdown2.jpg'\r\nimport womenImg3 from '../../assets/women-dropdown3.jpg'\r\nimport menImg from '../../assets/men-dropdown.jpg'\r\nimport menImg2 from '../../assets/men-dropdown2.jpg'\r\nimport menImg3 from '../../assets/men-dropdown3.jpg'\r\n\r\nfunction Dropdown(props) {\r\n\r\n    const redirect = (event) => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/${event.target.id}`)\r\n        props.handleLeaveHover()\r\n    }\r\n\r\n    const sex = props.label.toLowerCase()\r\n\r\n    return(\r\n        <div className=\"Dropdown\">\r\n            <div className=\"dropdown-container flex\">\r\n                { props.dropdownContent.map((item, index) => {\r\n                    return (\r\n                        <div \r\n                            className=\"dropdown-col flex\"\r\n                            key={index}\r\n                        >\r\n                            <div>\r\n                                {item.dropdownTitle &&\r\n                                    <div \r\n                                        id = {`${sex}/${item.dropdownTitle.replace(/\\s+/g, '')}`}\r\n                                        onClick={redirect}\r\n                                        className=\"dropdown-title\">{item.dropdownTitle}\r\n                                    </div>\r\n                                }\r\n                                <div \r\n                                    className=\"dropdown-item flex-col\">\r\n                                    {\r\n                                        item.dropdownList.map((item, index) => {\r\n                                            return (\r\n                                                <div\r\n                                                    id = {`${sex}/${item.toLowerCase().replace(/\\s+/g, '-')}`}\r\n                                                    onClick={redirect}\r\n                                                    key={index}\r\n                                                    style={{textTransform: 'capitalize', cursor: 'pointer'}}\r\n                                                >\r\n                                                    {item}\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })}\r\n                { props.label === 'Women' &&\r\n                    <DropdownSlider \r\n                        width={\"450\"} \r\n                        height={\"300\"}\r\n                        imgs={[\r\n                            womenImg,\r\n                            womenImg2,\r\n                            womenImg3,\r\n                        ]}\r\n                    ></DropdownSlider>\r\n                }\r\n                { props.label === 'Men' &&\r\n                    <DropdownSlider \r\n                        id={props.id}\r\n                        width={\"450\"} \r\n                        height={\"300\"}\r\n                        imgs={[\r\n                            menImg,\r\n                            menImg2,\r\n                            menImg3,\r\n                        ]}\r\n                    ></DropdownSlider>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(Dropdown)","import React, { } from 'react'\r\nimport classNames from 'classnames'\r\nimport {\r\n    Link, withRouter\r\n  } from \"react-router-dom\"; \r\nimport Dropdown from './Dropdown';\r\n\r\nfunction MenuItemDropdown(props) {\r\n    \r\n    const dropdownHover = props.dropdownHover;\r\n    const location = props.location.pathname;\r\n\r\n    return (\r\n        <li \r\n            className=\"menu-item\"\r\n            onClick={props.handleClick}\r\n            onMouseEnter={props.handleHover}\r\n            onMouseLeave={props.handleLeaveHover}\r\n            >\r\n            <Link to={props.url}\r\n                className={classNames({\r\n                    active: location === props.url,\r\n                    whitelink_header: props.whiteText === true,\r\n                })}\r\n            >{props.label}</Link>\r\n            {(dropdownHover === true && props.dropdownContent.length > 0) && \r\n                <Dropdown \r\n                    className=\"dropdown-display\"\r\n                    dropdownContent={props.dropdownContent}\r\n                    label={props.label}\r\n                    scrolled={props.scrolled}\r\n                    handleLeaveHover = {props.handleLeaveHover}\r\n                /> \r\n            }\r\n        </li>\r\n    )\r\n}\r\nexport default withRouter(MenuItemDropdown);","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport \"../../App.css\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport classNames from \"classnames\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faSearch,\r\n  faUser,\r\n  faCartPlus,\r\n  faBars,\r\n  faAngleDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport Search from \"./Search.js\";\r\nimport Account from \"./Account.js\";\r\nimport Cart from \"./Cart.js\";\r\nimport MenuItemDropdown from \"./MenuItemDropdown\";\r\nimport { CartContext } from \"../../contexts/Cart\";\r\nimport Div100vh from \"react-div-100vh\";\r\nimport axios from \"axios\";\r\nimport { UserContext } from \"../../contexts/User\";\r\n\r\nfunction Header(props) {\r\n  const { userInfo } = useContext(UserContext);\r\n\r\n  const [scrolled, setScrolled] = useState(false);\r\n  const [whiteBox, setWhiteBox] = useState(false);\r\n  const [whiteText, setWhiteText] = useState(false);\r\n  const [searchOpen, setSearchOpen] = useState(false);\r\n  const [accountOpen, setAccountOpen] = useState(false);\r\n  const [cartOpen, setCartOpen] = useState(false);\r\n  const [disableBox, setDisableBox] = useState(false);\r\n  const [dropdownHover, setDropdownHover] = useState(false);\r\n  const [totalCart, setTotalCart] = useState(0);\r\n  const [openSubMenu, setOpenSubMenu] = useState(null);\r\n\r\n  const location = props.history.location.pathname;\r\n  const path = props.history.location.pathname.slice(12);\r\n\r\n  const subHeight = useRef();\r\n\r\n  function clickToClose() {\r\n    document.body.style.overflow = \"unset\";\r\n    setSearchOpen(false);\r\n    setAccountOpen(false);\r\n    setCartOpen(false);\r\n    setOpenMobileMenu(false);\r\n  }\r\n\r\n  const handleHover = () => {\r\n    setDropdownHover(true);\r\n  };\r\n  const handleLeaveHover = () => {\r\n    setDropdownHover(false);\r\n  };\r\n  const handleClick = () => {\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const { cartItems, clickedCart } = useContext(CartContext);\r\n  const [navBar, setNavBar] = useState([]);\r\n  useEffect(() => {\r\n    const navBar = [\r\n      {\r\n        id: \"1\",\r\n        label: \"Home\",\r\n        url: \"/\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"2\",\r\n        label: \"Women\",\r\n        url: \"/women\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"3\",\r\n        label: \"Men\",\r\n        url: \"/men\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"4\",\r\n        label: \"News\",\r\n        url: \"/news\",\r\n        dropdownContent: [],\r\n      },\r\n      {\r\n        id: \"5\",\r\n        label: \"Contact\",\r\n        url: \"/contact\",\r\n        dropdownContent: [],\r\n      },\r\n    ];\r\n    setNavBar(navBar);\r\n    axios.get(`http://pe.heromc.net:4000/products`).then((res) => {\r\n      let virtualNavBar = [...navBar];\r\n      const menProduct = [];\r\n      const womenProduct = [];\r\n      for (let i in res.data) {\r\n        if (res.data[i].productSex === \"Man\") {\r\n          menProduct.push(res.data[i].productGroupCate);\r\n        }\r\n        if (res.data[i].productSex === \"Woman\") {\r\n          womenProduct.push(res.data[i].productGroupCate);\r\n        }\r\n      }\r\n      let groupCateMen = menProduct.filter(function (elem, index, self) {\r\n        return index === self.indexOf(elem);\r\n      });\r\n      let groupCateWomen = womenProduct.filter(function (elem, index, self) {\r\n        return index === self.indexOf(elem);\r\n      });\r\n      const menDropdownContent = [];\r\n      for (let i in groupCateMen) {\r\n        let menData = {};\r\n        let cateList = [];\r\n        for (let j in res.data) {\r\n          if (\r\n            res.data[j].productGroupCate === groupCateMen[i] &&\r\n            res.data[j].productSex === \"Man\"\r\n          ) {\r\n            cateList.push(res.data[j].productCate);\r\n          }\r\n        }\r\n        let cateList2 = cateList.filter(function (elem, index, self) {\r\n          return index === self.indexOf(elem);\r\n        });\r\n        // console.log(cateList)\r\n        menData = {\r\n          dropdownTitle: groupCateMen[i],\r\n          dropdownList: cateList2,\r\n        };\r\n        menDropdownContent.push(menData);\r\n      }\r\n      const womenDropdownContent = [];\r\n      for (let i in groupCateWomen) {\r\n        let womenData = {};\r\n        let cateList = [];\r\n        for (let j in res.data) {\r\n          if (\r\n            res.data[j].productGroupCate === groupCateWomen[i] &&\r\n            res.data[j].productSex === \"Woman\"\r\n          ) {\r\n            cateList.push(res.data[j].productCate);\r\n          }\r\n        }\r\n        let cateList2 = cateList.filter(function (elem, index, self) {\r\n          return index === self.indexOf(elem);\r\n        });\r\n        womenData = {\r\n          dropdownTitle: groupCateWomen[i],\r\n          dropdownList: cateList2,\r\n        };\r\n        womenDropdownContent.push(womenData);\r\n      }\r\n      for (let i in virtualNavBar) {\r\n        if (virtualNavBar[i].label === \"Men\") {\r\n          virtualNavBar[i].dropdownContent = menDropdownContent;\r\n        }\r\n        if (virtualNavBar[i].label === \"Women\") {\r\n          virtualNavBar[i].dropdownContent = womenDropdownContent;\r\n        }\r\n      }\r\n      setNavBar(virtualNavBar);\r\n    });\r\n    if (\r\n      location === \"/news\" ||\r\n      location === `/news/category/${props.match.params.cate}` ||\r\n      location === \"/collection\" ||\r\n      location === `/collection/${path}`\r\n    ) {\r\n      setWhiteText(true);\r\n      setDisableBox(true);\r\n    } else {\r\n      setWhiteText(false);\r\n      setDisableBox(false);\r\n    }\r\n\r\n    if (clickedCart) {\r\n      setScrolled(false);\r\n    }\r\n\r\n    function onScroll() {\r\n      if (\r\n        location === \"/news\" ||\r\n        location === `/news/category/${props.match.params.cate}` ||\r\n        location === \"/collection\" ||\r\n        location === `/collection/${path}`\r\n      ) {\r\n        if (window.pageYOffset < 50) {\r\n          // top\r\n          if (dropdownHover === true) {\r\n            setWhiteBox(true);\r\n            setWhiteText(false);\r\n            setDisableBox(false);\r\n          } else {\r\n            setWhiteBox(false);\r\n            setWhiteText(true);\r\n            setDisableBox(true);\r\n          }\r\n        } else if (this.prev < window.pageYOffset) {\r\n          //down\r\n          if (dropdownHover === true) {\r\n            setScrolled(false);\r\n          } else {\r\n            setScrolled(true);\r\n          }\r\n          setWhiteBox(true);\r\n          setDisableBox(false);\r\n          setWhiteText(false);\r\n        } else if (this.prev > window.pageYOffset) {\r\n          //up\r\n          setScrolled(false);\r\n        }\r\n      } else {\r\n        if (window.pageYOffset < 50) {\r\n          // top\r\n          setWhiteBox(false);\r\n          setWhiteText(false);\r\n        } else if (this.prev < window.pageYOffset) {\r\n          //down\r\n          if (dropdownHover === true) {\r\n            setScrolled(false);\r\n          } else {\r\n            setScrolled(true);\r\n          }\r\n          setWhiteBox(true);\r\n        } else if (this.prev > window.pageYOffset) {\r\n          //up\r\n          setScrolled(false);\r\n          setWhiteText(false);\r\n        }\r\n      }\r\n      this.prev = window.pageYOffset;\r\n    }\r\n\r\n    let totalCartVirtual = 0;\r\n    for (let i in cartItems) {\r\n      totalCartVirtual += cartItems[i].count;\r\n    }\r\n    setTotalCart(totalCartVirtual);\r\n    window.addEventListener(\"scroll\", onScroll);\r\n    return () => {\r\n      window.removeEventListener(\"scroll\", onScroll);\r\n    };\r\n  }, [\r\n    clickedCart,\r\n    location,\r\n    dropdownHover,\r\n    props.match.params.cate,\r\n    path,\r\n    cartItems,\r\n  ]);\r\n\r\n  if (searchOpen || accountOpen || cartOpen) {\r\n    document.body.style.overflow = \"hidden\";\r\n  }\r\n\r\n  const [openMobileMenu, setOpenMobileMenu] = useState(false);\r\n\r\n  const openMobileMenuFunc = () => {\r\n    setOpenMobileMenu(true);\r\n    document.body.style.overflow = \"hidden\";\r\n  };\r\n\r\n  const [closeAnimation, setCloseAnimation] = useState(false);\r\n  const closeMobileMenuFunc = () => {\r\n    document.body.style.overflow = \"unset\";\r\n    setCloseAnimation(true);\r\n    setTimeout(() => {\r\n      setOpenMobileMenu(false);\r\n      setCloseAnimation(false);\r\n    }, 700);\r\n  };\r\n\r\n  const redirect = (event) => {\r\n    window.scrollTo(0, 0);\r\n    props.history.push(`/${event.target.id}`);\r\n    closeMobileMenuFunc();\r\n  };\r\n\r\n  const [searchMobile, setSearchMobile] = useState(\"\");\r\n  return (\r\n    <div\r\n      className={classNames(\"Header\", {\r\n        scrolled: scrolled === true,\r\n        white: whiteBox === true,\r\n        white_disable: disableBox === true,\r\n      })}\r\n      onMouseEnter={() => {\r\n        if (\r\n          location === \"/news\" ||\r\n          location === `/news/category/${props.match.params.cate}` ||\r\n          location === \"/collection\" ||\r\n          location === `/collection/${path}`\r\n        ) {\r\n          setWhiteText(false);\r\n          setDisableBox(false);\r\n        }\r\n      }}\r\n      onMouseOver={() => {\r\n        if (\r\n          location === \"/news\" ||\r\n          location === `/news/category/${props.match.params.cate}` ||\r\n          location === \"/collection\" ||\r\n          location === `/collection/${path}`\r\n        ) {\r\n          setWhiteText(false);\r\n          setDisableBox(false);\r\n        }\r\n      }}\r\n      onMouseLeave={() => {\r\n        if (\r\n          (location === \"/news\" && window.pageYOffset < 50) ||\r\n          (location === `/news/category/${props.match.params.cate}` &&\r\n            window.pageYOffset < 50) ||\r\n          (location === \"/collection\" && window.pageYOffset < 50) ||\r\n          (location === `/collection/${path}` && window.pageYOffset < 50)\r\n        ) {\r\n          setWhiteText(true);\r\n        }\r\n      }}\r\n    >\r\n      <div\r\n        className={\r\n          whiteText === false\r\n            ? \"menu-mobile flex-center\"\r\n            : \"menu-mobile flex-center closeMenuMobile_white\"\r\n        }\r\n      >\r\n        <FontAwesomeIcon\r\n          icon={faBars}\r\n          onClick={openMobileMenuFunc}\r\n          style={{ fontSize: \"20px\" }}\r\n        />\r\n      </div>\r\n      {openMobileMenu === true && (\r\n        <Div100vh className=\"menu-mobile-box flex\">\r\n          <div\r\n            className={classNames(\"menu-mobile-left flex-col\", {\r\n              openMenuMobile: openMobileMenu,\r\n              closeMenuMobile: closeAnimation,\r\n            })}\r\n          >\r\n            <div className=\"menu-mobile-search flex-center\">\r\n              <input\r\n                onChange={(e) => {\r\n                  setSearchMobile(e.target.value);\r\n                }}\r\n                value={searchMobile}\r\n                className=\"input\"\r\n                placeholder=\"Search\"\r\n                style={{ fontSize: \"16px\", height: \"50px\" }}\r\n              ></input>\r\n              <div\r\n                onClick={() => {\r\n                  props.history.push(`/shop/${searchMobile}`);\r\n                  closeMobileMenuFunc();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon\r\n                  icon={faSearch}\r\n                  style={{ marginLeft: \"10px\", color: \"#777\" }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"menu-mobile-list\">\r\n              {navBar.map((item, index) => {\r\n                let home = \"\";\r\n                if (location === \"/\") home = \"home\";\r\n                return (\r\n                  <div\r\n                    key={index}\r\n                    style={{\r\n                      color: \"#111\",\r\n                      maxHeight: openSubMenu === item.id ? `1000px` : \"40px\",\r\n                    }}\r\n                    className={classNames(\"menu-mobile-item a\", {\r\n                      menu_mobile_item_active:\r\n                        location.slice(1) === item.label.toLowerCase() ||\r\n                        home === item.label.toLowerCase(),\r\n                    })}\r\n                  >\r\n                    <div\r\n                      className=\"flex\"\r\n                      style={{ justifyContent: \"space-between\" }}\r\n                    >\r\n                      <p id={item.label.toLowerCase()} onClick={redirect}>\r\n                        {item.label}\r\n                      </p>\r\n                      {item.dropdownContent.length > 0 && (\r\n                        <div\r\n                          style={{\r\n                            width: \"30px\",\r\n                          }}\r\n                          className=\"flex-center\"\r\n                          onClick={() => {\r\n                            if (!item.dropdownContent.length > 0) {\r\n                              props.history.push(item.url);\r\n                            } else {\r\n                              if (!openSubMenu) {\r\n                                setOpenSubMenu(item.id);\r\n                              } else {\r\n                                if (openSubMenu === item.id) {\r\n                                  setOpenSubMenu(null);\r\n                                } else {\r\n                                  setOpenSubMenu(item.id);\r\n                                }\r\n                              }\r\n                            }\r\n                          }}\r\n                        >\r\n                          <FontAwesomeIcon icon={faAngleDown} />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"menu-mobile-sub\" ref={subHeight}>\r\n                      {item.dropdownContent.map((item2, index) => {\r\n                        return (\r\n                          <div key={index} className=\"menu-item-sub-item\">\r\n                            <p\r\n                              id={`${item.label.toLowerCase()}/${item2.dropdownTitle.replace(\r\n                                /\\s+/g,\r\n                                \"\"\r\n                              )}`}\r\n                              onClick={redirect}\r\n                            >\r\n                              {item2.dropdownTitle}\r\n                            </p>\r\n                            {item2.dropdownList.map((item3, index) => {\r\n                              return (\r\n                                <div\r\n                                  className=\"menu-item-sub-item2\"\r\n                                  key={index}\r\n                                >\r\n                                  <p\r\n                                    id={`${item.label.toLowerCase()}/${item3.replace(\r\n                                      /\\s+/g,\r\n                                      \"\"\r\n                                    )}`}\r\n                                    onClick={redirect}\r\n                                  >\r\n                                    {item3}\r\n                                  </p>\r\n                                </div>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            <div\r\n              className=\"menu-mobile-login flex\"\r\n              onClick={() => {\r\n                setAccountOpen(true);\r\n              }}\r\n            >\r\n              <FontAwesomeIcon icon={faUser} className=\"icon\" />\r\n              {userInfo && <p>{userInfo.userName}</p>}\r\n              {!userInfo && <p>LOGIN</p>}\r\n            </div>\r\n          </div>\r\n          <div\r\n            className=\"menu-mobile-right\"\r\n            onClick={closeMobileMenuFunc}\r\n          ></div>\r\n        </Div100vh>\r\n      )}\r\n      <ul className=\"menu flex-center\">\r\n        {navBar.map((item, index) => {\r\n          return (\r\n            <MenuItemDropdown\r\n              handleClick={handleClick}\r\n              handleHover={handleHover}\r\n              handleLeaveHover={handleLeaveHover}\r\n              dropdownHover={dropdownHover}\r\n              scrolled={scrolled}\r\n              location={location}\r\n              key={index}\r\n              whiteText={whiteText}\r\n              label={item.label}\r\n              url={item.url}\r\n              dropdownContent={item.dropdownContent} // dropdown text\r\n              className=\"menu-item\"\r\n            ></MenuItemDropdown>\r\n          );\r\n        })}\r\n      </ul>\r\n      <div className=\"logo flex-center\">\r\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\r\n          {whiteText === true ? (\r\n            <img\r\n              src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\"\r\n              alt=\"logo\"\r\n            ></img>\r\n          ) : (\r\n            <h1 style={{ color: \"black\" }}>Minh Thành</h1>\r\n            // <img\r\n            //   src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\"\r\n            //   alt=\"logo\"\r\n            // ></img>\r\n          )}\r\n        </Link>\r\n      </div>\r\n      <div\r\n        className={classNames(\"cart flex-center\", {\r\n          whitelink_header: whiteText === true,\r\n        })}\r\n      >\r\n        <div className=\"icon-container\">\r\n          <FontAwesomeIcon\r\n            icon={faSearch}\r\n            className=\"icon search-icon\"\r\n            onClick={() => {\r\n              setSearchOpen(true);\r\n            }}\r\n          />\r\n        </div>\r\n        <div\r\n          className=\"icon flex-center\"\r\n          onClick={() => {\r\n            setCartOpen(true);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faCartPlus} className=\"cart-icon\" />\r\n          <div\r\n            className={classNames(\"cart-count flex-center\", {\r\n              cart_count_news_hover: whiteText === true,\r\n            })}\r\n          >\r\n            <p>{totalCart}</p>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className=\"icon-container login-icon\"\r\n          onClick={() => {\r\n            setAccountOpen(true);\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faUser} className=\"icon\" />\r\n        </div>\r\n      </div>\r\n      <Search searchOpen={searchOpen} clickToClose={clickToClose} />\r\n      <Account accountOpen={accountOpen} clickToClose={clickToClose} />\r\n      <Cart cartOpen={cartOpen} clickToClose={clickToClose} />\r\n    </div>\r\n  );\r\n}\r\nexport default withRouter(Header);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport RecommendBanner from \"../components/Home/RecommendBanner.js\"\r\nimport HomeTab from \"../components/Home/HomeTab.js\"\r\nimport Collection from '../components/Home/Collection.js'\r\nimport FashionNews from '../components/Home/FashionNews.js'\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport Banner from '../components/Banner/Banner.js'\r\nimport Header from '../components/Header/Header.js'\r\nimport axios from 'axios';\r\n\r\nfunction Home() {\r\n    const [collection, setCollection] = useState([]);\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/collection`)\r\n            .then(res => {\r\n                setCollection(res.data)\r\n            }\r\n        )\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            <Header/>\r\n            <Banner \r\n                collection = {collection}\r\n            />\r\n            <RecommendBanner/>\r\n            <HomeTab/>\r\n            <Collection\r\n                collection = {collection}\r\n            />\r\n            <FashionNews/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\nexport default Home;\r\n","import React  from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n    Link,\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\n\r\n\r\nfunction NewsBanner(props) {\r\n\r\n    const location = props.history.location.pathname\r\n\r\n    const locationText = location.slice(1);\r\n    const locationArr = [];\r\n    const locationSplit = locationText.split('/');\r\n    for (let i = 0; i < locationSplit.length; i++) {\r\n        if (i !== 1) {\r\n            locationArr.push((locationText.split('/'))[i]);\r\n        }\r\n    }\r\n    const redirect = (event) => {\r\n        window.scrollTo(0,0);\r\n        if (event.target.textContent === 'news') {\r\n            props.history.push(`/news`)\r\n        }\r\n    } \r\n\r\n    return( \r\n        <div className=\"NewsBanner\">\r\n            <div className=\"newsbanner-container another-banner\">\r\n                <div className=\"newsbanner-overlay flex-center\">\r\n                    { locationArr[1] &&\r\n                        <div className=\"newsbanner-title\">\r\n                        {locationArr[1]}\r\n                    </div>\r\n                    }\r\n                    { locationArr[0] && !locationArr[1] &&\r\n                        <div className=\"newsbanner-title\">\r\n                        {locationArr[0]}\r\n                    </div>\r\n                    }\r\n\r\n                    <div className=\"newsbanner-breadcrumb flex-center\"> \r\n                        <Link className=\"a\" to=\"/\">Home</Link>\r\n                        {\r\n                            locationArr.map((item, index) => {\r\n                                return(\r\n                                    <div key={index} className=\"flex-center\">\r\n                                        <FontAwesomeIcon icon={faAngleRight} style={{margin: '10px'}}/>\r\n                                        <div className=\"link a\" onClick={redirect}>{item}</div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(NewsBanner);","import React from 'react';\r\nimport '../../App.css';\r\nimport classNames from 'classnames'\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction NewsNavbar(props) {\r\n\r\n    return(\r\n        <div className={classNames(\"newsbanner-nav\", {\r\n            displayNone: props.history.location.pathname !== \"/news\"\r\n        })}>\r\n            <div\r\n                className={props.currentTab === -1 ? \"newsbanner-nav-active\" : \"\"}\r\n                onClick={() => {\r\n                    props.setCurrentTab(-1);\r\n                    props.setCurrentPage(1);\r\n                }}\r\n                >All Blog Posts\r\n            </div>\r\n            {props.sortedCate.map((item, index) => {\r\n            return (\r\n                <div\r\n                    key={index}\r\n                    id={index}\r\n                    className={props.currentTab === Number(index) ? \"newsbanner-nav-active\" : \"\"}\r\n                    onClick={(event) => {\r\n                        props.setCurrentTab(index)\r\n                        props.setCurrentTabText(event.currentTarget.textContent)\r\n                        props.setCurrentPage(1)\r\n                    }}\r\n                    >{item}\r\n                </div>\r\n            )})}\r\n        </div>\r\n    )\r\n    \r\n} export default withRouter(NewsNavbar);","import React from 'react';\r\nimport '../../App.css';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction NewsBodyBig(props) {\r\n\r\n    const date = new Date(props.firstPost.newTime)\r\n    const day = date.getDate()\r\n    const month = date.getMonth() + 1\r\n    const year = date.getFullYear()\r\n    const str = day + '.' + month + '.' +year\r\n\r\n    return(\r\n        <div className=\"newsbody-big flex-center\">\r\n            <img \r\n                className=\"newsbody-big-img\" \r\n                src={props.firstPost.newImg} alt=\"\"\r\n                onClick={()=>{\r\n                    window.scrollTo(0,0); \r\n                    props.history.push(`/news/${props.firstPost._id}`)\r\n                }}\r\n            />\r\n            <div className=\"newsbody-info flex-center\">\r\n                <div className=\"newsbody-time\">{str}</div>\r\n                <Link to={props.cateLink} className=\"newsbody-cate\" onClick={()=>{window.scrollTo(0,0);}}>{props.firstPost.newCate}</Link>\r\n            </div>\r\n            <div \r\n                className=\"newsbody-title\"\r\n                onClick={()=>{\r\n                    window.scrollTo(0,0); \r\n                    props.history.push(`/news/${props.firstPost._id}`)\r\n                }}\r\n            >{props.firstPost.newTitle}</div>\r\n            <div className=\"newsbody-content\" dangerouslySetInnerHTML={{__html: props.firstPost.newContent}} ></div>\r\n            <div \r\n                className=\"newsbody-link\"\r\n                onClick={()=>{\r\n                    window.scrollTo(0,0); \r\n                    props.history.push(`/news/${props.firstPost._id}`)\r\n                }}\r\n            >Read More</div>\r\n            <div className=\"newsbody-smaill-line\"></div>\r\n        </div>\r\n    )\r\n    \r\n} export default withRouter(NewsBodyBig);","import React from 'react';\r\nimport '../../App.css';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction NewsBodySmall(props) {\r\n\r\n    const item = props.item;\r\n\r\n    const date = new Date(item.newTime)\r\n    const day = date.getDate()\r\n    const month = date.getMonth() + 1\r\n    const year = date.getFullYear()\r\n    const timeStr = day + '.' + month + '.' +year\r\n\r\n    return(\r\n        <div className=\"newsbody-small flex-col\"> \r\n            <div className=\"newsbody-small-container\">\r\n                <img \r\n                    className=\"newsbody-small-img\" \r\n                    src={item.newImg} alt=\"\"\r\n                    onClick={()=>{\r\n                        window.scrollTo(0,0); \r\n                        props.history.push(`/news/category/${item.newCate}`)\r\n                    }}\r\n                />\r\n                <div className=\"newsbody-small-left\">\r\n                    <div className=\"newsbody-small-info flex-center\">\r\n                        <div className=\"newsbody-time\">{timeStr}</div>\r\n                        <div \r\n                            className=\"newsbody-cate\" \r\n                            onClick={()=>{\r\n                                window.scrollTo(0,0); \r\n                                props.history.push(`/news/category/${item.newCate}`)\r\n                            }}\r\n                        >{item.newCate}</div>\r\n                    </div>\r\n                    <div \r\n                        className=\"newsbody-title\"\r\n                        onClick={()=>{\r\n                            window.scrollTo(0,0); \r\n                            props.history.push(`/news/${item._id}`)\r\n                        }}\r\n                    >{item.newTitle}</div>\r\n                    <div className=\"newsbody-content\" dangerouslySetInnerHTML={{__html: item.newContent}} ></div>\r\n                    <div \r\n                        className=\"newsbody-link\"\r\n                        onClick={()=>{\r\n                            window.scrollTo(0,0); \r\n                            props.history.push(`/news/${item._id}`)\r\n                        }}\r\n                    >Read More</div>\r\n                </div>\r\n            </div> \r\n            <div className=\"newsbody-smaill-line\"></div>\r\n        </div>\r\n    )\r\n    \r\n} export default withRouter(NewsBodySmall);","import React from 'react';\r\nimport '../../App.css';\r\nimport { withRouter } from 'react-router-dom';\r\nimport classNames from 'classnames'\r\n\r\nfunction NewsBodyPag(props) {\r\n\r\n    return(\r\n        <div className=\"newspagnigation-container\">\r\n            <div className=\"newspagnigation\" onClick={props.choosePage}>\r\n                <div id=\"-1\" className={classNames({\r\n                    newspagnigation_disable: props.currentPage === 1\r\n                })}>←</div>\r\n                { props.pages.map(function(number, index) { \r\n                    if (props.currentPage === number) {\r\n                        return (\r\n                            <div key={number} id={number} className=\"newspagnigation-active\">\r\n                                {number}\r\n                            </div>\r\n                        )\r\n                    } else {\r\n                        return (\r\n                        <div \r\n                            key={number}\r\n                            id={number}\r\n                            >\r\n                                {number}\r\n                        </div>\r\n                        )\r\n                    } \r\n                })}\r\n                <div id=\"999\" className={classNames({\r\n                    newspagnigation_disable: props.currentPage === props.pageNumbers.length\r\n                })}>→</div>\r\n            </div>\r\n        </div>\r\n    )\r\n    \r\n} export default withRouter(NewsBodyPag);","import React, { useEffect, useState } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faFacebookF, faTwitter, faInstagram, faGoogle } from '@fortawesome/free-brands-svg-icons';\r\nimport axios from 'axios';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction NewsBodyWidget(props) {\r\n\r\n    const [news, setNews] = useState([]);\r\n    const [isSearchFocus, setIsSearchFocus] = useState(false);\r\n    const [searchInput, setSearchInput] = useState(\"\")\r\n\r\n\r\n    let splicedCate = [];\r\n    let sortedCate = [];\r\n\r\n    const topViews = (news.sort((a, b) => b.newView - a.newView)).slice(0,3); //Top view on Category\r\n    if (news.length > 0) {\r\n        \r\n        //Get all category\r\n        const cate = Object.values(news.reduce((a, {newCate}) => {\r\n            a[newCate] = a[newCate] || {newCate, count: 0};\r\n            a[newCate].count++;\r\n            return a;\r\n        }, Object.create(null)));\r\n        //Sort and splice category by posts count\r\n        cate.sort((a,b) =>  b.count - a.count)\r\n        splicedCate = cate.splice(0,5);\r\n        splicedCate.sort((a, b) => b.count - a.count);\r\n\r\n        for (let i = 0; i < splicedCate.length; i++) {\r\n            sortedCate.push(splicedCate[i].newCate);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/news`)\r\n            .then(res => {\r\n                setNews(res.data)\r\n            }\r\n        )\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"newsbody-widget\">\r\n            <div className=\"widget-search\">\r\n                <div className=\"widget-title\">Search</div>\r\n                {\r\n                    props.searchErr && \r\n                    <p style={{fontSize: '14px', color: 'red'}}>\r\n                        {props.searchErr}\r\n                    </p>\r\n                }\r\n                <form \r\n                    className={ isSearchFocus === true ? \"widget-form widget_search_click\" : \"widget-form\"} \r\n                    onSubmit={(event)=>{\r\n                        event.preventDefault() \r\n                        props.setSearchNews(searchInput)\r\n                    }}\r\n                    onMouseEnter={() => { setIsSearchFocus(true)}}\r\n                    onMouseLeave={() => { setIsSearchFocus(false)}}>\r\n                    <input \r\n                        placeholder=\"Search the site\" \r\n                        onChange={(event)=>setSearchInput(event.target.value)}\r\n                        value={searchInput}\r\n                    ></input>\r\n                    <button>Search</button>\r\n                </form>\r\n            </div>\r\n            <div className=\"widget-pop\">\r\n                <div className=\"widget-title\">Popular Posts</div>\r\n                {\r\n                    topViews.map((item, index) => {\r\n\r\n                        const date = new Date(item.newTime)\r\n                        const day = date.getDate()\r\n                        const month = date.getMonth() + 1\r\n                        const year = date.getFullYear()\r\n                        const timeStr = day + '.' + month + '.' +year\r\n\r\n                        return(\r\n                            <div key={index} className=\"widget-post\">\r\n                                <div \r\n                                    className=\"widget-post-img\" \r\n                                    style={{backgroundImage: `url(${item.newImg})`}}\r\n                                    onClick={()=>{\r\n                                        window.scrollTo(0,0); \r\n                                        props.history.push(`/news/${item._id}`)\r\n                                    }}\r\n                                ></div>\r\n                                <div className=\"widget-post-info\">\r\n                                    <div \r\n                                        className=\"widget-post-title\"\r\n                                        onClick={()=>{\r\n                                            window.scrollTo(0,0); \r\n                                            props.history.push(`/news/${item._id}`)\r\n                                        }}\r\n                                    >{item.newTitle}</div>\r\n                                    <div className=\"widget-post-info2\">\r\n                                        <span className=\"widget-post-time\">{timeStr}</span>\r\n                                        <span className=\"widget-post-view\">{item.newView} view</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"widget-cate\">\r\n                <div className=\"widget-title\">Categorys</div>\r\n                {\r\n                    splicedCate.map((item, index) => {\r\n                        return (\r\n                            <div key={index} className=\"widget-cate-container\">\r\n                                <div \r\n                                    className=\"widget-cate-div\"\r\n                                    onClick={()=>{\r\n                                        window.scrollTo(0,0); \r\n                                        props.history.push(`/news/category/${item.newCate}`)\r\n                                    }}>\r\n                                    <div>{item.newCate}</div>\r\n                                    <div className=\"widget-cate-count\">{item.count}</div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n            <div className=\"widget-connect\">\r\n                <div className=\"widget-title\">Stay Connected</div>\r\n                <div className=\"widget-connect-container\">\r\n                    <div className=\"widget-icon\">\r\n                        <FontAwesomeIcon icon={faFacebookF}/>\r\n                    </div>\r\n                    <div className=\"widget-icon\">\r\n                        <FontAwesomeIcon icon={faTwitter}/>\r\n                    </div>\r\n                    <div className=\"widget-icon\">\r\n                        <FontAwesomeIcon icon={faInstagram}/>\r\n                    </div>\r\n                    <div className=\"widget-icon\">\r\n                        <FontAwesomeIcon icon={faGoogle}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <div className=\"widget-newsletter\">\r\n                <div className=\"widget-title\">Newsletter</div>\r\n                <form className={ isSearchFocus === true ? \"widget-form widget_search_click\" : \"widget-form\"} \r\n                    onMouseEnter={() => { setIsSearchFocus(true)}}\r\n                    onMouseLeave={() => { setIsSearchFocus(false)}}>\r\n                    <input placeholder=\"Enter your email\"></input>\r\n                    <button>Send</button>\r\n                </form>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(NewsBodyWidget);","import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport axios from 'axios'\r\nimport { withRouter } from 'react-router-dom';\r\nimport NewsNavbar from './NewsNavbar';\r\nimport NewsBodyBig from './NewsBodyBig';\r\nimport NewBodySmall from './NewBodySmall';\r\nimport NewsBodyPag from './NewsBodyPag';\r\nimport NewsBodyWidget from './NewsBodyWidget';\r\n\r\nfunction NewsBody(props) {\r\n    const [news, setNews] = useState([]);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const newsPerPage = 5;\r\n    const [currentTab, setCurrentTab] = useState(-1);\r\n    const [currentTabText, setCurrentTabText] = useState(\"\");\r\n    let firstPost = [];\r\n    let sortedCate = [];\r\n    let nextPosts = [];\r\n    let splicedCate = [];\r\n    let pages = [];\r\n    let pageNumbers = []; //Số trang được chia ra\r\n    const [searchNews, setSearchNews] = useState(null)\r\n    const [searchErr, setSearchErr] = useState(null)\r\n\r\n    useEffect(() => {\r\n        if (searchNews) {\r\n            axios.get(`http://pe.heromc.net:4000/news`)\r\n                .then(res => { \r\n                    const search = []\r\n                    for (let i in res.data) { \r\n                        if ((res.data[i].newTitle).toLowerCase().includes(searchNews)) {\r\n                            search.push(res.data[i])\r\n                        }\r\n                    }\r\n                    if (search.length > 0) {\r\n                        setNews(search) \r\n                        setSearchErr(null)\r\n                    } else { \r\n                        setSearchErr(\"No results found\") \r\n                    }\r\n                }\r\n            )\r\n        } else {\r\n            if (props.history.location.pathname === \"/news\") {\r\n                axios.get(`http://pe.heromc.net:4000/news`)\r\n                    .then(res => {\r\n                        setNews(res.data)\r\n                    }\r\n                )\r\n            } else {\r\n                axios.get(`http://pe.heromc.net:4000/news/category/${props.match.params.cate}`)\r\n                    .then(res => {\r\n                        setNews(res.data)\r\n                    }\r\n                )\r\n            }\r\n        }\r\n    },[props.history.location.pathname, props.match.params.cate, searchNews])\r\n\r\n    const choosePage = (event) => {\r\n        window.scrollTo(0,0);\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1)\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n    \r\n    if (news.length > 0) {\r\n        //Filt Posts depend on Category\r\n        let filterNews = [];\r\n        if (currentTab === -1) {\r\n            filterNews = news;\r\n        } else if (currentTabText) {\r\n            filterNews = news.filter((item) => {\r\n                return item.newCate === currentTabText\r\n            })\r\n        } else {\r\n            filterNews = news;\r\n        }\r\n        //Panigation\r\n        const indexOfLastNews = currentPage * newsPerPage;\r\n        const indexOfFirstNews = indexOfLastNews - newsPerPage;\r\n        const currentNews = filterNews.slice(indexOfFirstNews, indexOfLastNews);\r\n        if (currentNews) {\r\n            firstPost = currentNews[0]; //Post of big image\r\n        }\r\n        nextPosts = currentNews.slice(1);\r\n\r\n        //Panigation button\r\n        for (let i = 1; i <= Math.ceil(filterNews.length / newsPerPage); i++) {\r\n            pageNumbers.push(i);\r\n        }\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1 && pageNumbers.length === 1) {\r\n                pages.push();\r\n            } else if (currentPage === 1 && currentPage < pageNumbers.length) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            }else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            } else {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n        \r\n        //Get all category\r\n        const cate = Object.values(news.reduce((a, {newCate}) => {\r\n            a[newCate] = a[newCate] || {newCate, count: 0};\r\n            a[newCate].count++;\r\n            return a;\r\n        }, Object.create(null)));\r\n        //Sort and splice category by posts count\r\n        cate.sort((a,b) =>  b.count - a.count)\r\n        splicedCate = cate.splice(0,5);\r\n        splicedCate.sort((a, b) => b.count - a.count);\r\n\r\n        for (let i = 0; i < splicedCate.length; i++) {\r\n            sortedCate.push(splicedCate[i].newCate);\r\n        }\r\n    }\r\n    const setCurrentTabFunc = (data) => {\r\n        setCurrentTab(data)\r\n    }\r\n    const setCurrentTabTextFunc = (data) => {\r\n        setCurrentTabText(data)\r\n    }\r\n    const setCurrentPageFunc = (data) => {\r\n        setCurrentPage(data)\r\n    }\r\n    const cateLink = (`/news/category/${firstPost.newCate}`)\r\n\r\n    return(\r\n        <div className=\"NewsBody\">\r\n            <NewsNavbar\r\n                setCurrentTab = {setCurrentTabFunc}\r\n                setCurrentTabText = {setCurrentTabTextFunc}\r\n                setCurrentPage = {setCurrentPageFunc}\r\n                currentTab = {currentTab}\r\n                currentTabText = {currentTabText}\r\n                sortedCate = {sortedCate}\r\n            />\r\n            <div className=\"newsbody-container\">\r\n                <div className=\"newsbody-post\">\r\n                    <NewsBodyBig\r\n                        firstPost = {firstPost}\r\n                        cateLink = {cateLink}\r\n                    />\r\n                    {nextPosts.map((item, index) => {\r\n                        return (\r\n                            <NewBodySmall\r\n                                item={item}\r\n                                key={index}\r\n                            />\r\n                        )\r\n                    })}\r\n                    <NewsBodyPag\r\n                        choosePage = {choosePage}\r\n                        currentPage = {currentPage}\r\n                        pages = {pages}\r\n                        pageNumbers = {pageNumbers}\r\n                    />\r\n                </div>\r\n                <NewsBodyWidget\r\n                    searchErr={searchErr}\r\n                    setSearchNews= {setSearchNews}\r\n                />\r\n            </div>\r\n            <div className=\"newsbody-line\"></div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(NewsBody);","import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport NewsBanner from '../components/Banner/NewsBanner.js'\r\nimport NewsBody from '../components/News/NewsBody.js'\r\nimport Header from '../components/Header/Header.js'\r\nimport Newsletter from \"../components/Layouts/Newsletter\";\r\nimport Footer from \"../components/Layouts/Footer\";\r\n\r\nexport default function NewsPages() {\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"NewsPages\">\r\n            <Header/>\r\n            <NewsBanner/>\r\n            <NewsBody/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faAngleRight } from \"@fortawesome/free-solid-svg-icons\";\r\nimport {\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\n\r\n  \r\nfunction BannerV2(props) {\r\n\r\n    const location = props.history.location.pathname.split('/')[(props.history.location.pathname.split('/').length-1)]\r\n\r\n    let locationText = \"\"\r\n    if (location.split('-').length > 1) {\r\n        locationText = location.split('-').join(' ')\r\n    } else {\r\n        locationText = location\r\n    }\r\n\r\n    return(\r\n        <div className=\"BannerV2\">\r\n            <div \r\n                className=\"newsbanner-container another-banner\" \r\n                style={{ \r\n                    backgroundImage: `url(${props.bannerImage})`,\r\n                    backgroundPosition: props.position\r\n                }}\r\n                >\r\n                <div className=\"newsbanner-overlay flex-center another-overlay\">\r\n                    <div className=\"newsbanner-title\">\r\n                        {locationText}\r\n                    </div>\r\n                    <div className=\"newsbanner-breadcrumb flex-center\">\r\n                        <div \r\n                            style={{cursor: 'pointer'}}\r\n                            onClick={()=>{\r\n                                props.history.push('/')\r\n                            }}\r\n                        >Home</div>\r\n                        <FontAwesomeIcon icon={faAngleRight} className=\"cart-icon\" style={{margin: '0 10px'}}/>\r\n                        <div>{locationText}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(BannerV2);","import React, { Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst trackHeight = 2;\r\nconst thumbHeight = 18;\r\n\r\nconst muiRailStyle = (theme) => ({\r\n    rail: {\r\n        backgroundColor: \"#ddd\",\r\n        width: \"100%\",\r\n        height: trackHeight,\r\n        position: \"absolute\",\r\n        pointerEvents: \"none\"\r\n    },\r\n    railHotspot: {\r\n        // backgroundColor: \"green\", // for debugging\r\n        width: \"100%\",\r\n        height: thumbHeight * 2, // Invisible hotspot same size as thumb\r\n        top: thumbHeight * -1,\r\n        position: \"absolute\",\r\n        cursor: \"pointer\"\r\n    }\r\n});\r\n\r\nfunction MuiRailComponent({ classes, getRailProps }) {\r\n    return (\r\n        <Fragment>\r\n        <div className={classes.railHotspot} {...getRailProps()} />\r\n        <div className={classes.rail} />\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nMuiRailComponent.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    getRailProps: PropTypes.func.isRequired\r\n};\r\n\r\nexport const MuiRail = withStyles(muiRailStyle)(MuiRailComponent);\r\n\r\n// *******************************************************\r\n// HANDLE COMPONENT\r\n// *******************************************************\r\n\r\nconst muiHandleStyle = (theme) => ({\r\n    root: {\r\n        backgroundColor: \"#112\",\r\n        marginLeft: thumbHeight * -0.5,\r\n        marginTop: thumbHeight * -0.5,\r\n        width: thumbHeight,\r\n        height: thumbHeight,\r\n        border: 0,\r\n        borderRadius: \"50%\", // circle\r\n        // boxShadow: \"1px 1px 1px 1px rgba(0, 0, 0, 0.2)\",\r\n        whiteSpace: \"nowrap\", // for child display inline-block to work\r\n        position: \"absolute\",\r\n        zIndex: 2,\r\n        cursor: \"pointer\"\r\n    }\r\n});\r\n\r\nfunction MuiHandleComponent({\r\n    domain: [min, max],\r\n    handle: { id, value, percent },\r\n    classes,\r\n    getHandleProps\r\n    }) {\r\n    return (\r\n        <div\r\n        role=\"slider\"\r\n        aria-valuemin={min}\r\n        aria-valuemax={max}\r\n        aria-valuenow={value}\r\n        className={classes.root}\r\n        style={{ left: `${percent}%` }}\r\n        {...getHandleProps(id)}\r\n        />\r\n    );\r\n}\r\n\r\nMuiHandleComponent.propTypes = {\r\n    domain: PropTypes.array.isRequired,\r\n    handle: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        value: PropTypes.number.isRequired,\r\n        percent: PropTypes.number.isRequired\r\n    }).isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    getHandleProps: PropTypes.func.isRequired\r\n};\r\n\r\nexport const MuiHandle = withStyles(muiHandleStyle)(MuiHandleComponent);\r\n\r\n// *******************************************************\r\n// TRACK COMPONENT\r\n// *******************************************************\r\n\r\nconst muiTrackStyle = (theme) => ({\r\n    track: {\r\n        backgroundColor: \"#112\",\r\n        height: trackHeight,\r\n        position: \"absolute\",\r\n        zIndex: 1,\r\n        pointerEvents: \"none\"\r\n    },\r\n    trackHotspot: {\r\n        // backgroundColor: \"grey\", // for debugging\r\n        height: thumbHeight, // Invisible hotspot same size as thumb\r\n        top: thumbHeight * -0.5,\r\n        position: \"absolute\",\r\n        cursor: \"pointer\"\r\n    }\r\n});\r\n\r\nfunction MuiTrackComponent({ classes, source, target, getTrackProps }) {\r\n    const left = `${source.percent}%`;\r\n    const width = `${target.percent - source.percent}%`;\r\n\r\n    return (\r\n        <Fragment>\r\n        <div className={classes.track} style={{ left, width }} />\r\n        <div\r\n            className={classes.trackHotspot}\r\n            style={{ left, width }}\r\n            {...getTrackProps()}\r\n        />\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nMuiTrackComponent.propTypes = {\r\n    source: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        value: PropTypes.number.isRequired,\r\n        percent: PropTypes.number.isRequired\r\n    }).isRequired,\r\n    target: PropTypes.shape({\r\n        id: PropTypes.string.isRequired,\r\n        value: PropTypes.number.isRequired,\r\n        percent: PropTypes.number.isRequired\r\n    }).isRequired,\r\n    classes: PropTypes.object.isRequired,\r\n    getTrackProps: PropTypes.func.isRequired\r\n};\r\n \r\nexport const MuiTrack = withStyles(muiTrackStyle)(MuiTrackComponent);\r\n","import React, { Component } from \"react\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { Slider, Rail, Handles, Tracks } from \"react-compound-slider\";\r\nimport { MuiRail, MuiHandle, MuiTrack } from \"./RangeSliderComponents\";\r\n\r\nexport default class RangeSlider extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const initialValues = [0, 5000000];\r\n        this.state = {\r\n            domain: [0, 5000000],\r\n            values: [...initialValues],\r\n            update: [...initialValues]\r\n        };\r\n    }\r\n\r\n    onUpdate = (update) => {\r\n        this.setState({ \r\n            update \r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { domain, values, update } = this.state;\r\n        this.props.setSortPriceValue(update)\r\n        return (\r\n            <Grid container>\r\n                <Grid item xs={12} style={{ margin: \"30px 0\"}}>\r\n                    <div style={{ marginBottom: \"40px\"}}>\r\n                        <Slider\r\n                            mode={2}\r\n                            step={100000}\r\n                            domain={domain}\r\n                            rootStyle={{\r\n                                position: \"relative\",\r\n                                width: \"100%\"\r\n                            }}\r\n                            onUpdate={this.onUpdate}\r\n                            onChange={this.onChange}\r\n                            values={values}\r\n                        >\r\n                            <Rail>\r\n                                {({ getRailProps }) => <MuiRail getRailProps={getRailProps} />}\r\n                            </Rail>\r\n                            <Handles>\r\n                                {({ handles, getHandleProps }) => (\r\n                                <div className=\"slider-handles\">\r\n                                    {handles.map((handle) => (\r\n                                    <MuiHandle\r\n                                        key={handle.id}\r\n                                        handle={handle}\r\n                                        domain={domain}\r\n                                        getHandleProps={getHandleProps}\r\n                                    />\r\n                                    ))}\r\n                                </div>\r\n                                )}\r\n                            </Handles>\r\n                            <Tracks left={false} right={false}>\r\n                                {({ tracks, getTrackProps }) => (\r\n                                <div className=\"slider-tracks\">\r\n                                    {tracks.map(({ id, source, target }) => (\r\n                                    <MuiTrack\r\n                                        key={id}\r\n                                        source={source}\r\n                                        target={target}\r\n                                        getTrackProps={getTrackProps}\r\n                                    />\r\n                                    ))}\r\n                                </div>\r\n                                )}\r\n                            </Tracks>\r\n                        </Slider>\r\n                    </div>\r\n                    <Typography className=\"filter-price flex\">\r\n                        <span>{update[0].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</span>\r\n                        <span>-</span>\r\n                        <span>{update[1].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</span>\r\n                    </Typography>\r\n                </Grid>\r\n            </Grid>\r\n        );\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport Product from '../Product/Product.js'\r\nimport RangeSlider from './RangeSlider.js'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCircle, faFilter, faTh, faThLarge, faTimes } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction ShopBody(props) {\r\n\r\n    const [product, setProduct] = useState([]);\r\n    const [constProduct, setConstProduct] = useState([]);\r\n    const [gridTab, setGridTab] = useState(2);\r\n    const [currentTab, setCurrentTab] = useState(1);\r\n    const location = props.location.pathname.split('/')[1];\r\n    const sortedCate = props.sortedCate\r\n    const [sortPriceValue, setSortPriceValue] = useState([])\r\n\r\n    useEffect(()=>{\r\n        setProduct(props.products)\r\n        setConstProduct(props.products)\r\n    }, [props.products])\r\n\r\n    let width, height, parentHeight, marginLeft, marginRight, classWidth = \"\";\r\n    if (gridTab === 1) {\r\n        width = `${100/6}%`; // six\r\n        parentHeight = `${100/6}vw`;\r\n        height = `calc(${parentHeight} - 68px)`;\r\n    } else if (gridTab === 2) {\r\n        width = '20%'; // five;\r\n        parentHeight = '20vw';\r\n        height = `calc(${parentHeight} - 68px)`;\r\n    } else if (gridTab === 3) {\r\n        width = '25%'; // four\r\n        parentHeight = '25vw';\r\n        height = `calc(${parentHeight} - 68px)`;\r\n    }\r\n\r\n    const soldProduct = [...product];\r\n    if (soldProduct.length > 0) { \r\n        soldProduct.sort((a,b) => b.productSold - a.productSold)\r\n    }\r\n    const dateProductVirtual = [...product];\r\n    const dateProduct = [];\r\n    if (dateProductVirtual) {\r\n        dateProductVirtual.sort((a,b)=> new Date(b.productDate) - new Date(a.productDate));\r\n        for (let i in dateProductVirtual) {\r\n            const today = new Date();\r\n            const productDate = new Date(dateProductVirtual[i].productDate);\r\n            if (((today - productDate)/(1000 * 3600 * 24)) < 10) {\r\n                dateProduct.push(dateProductVirtual[i])\r\n            }\r\n        }\r\n    }\r\n    const sellingProduct = [];\r\n    if (product.length > 0) {\r\n        for (let i = 0; i < product.length; i++) {\r\n            if (Number(product[i].productSale) > 0) {\r\n                sellingProduct.push(product[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    const chooseCateLink = (event) => {\r\n        props.history.push(`/${location}/${(event.target.id).toLowerCase().split(' ').join('-')}`)\r\n    }\r\n\r\n    const chooseSize = (event) => {\r\n        const virtualProduct = []\r\n        const id = event.target.id\r\n        for (let i in constProduct) {\r\n            for (let j in constProduct[i].productSize) {\r\n                if (constProduct[i].productSize[j].toLowerCase() === id) {\r\n                    virtualProduct.push(constProduct[i])\r\n                }\r\n            }\r\n        }\r\n        setProduct(virtualProduct)\r\n    }\r\n\r\n    const choosePrice = () => {\r\n        const virtualProduct = []\r\n        for (let i in constProduct) { \r\n            if (constProduct[i].productFinalPrice >= sortPriceValue[0] && constProduct[i].productFinalPrice <= sortPriceValue[1]) {\r\n                virtualProduct.push(constProduct[i])\r\n            }\r\n        }\r\n        setProduct(virtualProduct)\r\n    }\r\n\r\n    const [filterBox, setFilterBox] = useState(false)\r\n    const [cateFilter, setCateFilter] = useState(\"\")\r\n    const [sizeFilter, setSizeFilter] = useState(\"\")\r\n    const openFilterBox = () => {\r\n        setFilterBox(true)\r\n    }\r\n\r\n    const filterMobile = () => {\r\n        const virtualProduct = [] \r\n        if (cateFilter !== \"\") {\r\n            for (let i in constProduct) { \r\n                if (constProduct[i].productCate === cateFilter) {\r\n                    virtualProduct.push(constProduct[i])\r\n                }\r\n            }\r\n        }\r\n        if (virtualProduct.length === 0) {\r\n            virtualProduct.push(...constProduct)\r\n        }\r\n        const virtualProduct2 = []\r\n        if (sizeFilter !== \"\") {\r\n            for (let i in virtualProduct) { \r\n                if (virtualProduct[i].productSize === sizeFilter) {\r\n                    virtualProduct2.push(virtualProduct[i])\r\n                }\r\n            }\r\n        }\r\n        if (virtualProduct2.length === 0) {\r\n            virtualProduct2.push(...virtualProduct)\r\n        }\r\n        const virtualProduct3 = [] \r\n        for (let i in virtualProduct2) { \r\n            if (virtualProduct2[i].productFinalPrice >= sortPriceValue[0] && virtualProduct2[i].productFinalPrice <= sortPriceValue[1]) {\r\n                virtualProduct3.push(virtualProduct2[i])\r\n            }\r\n        } \r\n        if (virtualProduct3.length === 0) {\r\n            virtualProduct3.push(...virtualProduct2)\r\n        }\r\n        setProduct(virtualProduct3)\r\n        setFilterBox(false)\r\n    } \r\n\r\n    const [limit, setLimit] = useState(10);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const loadMore = () => {\r\n        setLoading(true)\r\n        setTimeout(() => {\r\n            setLoading(false)\r\n            setLimit(limit + 5);\r\n        }, 1500);\r\n    }\r\n\r\n    //Limit products\r\n    const limitProduct = product.slice(0, limit);\r\n    const limitProductSold = soldProduct.slice(0, limit);\r\n    const limitProductDate = dateProduct.slice(0, limit);\r\n    const limitProductSelling = sellingProduct.slice(0, limit);\r\n\r\n    return(\r\n        <div className=\"ShopBody\">\r\n            <div className=\"shopbody-container\">\r\n                <div className=\"shopbody-filter\">\r\n                    <div className=\"shopbody-filter-cate\">\r\n                        <div className=\"shopbody-filter-title\">Product Categories</div>\r\n                        <div className=\"shopbody-filter-catelist\">\r\n                            {sortedCate.map((item, index) => \r\n                                <div \r\n                                    className=\"shopbody-filter-catelink\" \r\n                                    key={index}\r\n                                    id={item.productCate}\r\n                                    onClick={chooseCateLink}\r\n                                >\r\n                                    {item.productCate}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"filter-line\"></div>\r\n                    </div>\r\n                    <div className=\"shopbody-filter-size\">\r\n                        <div className=\"shopbody-filter-title\">Size</div>\r\n                        <div className=\"shopbody-filter-catelist\">\r\n                            <div \r\n                                className=\"shopbody-filter-catelink\" \r\n                                id=\"small\"\r\n                                onClick={chooseSize}\r\n                            >\r\n                                Small\r\n                            </div>\r\n                            <div \r\n                                className=\"shopbody-filter-catelink\" \r\n                                id=\"medium\"\r\n                                onClick={chooseSize}\r\n                            >\r\n                                Medium\r\n                            </div>\r\n                            <div \r\n                                className=\"shopbody-filter-catelink\" \r\n                                id=\"large\"\r\n                                onClick={chooseSize}\r\n                            >\r\n                                Large\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"filter-line\"></div>\r\n                    </div>\r\n                    <div className=\"shopbody-filter-price\">\r\n                        <div className=\"shopbody-filter-title\">Price</div>\r\n                        <RangeSlider\r\n                            setSortPriceValue={setSortPriceValue}\r\n                        />\r\n                    </div>\r\n                    <div \r\n                        className=\"shopbody-filter-submit btn\"\r\n                        onClick={choosePrice}\r\n                    >\r\n                        <p>Filter</p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"shopbody-main\">\r\n                    <div className=\"shopbody-first flex\">\r\n                        <div className=\"shopbody-countproduct\">{product.length} products</div>\r\n                        <div className=\"shopbody-tab flex\">\r\n                            <div \r\n                                onClick={() => {setCurrentTab(1)}}\r\n                                className={currentTab === 1 ? \"shopbody-tab-item active\" : \"shopbody-tab-item\"}\r\n                                >\r\n                                All Products\r\n                            </div>\r\n                            <div \r\n                                onClick={() => {setCurrentTab(2)}}\r\n                                className={currentTab === 2 ? \"shopbody-tab-item active\" : \"shopbody-tab-item\"}\r\n                                >\r\n                                Hot Products\r\n                            </div>\r\n                            <div \r\n                                onClick={() => {setCurrentTab(3)}}\r\n                                className={currentTab === 3 ? \"shopbody-tab-item active\" : \"shopbody-tab-item\"}\r\n                                >\r\n                                New Products\r\n                            </div>\r\n                            <div \r\n                                onClick={() => {setCurrentTab(4)}}\r\n                                className={currentTab === 4 ? \"shopbody-tab-item active\" : \"shopbody-tab-item\"}\r\n                                >\r\n                                Sales Products\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"shopbody-option flex\">\r\n                            <div className=\"shopbody-option-grid flex\">\r\n                                <div \r\n                                    className=\"grid-icon-container\"\r\n                                    onClick={()=> { setGridTab(1) }}\r\n                                >\r\n                                    <FontAwesomeIcon \r\n                                            icon={faTh} \r\n                                            className={gridTab === 1 ? \"grid-icon grid-icon-active\" : \"grid-icon\"}\r\n                                        />\r\n                                </div>\r\n                                <div className=\"grid-icon-container\">\r\n                                    <FontAwesomeIcon \r\n                                            icon={faThLarge} \r\n                                            className={gridTab === 2 ? \"grid-icon grid-icon-active\" : \"grid-icon\"}\r\n                                            onClick={()=> { setGridTab(2) }}\r\n                                        />\r\n                                </div>\r\n                                <div className=\"grid-icon-container\">\r\n                                    <FontAwesomeIcon \r\n                                            icon={faCircle} \r\n                                            className={gridTab === 3 ? \"grid-icon grid-icon-active\" : \"grid-icon\"}\r\n                                            onClick={()=> { setGridTab(3) }}\r\n                                        />\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"shopbody-option-filter flex\"\r\n                                onClick={openFilterBox}>\r\n                                <FontAwesomeIcon icon={faFilter} className=\"filter-icon\"/>\r\n                                <p style={{marginLeft: '10px'}}>Filter</p>\r\n                            </div>\r\n                            {\r\n                                filterBox && \r\n                                <div className=\"filter-box\">\r\n                                    <div className=\"filter-box-header flex\"style={{color: '#111'}}>\r\n                                        <p >Filter</p>\r\n                                        <div  \r\n                                            onClick={()=>{\r\n                                                setFilterBox(false)\r\n                                            }}\r\n                                            style={{\r\n                                                height: '40px', \r\n                                                width: '40px',  \r\n                                                display: 'flex',\r\n                                                justifyContent: 'flex-end',\r\n                                                alignItems: 'flex-start',\r\n                                                fontSize: '20px'\r\n                                            }}>\r\n                                            <FontAwesomeIcon icon={faTimes}/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"filter-box-main flex-col\">\r\n                                        <select \r\n                                            className=\"input\"\r\n                                            value={cateFilter}\r\n                                            onChange={(event)=>{\r\n                                                if (event.target.value === \"Select a category\") {\r\n                                                    setCateFilter(\"\")\r\n                                                } else {\r\n                                                    setCateFilter(event.target.value)\r\n                                                }\r\n                                        }}>\r\n                                            <option>Select a category</option>\r\n                                            {sortedCate.map((item, index) => \r\n                                                <option  \r\n                                                    key={index} \r\n                                                >\r\n                                                    {item.productCate}\r\n                                                </option>\r\n                                            )}\r\n                                        </select> \r\n                                        <select className=\"input\"\r\n                                            value={sizeFilter}\r\n                                            onChange={(event)=>{\r\n                                                if (event.target.value === \"Any size\") {\r\n                                                    setSizeFilter(\"\")\r\n                                                } else {\r\n                                                    setSizeFilter(event.target.value)\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                            <option>Any size</option>\r\n                                            <option>Small</option>\r\n                                            <option>Medium</option>\r\n                                            <option>Large</option>\r\n                                        </select> \r\n                                        <div>\r\n                                            <div className=\"filter-box-text\">Price</div>\r\n                                            <RangeSlider\r\n                                                setSortPriceValue={setSortPriceValue}\r\n                                            />\r\n                                        </div>\r\n                                        <div \r\n                                            className=\"shopbody-filter-submit btn\"\r\n                                            onClick={filterMobile}\r\n                                        >\r\n                                            <p>Filter</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"shopbody-line\"></div>\r\n                    { currentTab === 1 &&\r\n                        <div className=\"shopbody-products\">\r\n                            {limitProduct.map(function(item, index) {\r\n                                return (\r\n                                    <Product\r\n                                        key={index}\r\n                                        product={item}\r\n                                        width={width}\r\n                                        height={height}\r\n                                        parentHeight={parentHeight}\r\n                                        marginLeft={marginLeft}\r\n                                        marginRight={marginRight}\r\n                                        gridTab={gridTab}\r\n                                        classWidth={classWidth}\r\n                                    />\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    }\r\n                    { currentTab === 2 &&\r\n                        <div className=\"shopbody-products\">\r\n                            {limitProductSold.map(function(item, index) {\r\n                                return (\r\n                                    <Product\r\n                                        key={index}\r\n                                        product={item}\r\n                                        width={width}\r\n                                        height={height}\r\n                                        parentHeight={parentHeight}\r\n                                        marginLeft={marginLeft}\r\n                                        marginRight={marginRight}\r\n                                        gridTab={gridTab}\r\n                                        classWidth={classWidth}\r\n                                    />\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    }\r\n                    { currentTab === 3 &&\r\n                        <div className=\"shopbody-products\">\r\n                            {\r\n                                limitProductDate.length === 0 &&\r\n                                <div style={{\r\n                                    textAlign: 'center',\r\n                                    width: '100%',\r\n                                    textTransform: 'capitalize',\r\n                                    marginTop: '150px'\r\n                                }}>\r\n                                    there's nothing here yet\r\n                                </div>\r\n                            }\r\n                            {limitProductDate.map(function(item, index) {\r\n                                return (\r\n                                    <Product\r\n                                        key={index}\r\n                                        product={item}\r\n                                        width={width}\r\n                                        height={height}\r\n                                        parentHeight={parentHeight}\r\n                                        marginLeft={marginLeft}\r\n                                        marginRight={marginRight}\r\n                                        gridTab={gridTab}\r\n                                        classWidth={classWidth}\r\n                                    />\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    }\r\n                    { currentTab === 4 &&\r\n                        <div className=\"shopbody-products\">\r\n                            {limitProductSelling.map(function(item, index) {\r\n                                return (\r\n                                    <Product\r\n                                        key={index}\r\n                                        product={item}\r\n                                        width={width}\r\n                                        height={height}\r\n                                        parentHeight={parentHeight}\r\n                                        marginLeft={marginLeft}\r\n                                        marginRight={marginRight}\r\n                                        gridTab={gridTab}\r\n                                        classWidth={classWidth}\r\n                                    />\r\n                                )\r\n                            })}\r\n                        </div>\r\n                    }\r\n\r\n                    {(product.length > 10 && product.length >= limit) && \r\n                        <div className=\"tab-loadmore flex-center\">\r\n                            <div \r\n                                className=\"tab-loadmore-btn btn\"\r\n                                onClick={loadMore}\r\n                                >\r\n                                Load More\r\n                            </div>\r\n                            {loading === true && \r\n                                <div className=\"tab-loadmore-btn tab-loadmore-loading btn-nothover\">\r\n                                    <div className=\"loading-icon\"></div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"shopbody-line\"></div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(ShopBody)\r\n","export default __webpack_public_path__ + \"static/media/S3.01fe156a.jpg\";","import React, { useEffect, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport BannerV2 from '../components/Banner/BannerV2.js'\r\nimport Header from '../components/Header/Header.js'\r\nimport ShopBody from \"../components/Shop/ShopBody\";\r\nimport bg from '../assets/S3.jpg'\r\nimport axios from 'axios'\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Shop(props) {\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [sortedCate, setSortedCate] = useState([]);\r\n    let sex = props.location.pathname.split('/')[1]\r\n    let cate = props.location.pathname.split('/')[2] \r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n\r\n    useEffect(() => {\r\n        if (sex === \"shop\") { \r\n            axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {   \r\n                \r\n                const virtualCate = [...res.data] \r\n                //Get all category\r\n                const sortedcate = Object.values(virtualCate.reduce((a, {productCate}) => {\r\n                    a[productCate] = a[productCate] || {productCate, count: 0};\r\n                    a[productCate].count++;\r\n                    return a;\r\n                }, Object.create(null)));\r\n                //Sort and splice category by posts count\r\n                sortedcate.sort((a,b) =>  b.count - a.count)\r\n                setSortedCate(sortedcate)\r\n                const virtualData = []\r\n                for(let i in res.data) { \r\n                    if (cate) { \r\n                        if ((res.data[i].productName).toLowerCase().includes(cate.toLowerCase())) {\r\n                            virtualData.push(res.data[i])\r\n                        } \r\n                    } else {\r\n                        virtualData.push(res.data[i])\r\n                    } \r\n                }\r\n                setProducts(virtualData)\r\n            })\r\n        } else {\r\n            sex.toLowerCase() === \"men\" ? sex = \"man\" : sex = \"woman\"\r\n            axios.get(`http://pe.heromc.net:4000/products`)\r\n                .then(res => {\r\n                    const virtualCate = []\r\n                    for (let i in res.data) {\r\n                        if (sex === \"woman\") {\r\n                            if (res.data[i].productSex === \"Woman\") {\r\n                                virtualCate.push(res.data[i])\r\n                            } \r\n                        } else {\r\n                            if (res.data[i].productSex === \"Man\") {\r\n                                virtualCate.push(res.data[i])\r\n                            } \r\n                        }\r\n                    }\r\n                    //Get all category\r\n                    const sortedcate = Object.values(virtualCate.reduce((a, {productCate}) => {\r\n                        a[productCate] = a[productCate] || {productCate, count: 0};\r\n                        a[productCate].count++;\r\n                        return a;\r\n                    }, Object.create(null)));\r\n                    //Sort and splice category by posts count\r\n                    sortedcate.sort((a,b) =>  b.count - a.count)\r\n                    setSortedCate(sortedcate)\r\n                    \r\n    \r\n                    const virtualData = []\r\n                    for(let i in res.data) { \r\n                        if (!cate) {\r\n                            if (res.data[i].productSex.toLowerCase() === sex) {\r\n                                virtualData.push(res.data[i])\r\n                            }\r\n                        } else {\r\n                            if (res.data[i].productSex.toLowerCase() === sex && cate && res.data[i].productGroupCate.toLowerCase().split(' ').join('-') === cate) {\r\n                                virtualData.push(res.data[i])\r\n                            } else if (res.data[i].productSex.toLowerCase() === sex && cate && res.data[i].productCate.toLowerCase().split(' ').join('-') === cate) {\r\n                                virtualData.push(res.data[i])\r\n                            }\r\n                        }\r\n    \r\n                    }\r\n                    setProducts(virtualData)\r\n                }\r\n            )\r\n        }\r\n    },[sex, cate]) \r\n    \r\n    return (\r\n        <div className=\"Men\">\r\n            <Header/>\r\n            <BannerV2 bannerImage={bg} position={'120px'}/>\r\n            <ShopBody\r\n                products={products}\r\n                sortedCate={sortedCate}\r\n            />\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Shop);\r\n","export default __webpack_public_path__ + \"static/media/contact.ea48007b.jpg\";","import React, { Component } from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faHome, faMailBulk, faPhone } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default class ContactBody extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ContactBody\">\r\n                <div className=\"contact-info\">\r\n                    <div className=\"contact-info-title\">\r\n                        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\r\n                    </div>\r\n                    <div className=\"contact-info-detail\">\r\n                        <div className=\"contact-info-item\">\r\n                            <FontAwesomeIcon icon={faHome} className=\"contact-icon\"/>\r\n                            <p className=\"contact-info-title2\">ADDRESS</p>\r\n                            <p>Song Hanh, khu pho 6, Thu Duc, TP HCM</p>\r\n                        </div>\r\n                        <div className=\"contact-info-item\">\r\n                            <FontAwesomeIcon icon={faPhone} className=\"contact-icon\"/>\r\n                            <p className=\"contact-info-title2\">phone</p>\r\n                            <p>+1 248-785-8545</p>\r\n                        </div>\r\n                        <div className=\"contact-info-item\">\r\n                            <FontAwesomeIcon icon={faMailBulk} className=\"contact-icon\"/>\r\n                            <p className=\"contact-info-title2\">email</p>\r\n                            <p>sober@google.com</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport '../../App.css';\r\n\r\nclass GoogleMap extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"google-map\">\r\n                <iframe \r\n                    title=\"map\"\r\n                    src=\"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d6724.258138017331!2d106.79943073170435!3d10.869923660434521!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x317527587e9ad5bf%3A0xafa66f9c8be3c91!2sUniversity%20of%20Information%20Technology%20VNU-HCM!5e1!3m2!1sen!2s!4v1600841063066!5m2!1sen!2s\" \r\n                    width=\"100%\" \r\n                    height=\"100%\" \r\n                    frameBorder=\"0\" \r\n                    aria-hidden=\"false\" \r\n                    tabIndex=\"0\"/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default GoogleMap;","import React, { Component } from 'react';\r\nimport '../../App.css';\r\nimport GoogleMap from './GoogleMap';\r\n\r\nexport default class GetInTouch extends Component {\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"GetInTouch flex\">\r\n                <div className=\"getintouch-container\">\r\n                    <div className=\"map\">\r\n                        <GoogleMap/>\r\n                    </div>\r\n                    <form className=\"getintouch-form\">\r\n                        <label>Contact Us</label>\r\n                        <input placeholder=\"Name\"></input>\r\n                        <input placeholder=\"Email\"></input>\r\n                        <input placeholder=\"Subject\"></input>\r\n                        <input placeholder=\"Message\"></input>\r\n                        <button className=\"btn\">Send message</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport BannerV2 from '../components/Banner/BannerV2.js'\r\nimport Header from '../components/Header/Header.js'\r\nimport bg from '../assets/contact.jpg'\r\nimport ContactBody from '../components/Contact/ContactBody.js'\r\nimport GetInTouch from \"../components/Contact/GetInTouch\";\r\n\r\nfunction Contact() {\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n    \r\n    return (\r\n        <div className=\"Contact\">\r\n            <Header/>\r\n            <BannerV2 bannerImage={bg} position={'0px'}/>\r\n            <ContactBody/>\r\n            <GetInTouch/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\nexport default Contact;\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport '../../App.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faAngleRight, faCartPlus, faChevronLeft, faChevronRight, faHeart, faMinus, faPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from 'react-router-dom';\r\nimport ReactStars from \"react-rating-stars-component\";\r\nimport { CartContext } from '../../contexts/Cart';\r\n\r\nexport default function ProductBody(props) {\r\n\r\n    function slugify(str){\r\n            str = str.replace(/^\\s+|\\s+$/g, ''); // trim\r\n            str = str.toLowerCase();\r\n\r\n            // remove accents, swap ñ for n, etc\r\n            var from = \"ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;\";\r\n            var to   = \"aaaaaeeeeeiiiiooooouuuunc------\";\r\n            for (var i=0, l=from.length ; i<l ; i++) {\r\n                str = str.replace(new RegExp(from.charAt(i), 'g'), to.charAt(i));\r\n            }\r\n\r\n            str = str.replace(/[^a-z0-9 -]/g, '') // remove invalid chars\r\n                .replace(/\\s+/g, '-') // collapse whitespace and replace by -\r\n                .replace(/-+/g, '-'); // collapse dashes\r\n\r\n            return str;    // Trim - from end of text\r\n    }\r\n    const handleMouseMove = (e) => {\r\n        const { left, top, width, height } = e.target.getBoundingClientRect();\r\n        const x = ((e.pageX - left) / width) * 100;\r\n        const y = ((e.pageY - top) / height) * 100;\r\n        setZoom(`${x}% ${y}%`);\r\n    };\r\n\r\n    const [imgIndex, setImgIndex] = useState(0);\r\n    const [countCart, setCountCart] = useState(1);\r\n    const [hover, setHover] = useState(false);\r\n    const [zoom, setZoom] = useState(`0% 0%`);\r\n    const productSmall = useRef(null);\r\n\r\n    useEffect(() => {\r\n        console.log(hover)\r\n        // if (hover === false) {\r\n        //     var interval = setInterval(() => {\r\n        //         setImgIndex(imgIndex => imgIndex + 1);\r\n        //     }, 1000);\r\n        // }\r\n        // return() => {\r\n        //     clearInterval(interval);\r\n        // }\r\n    },[hover])\r\n\r\n    let slugSex = \"\";\r\n    let ratingList = \"\";\r\n    let product = \"\";\r\n    let ratingStar = {};\r\n    if (props.product) {\r\n        product = props.product;\r\n        slugSex = \"/\" + slugify(product.productSex === 'Woman' ? 'Women' : 'Men');\r\n        if (imgIndex >= product.productImg.length) { //infinity slider loop\r\n            // setProductImgBig(productImgBig.concat(props.productImg))\r\n            setImgIndex(0);\r\n        }\r\n\r\n        if (window.innerWidth > 900) {\r\n            if (product.productImg.length > 4) {\r\n                if (imgIndex === 1 || imgIndex === 2) {\r\n                    productSmall.current.style.transform= `translateY(0px)`\r\n                } else if (imgIndex === product.productImg.length - 1) {\r\n                    productSmall.current.style.transform= `translateY(-${(imgIndex-5) * 110 + 50}px)`\r\n                } else if (imgIndex === product.productImg.length - 2) {\r\n                    productSmall.current.style.transform= `translateY(-${(imgIndex-4) * 110 + 50}px)`\r\n                } else if (imgIndex === product.productImg.length - 3) {\r\n                    productSmall.current.style.transform= `translateY(-${(imgIndex-3) * 110 + 50}px)`\r\n                } else if (imgIndex > 2) {\r\n                    productSmall.current.style.transform= `translateY(-${(imgIndex-2) * 110}px)`\r\n                } else {\r\n                    if (productSmall.current) {\r\n                        productSmall.current.style.transform= `translateY(0px)`\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (product.productImg.length > 4) {\r\n                console.log(imgIndex)\r\n                if (imgIndex === 1 || imgIndex === 2) {\r\n                    productSmall.current.style.transform= `translateX(0px)`\r\n                } else if (imgIndex === product.productImg.length - 1) {\r\n                    productSmall.current.style.transform= `translateX(-${(imgIndex-5) * 85 + 105}px)`\r\n                } else if (imgIndex === product.productImg.length - 2) {\r\n                    productSmall.current.style.transform= `translateX(-${(imgIndex-4) * 85 + 105}px)`\r\n                } else if (imgIndex === product.productImg.length - 3) {\r\n                    productSmall.current.style.transform= `translateX(-${(imgIndex-3) * 85 + 105}px)`\r\n                } else if (imgIndex > 2) {\r\n                    productSmall.current.style.transform= `translateX(-${(imgIndex-2) * 85}px)`\r\n                } else {\r\n                    if (productSmall.current) {\r\n                        productSmall.current.style.transform= `translateX(0px)`\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        //Counting star vote\r\n        ratingList = product.productVote.map(a => a.ratingStar); // get all rating\r\n        const totalRating = ratingList.reduce((a, b) => a + b, 0)\r\n\r\n        const averageRating = totalRating/ratingList.length;\r\n        ratingStar = {\r\n            size: 12,\r\n            value: averageRating,\r\n            edit: false,\r\n            activeColor: \"#fda32a\",\r\n            color: \"#ddd\",\r\n            isHalf: true\r\n        }\r\n    }\r\n    let productDate = new Date(product.productDate) \r\n    let today = new Date()\r\n\r\n    const sliderWidth = useRef(null)\r\n    const [loading, setLoading] = useState(0)\r\n    const { \r\n        addToCart,\r\n        addToWishList\r\n    } = useContext(CartContext);\r\n    const cartClick = () => { \r\n        setLoading(1)\r\n        setTimeout(()=>{\r\n            setLoading(0) \r\n            addToCart(product, countCart) \r\n        }, 500)\r\n        setCountCart(1)\r\n    }\r\n    const wishListClick = () => {\r\n        setLoading(2)\r\n        setTimeout(()=>{\r\n            setLoading(0)\r\n            addToWishList(product)\r\n        }, 500)\r\n    }\r\n\r\n    return(\r\n        <div className=\"ProductBody\">\r\n            <div className=\"product-breadcrumb flex\">\r\n                <Link to=\"/\" className=\"breadcrumb-item breadcrumb-link\">Home</Link>\r\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\r\n                <Link to={slugSex} className=\"breadcrumb-item breadcrumb-link\">{product.productSex === 'Woman' ? 'Women' : 'Men'}</Link>\r\n                <FontAwesomeIcon icon={ faAngleRight } className=\"breadcrumb-arrow\"/>\r\n                <div className=\"breadcrumb-item breadcrumb-product\">{product.productName}</div>\r\n            </div>\r\n\r\n            <div className=\"product-detail flex\">\r\n                <div className=\"product-gallery flex\"\r\n                    onMouseEnter={()=> {setHover(true)}}\r\n                    onMouseLeave={()=> {setHover(false)}}>\r\n                    <div \r\n                        className=\"product-small\" ref={productSmall}\r\n                        >\r\n                        {product.productImg && product.productImg.map((item, index) => {\r\n                            return (\r\n                                <div \r\n                                    key={index}\r\n                                    className={imgIndex === index ? \"product-small-item product-small-item-active\" : \"product-small-item\"}>\r\n                                    <img \r\n                                        src={item}\r\n                                        onClick={()=>{ setImgIndex(index)}}\r\n                                        alt=\"\"\r\n                                        ></img>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div\r\n                        className=\"product-slider flex\"\r\n                        onMouseMove={handleMouseMove}\r\n                        ref={sliderWidth}\r\n                        >\r\n                        <div className=\"product-tag\">\r\n                            {\r\n                                product.productSale > 0 && <div className=\"product-tag-item sale\">\r\n                                    {product.productSale}%\r\n                                </div>\r\n                            }\r\n                            {\r\n                                product.productSold >= 40 && <div className=\"product-tag-item hot\">\r\n                                    HOT\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (today - productDate)/ (1000 * 3600 * 24) < 10 && <div className=\"product-tag-item new\">\r\n                                    NEW \r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        {product.productImg && product.productImg.map((item, index) => {\r\n                            const width = sliderWidth.current.offsetWidth;\r\n                            return (\r\n                                <div\r\n                                    key={index}\r\n                                    className=\"product-big flex\" \r\n                                    style={{ \r\n                                        transform: `translateX(-${width * imgIndex}px`,\r\n                                        backgroundImage: `url(${item})`,\r\n                                        backgroundPosition: `${zoom}`\r\n                                    }}>\r\n                                    <div className=\"product-big-item\">\r\n                                        <img \r\n                                            id={index}\r\n                                            className=\"nodrag\"\r\n                                            style={{ width: `${width}px`}}\r\n                                            src={item}\r\n                                            alt=\"\"\r\n                                            ></img>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                        <div \r\n                            className=\"change-product left\"\r\n                            onClick={()=> {\r\n                                if (imgIndex > 0) setImgIndex(imgIndex - 1)\r\n                            }}\r\n                            >\r\n                            <FontAwesomeIcon icon={faChevronLeft}></FontAwesomeIcon>\r\n                        </div>\r\n                        <div className=\"change-product right\"\r\n                            onClick={()=> {\r\n                                if (imgIndex < product.productImg.length && product.productImg.length) setImgIndex(imgIndex + 1)\r\n                            }}\r\n                            >\r\n                            <FontAwesomeIcon icon={faChevronRight}></FontAwesomeIcon>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"product-info-detail\">\r\n                    <div className=\"product-info-title\">\r\n                        {product.productName}\r\n                    </div>\r\n                    <div className=\"product-info-des\">\r\n                        {product.productDes}\r\n                    </div>\r\n                    <div \r\n                        className=\"product-info-vote\"\r\n                        onClick={props.scrollOnLick}\r\n                        >\r\n                        <div style={{height: '40px'}}>\r\n                            {Object.keys(ratingStar).length !== 0 && <ReactStars {...ratingStar} />}\r\n                        </div>\r\n                        <p>\r\n                            ({ratingList.length} customer reviews)\r\n                        </p>\r\n                    </div>\r\n\r\n                    {\r\n                        product.productFinalPrice && product.productFinalPrice < product.productPrice &&\r\n                        <div className=\"product-info-price\">\r\n                            <span style={{textDecoration: 'line-through', color: '#777', marginRight: '10px', fontSize: '10px'}}>{product.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</span>\r\n                            <span style={{height: 'max-content'}}>{product.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ</span>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        product.productFinalPrice && product.productFinalPrice === product.productPrice &&\r\n                        <div className=\"product-info-price\">\r\n                            {(product.productPrice).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} Đ\r\n                        </div>\r\n                    } \r\n                    <div className=\"product-info-cart flex\">\r\n                        <div className=\"count-cart noselect\">\r\n                            <div className=\"count-cart-item left flex-center\"\r\n                                onClick={() => { \r\n                                    if (countCart > 1) setCountCart(countCart-1) \r\n                                }}\r\n                                >\r\n                                <FontAwesomeIcon icon={faMinus}/>\r\n                            </div> \r\n                            <div className=\"count-cart-item text flex-center\">\r\n                                <form>\r\n                                    <input \r\n                                        type=\"text\" \r\n                                        value={countCart}\r\n                                        onChange={(e) => { \r\n                                            setCountCart(Number(e.target.value.replace(/\\D+/g, ''))) \r\n                                        }}\r\n                                    />\r\n                                </form>\r\n                            </div>\r\n                            <div \r\n                                className=\"count-cart-item right flex-center\"\r\n                                onClick={() => { setCountCart(countCart+1) }}\r\n                                >\r\n                                <FontAwesomeIcon icon={faPlus}/>\r\n                            </div>\r\n                        </div>\r\n                        { loading === 1 && \r\n                            <div className=\"product-info-addtocart flex-center btn\" onClick={cartClick} >\r\n                                <div className=\"loading-icon\"></div> \r\n                            </div>\r\n                        }\r\n                        { loading !== 1 &&  \r\n                            <div className=\"product-info-addtocart flex-center btn\" onClick={cartClick} >\r\n                                <FontAwesomeIcon icon={faCartPlus}/>\r\n                                <p>Add to cart</p>\r\n                            </div>\r\n                        }\r\n                        { loading === 2 && \r\n                            <div className=\"product-info-wishlist flex-center\" onClick={cartClick} >\r\n                                <div className=\"loading-icon\"></div>\r\n                            </div>\r\n                        }\r\n                        { loading !== 2 &&  \r\n                            <div \r\n                                className=\"product-info-wishlist flex-center\"  onClick={wishListClick}>\r\n                                <FontAwesomeIcon icon={faHeart}></FontAwesomeIcon>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    <div className=\"product-info-line\"></div>\r\n                    <div className=\"product-info-cate flex\">\r\n                        <p>Category:</p>\r\n                        <p>{product.productCate}</p>\r\n                    </div>\r\n                    <div className=\"product-info-line\"></div>\r\n                </div>\r\n            </div>\r\n            <div className=\"product-info-line mobile-disable-line\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport '../../App.css';\r\nimport {\r\n    Link,\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\nimport classNames from 'classnames';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faSearch, faUser, faCartPlus, faBars, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Search from './Search.js';\r\nimport Account from './Account.js';\r\nimport Cart from './Cart.js';\r\nimport MenuItemDropdown from './MenuItemDropdown';\r\nimport { CartContext } from '../../contexts/Cart';\r\nimport Div100vh from 'react-div-100vh';\r\nimport axios from 'axios'\r\n\r\nfunction HeaderV2(props) {\r\n\r\n    const [scrolled, setScrolled] = useState(false);\r\n    const [whiteBox, setWhiteBox] = useState(false);\r\n    const [whiteText, setWhiteText] = useState(false);\r\n    const [searchOpen, setSearchOpen] = useState(false);\r\n    const [accountOpen, setAccountOpen] = useState(false);\r\n    const [cartOpen, setCartOpen] = useState(false);\r\n    const [disableBox, setDisableBox] = useState(false);\r\n    const [dropdownHover, setDropdownHover] = useState(false)\r\n    const [totalCart, setTotalCart] = useState(0)\r\n    const [openSubMenu, setOpenSubMenu] = useState(null)\r\n\r\n    const location = props.history.location.pathname;\r\n\r\n    const subHeight = useRef()\r\n\r\n    function clickToClose() {\r\n        document.body.style.overflow = 'unset';\r\n        setSearchOpen(false);\r\n        setAccountOpen(false);\r\n        setCartOpen(false);\r\n    }\r\n\r\n    const handleHover = () => {\r\n        setDropdownHover(true)\r\n    }\r\n    const handleLeaveHover = () => {\r\n        setDropdownHover(false)\r\n    }\r\n    const handleClick = () => {\r\n        window.scrollTo(0,0)\r\n    }\r\n\r\n    const { cartItems, clickedCart } = useContext(CartContext)\r\n    const [navBar, setNavBar] = useState([])\r\n\r\n    useEffect(() => {\r\n        const navBar = [\r\n            {\r\n                id: \"1\",\r\n                label: \"Home\",\r\n                url: \"/\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"2\",\r\n                label: \"Women\",\r\n                url: \"/women\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"3\",\r\n                label: \"Men\",\r\n                url: \"/men\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"4\",\r\n                label: \"News\",\r\n                url: \"/news\",\r\n                dropdownContent: [\r\n                ]\r\n            },\r\n            {\r\n                id: \"5\",\r\n                label: \"Contact\",\r\n                url: \"/contact\",\r\n                dropdownContent: []\r\n            },\r\n        ]\r\n        setNavBar(navBar)\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                let virtualNavBar = [...navBar]\r\n                const menProduct = []\r\n                const womenProduct = []\r\n                for (let i in res.data) {\r\n                    if (res.data[i].productSex === \"Man\") {\r\n                        menProduct.push(res.data[i].productGroupCate)\r\n                    }\r\n                    if (res.data[i].productSex === \"Woman\") {\r\n                        womenProduct.push(res.data[i].productGroupCate)\r\n                    }\r\n                }\r\n                let groupCateMen = menProduct.filter(function(elem, index, self) {\r\n                    return index === self.indexOf(elem);\r\n                })\r\n                let groupCateWomen = womenProduct.filter(function(elem, index, self) {\r\n                    return index === self.indexOf(elem);\r\n                })\r\n                const menDropdownContent = []\r\n                for (let i in groupCateMen) {\r\n                    let menData = {}\r\n                    let cateList = []\r\n                    for (let j in res.data) {\r\n                        if (res.data[j].productGroupCate === groupCateMen[i] && res.data[j].productSex === \"Man\") {\r\n                            cateList.push(res.data[j].productCate)\r\n                        }\r\n                    }\r\n                    let cateList2 = cateList.filter(function(elem, index, self) {\r\n                        return index === self.indexOf(elem);\r\n                    })\r\n                    // console.log(cateList)\r\n                    menData = {\r\n                        dropdownTitle: groupCateMen[i],\r\n                        dropdownList: cateList2\r\n                    }\r\n                    menDropdownContent.push(menData)\r\n                }\r\n                const womenDropdownContent = []\r\n                for (let i in groupCateWomen) {\r\n                    let womenData = {}\r\n                    let cateList = []\r\n                    for (let j in res.data) {\r\n                        if (res.data[j].productGroupCate === groupCateWomen[i] && res.data[j].productSex === \"Woman\") {\r\n                            cateList.push(res.data[j].productCate)\r\n                        }\r\n                    }\r\n                    let cateList2 = cateList.filter(function(elem, index, self) {\r\n                        return index === self.indexOf(elem);\r\n                    })\r\n                    womenData = {\r\n                        dropdownTitle: groupCateWomen[i],\r\n                        dropdownList: cateList2\r\n                    }\r\n                    womenDropdownContent.push(womenData)\r\n                }\r\n                for (let i in virtualNavBar) {\r\n                    if (virtualNavBar[i].label === \"Men\") {\r\n                        virtualNavBar[i].dropdownContent = menDropdownContent\r\n                    }\r\n                    if (virtualNavBar[i].label === \"Women\") {\r\n                        virtualNavBar[i].dropdownContent = womenDropdownContent\r\n                    }\r\n                }\r\n                setNavBar(virtualNavBar)\r\n            }\r\n        )\r\n        setWhiteText(false);\r\n        setDisableBox(false);\r\n        setScrolled(false)\r\n\r\n        if (clickedCart) {\r\n            setScrolled(false)\r\n        }\r\n        \r\n        function onScroll() {\r\n            if(window.pageYOffset < 50) { // top\r\n                setWhiteBox(false)\r\n                setWhiteText(false)\r\n            } else if (this.prev < window.pageYOffset) { //down\r\n                if (dropdownHover === true) {\r\n                    setScrolled(false)\r\n                } else {\r\n                    setScrolled(true)\r\n                }\r\n                setWhiteBox(true)\r\n            } else if (this.prev > window.pageYOffset) { //up\r\n                setScrolled(false)\r\n                setWhiteText(false)\r\n            }\r\n            this.prev = window.pageYOffset;\r\n        }\r\n\r\n        let totalCartVirtual = 0;\r\n        for (let i in cartItems) {\r\n            totalCartVirtual += cartItems[i].count\r\n        }\r\n        setTotalCart(totalCartVirtual)\r\n        window.addEventListener(\"scroll\", onScroll);\r\n        return() => {\r\n            window.removeEventListener(\"scroll\", onScroll);\r\n        }\r\n    }, [clickedCart, location, dropdownHover, props.match.params.cate, cartItems]);\r\n\r\n    if(searchOpen || accountOpen || cartOpen){\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    const [openMobileMenu, setOpenMobileMenu] = useState(false)\r\n\r\n    const openMobileMenuFunc = () => {\r\n        setOpenMobileMenu(true)\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    const [closeAnimation, setCloseAnimation] = useState(false)\r\n    const closeMobileMenuFunc = () => {\r\n        document.body.style.overflow = 'unset';\r\n        setCloseAnimation(true)\r\n        setTimeout(()=>{\r\n            setOpenMobileMenu(false)\r\n            setCloseAnimation(false)\r\n        }, 700)\r\n    }\r\n\r\n    const [searchMobile, setSearchMobile] = useState(\"\")\r\n    return(\r\n        <div\r\n            className={classNames('Header HeaderV2', {\r\n                scrolled: scrolled === true,\r\n                white: whiteBox === true,\r\n                white_disable: disableBox === true\r\n            })}\r\n        >\r\n            <div \r\n                className={whiteText ===false ? \"menu-mobile flex-center\" : \"menu-mobile flex-center closeMenuMobile_white\"}\r\n            >\r\n                <FontAwesomeIcon \r\n                    icon={faBars}\r\n                    onClick={openMobileMenuFunc} \r\n                    style={{fontSize: '20px'}}/>\r\n            </div>\r\n            {\r\n                openMobileMenu === true && \r\n                    <Div100vh className=\"menu-mobile-box flex\">\r\n                        <div className={classNames(\"menu-mobile-left flex-col\",{\r\n                            openMenuMobile: openMobileMenu,\r\n                            closeMenuMobile: closeAnimation\r\n                        })}> \r\n                            <div className=\"menu-mobile-search flex-center\">\r\n                                <input \r\n                                    onChange={(e)=>{\r\n                                        setSearchMobile(e.target.value)\r\n                                    }} \r\n                                    value={searchMobile}\r\n                                    className=\"input\" placeholder=\"Search\" style={{fontSize: '16px', height: '50px'}}\r\n                                ></input>\r\n                                <div onClick={(event)=>{\r\n                                    props.history.push(`/shop/${searchMobile}`)\r\n                                    closeMobileMenuFunc() \r\n                                }}>\r\n                                    <FontAwesomeIcon icon={faSearch} style={{marginLeft: '10px', color: '#777'}}/>\r\n                                </div>\r\n                            </div>\r\n                            <div \r\n                                className=\"menu-mobile-list\"\r\n                            >\r\n                                {\r\n                                    navBar.map((item, index)=> {\r\n                                        let home = \"\"\r\n                                        if (location === \"/\")\r\n                                            home = \"home\"\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                style={{color: '#111', maxHeight: openSubMenu === item.id ? `1000px` : '40px'}}\r\n                                                className={classNames(\"menu-mobile-item a\", {\r\n                                                    menu_mobile_item_active: location.slice(1) === item.label.toLowerCase() || home === item.label.toLowerCase(),\r\n                                                })}\r\n                                                onClick={()=>{\r\n                                                    if (!item.dropdownContent.length > 0) {\r\n                                                        props.history.push(item.url);\r\n                                                    } else {\r\n                                                        if (!openSubMenu) {\r\n                                                            setOpenSubMenu(item.id)\r\n                                                        } else {\r\n                                                            if (openSubMenu === item.id) {\r\n                                                                setOpenSubMenu(null)\r\n                                                            } else {\r\n                                                                setOpenSubMenu(item.id)\r\n                                                            }\r\n                                                        }\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                <div className=\"flex\" style={{justifyContent: 'space-between'}}>\r\n                                                    <p>{item.label}</p>\r\n                                                    { item.dropdownContent.length > 0 && \r\n                                                        <div>\r\n                                                            <FontAwesomeIcon icon={faAngleDown}/>\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                                <div \r\n                                                    className=\"menu-mobile-sub\"\r\n                                                    ref={subHeight}\r\n                                                >\r\n                                                    { item.dropdownContent.map((item, index)=>{ \r\n                                                        return (\r\n                                                            <div\r\n                                                                key={index}\r\n                                                                className=\"menu-item-sub-item\"\r\n                                                            >\r\n                                                                {item.dropdownTitle}\r\n                                                                {\r\n                                                                    item.dropdownList.map((item,index)=>{\r\n                                                                        return (\r\n                                                                            <div\r\n                                                                                className=\"menu-item-sub-item2\"\r\n                                                                                key={index}\r\n                                                                            >\r\n                                                                                {item}\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                        )\r\n                                                        })\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div \r\n                                className=\"menu-mobile-login flex\"\r\n                                onClick={()=> {\r\n                                    setAccountOpen(true)\r\n                                }}>\r\n                                <FontAwesomeIcon icon={faUser} className=\"icon\"/>\r\n                                <p>LOGIN</p>\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"menu-mobile-right\"\r\n                            onClick={closeMobileMenuFunc}\r\n                        ></div>\r\n                    </Div100vh>\r\n                \r\n            }\r\n            <ul className=\"menu flex-center\">\r\n                {\r\n                    navBar.map((item, index)=> { \r\n                        return (\r\n                            <MenuItemDropdown\r\n                                handleClick={handleClick}\r\n                                handleHover={handleHover}\r\n                                handleLeaveHover={handleLeaveHover}\r\n                                dropdownHover={dropdownHover}\r\n                                scrolled={scrolled}\r\n                                location={location} \r\n                                key={index}\r\n                                whiteText={whiteText}\r\n                                label={item.label}\r\n                                url={item.url}\r\n                                dropdownContent={item.dropdownContent} // dropdown text\r\n                                className=\"menu-item\">\r\n                            </MenuItemDropdown>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n            <div className=\"logo flex-center\">\r\n                <Link to=\"/\">\r\n                    {\r\n                        whiteText === true \r\n                            ? <img src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\" alt=\"logo\"></img>\r\n                            : <img src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\" alt=\"logo\"></img>\r\n                    }\r\n                </Link>\r\n            </div>\r\n            <div className={classNames('cart flex-center', {\r\n                    whitelink_header: whiteText === true\r\n                })}> \r\n                <div className=\"icon-container\">\r\n                    <FontAwesomeIcon \r\n                        icon={faSearch} \r\n                        className=\"icon search-icon\"\r\n                        onClick={()=> {\r\n                            setSearchOpen(true)\r\n                        }}\r\n                        />\r\n                </div>\r\n                <div \r\n                    className=\"icon flex-center\"\r\n                    onClick={()=> {\r\n                        setCartOpen(true)\r\n                    }}>\r\n                    <FontAwesomeIcon \r\n                        icon={faCartPlus} \r\n                        className=\"cart-icon\"\r\n                        />\r\n                    <div\r\n                        className={classNames('cart-count flex-center', {\r\n                            cart_count_news_hover: whiteText === true\r\n                        })}> \r\n                        <p>{totalCart}</p>\r\n                    </div>\r\n                </div>\r\n                <div \r\n                    className=\"icon-container login-icon\"\r\n                    onClick={()=> {\r\n                        setAccountOpen(true)\r\n                    }}>\r\n                    <FontAwesomeIcon \r\n                        icon={faUser} \r\n                        className=\"icon\"\r\n                        />\r\n                </div>\r\n            </div>\r\n            <Search searchOpen={searchOpen} clickToClose={clickToClose}/>\r\n            <Account accountOpen={accountOpen} clickToClose={clickToClose}/>\r\n            <Cart cartOpen={cartOpen} clickToClose={clickToClose}/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(HeaderV2);","import React, { useState } from 'react'\r\n\r\nexport default function ProductReviewContent(props) {\r\n\r\n    const [full, setFull] = useState(false);\r\n\r\n    return (\r\n        <div \r\n            className={full === false ? \"review-third review-third-full\" : \"review-third\"}\r\n            onClick={()=> {\r\n                if (props.content.length >= 175) {\r\n                    if (full===false) setFull(true)\r\n                    else setFull(false)\r\n                }\r\n            }}>\r\n            {props.content}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport '../../App.css';\r\n\r\nimport ReactStars from \"react-rating-stars-component\"; \r\nimport ProductReviewContent from './ProductReviewContent';\r\nimport { UserContext } from '../../contexts/User';\r\nimport axios from 'axios'\r\n\r\nexport default function ProductReview(props) {\r\n\r\n    const { \r\n        userInfo\r\n    } = useContext(UserContext);\r\n\r\n    const [ratingValue, setRatingValue] = useState(0)\r\n    const [reviewInput, setReviewInput] = useState(\"\")\r\n    const [nameInput, setNameInput] = useState(\"\")\r\n    const [emailInput, setEmailInput] = useState(\"\")  \r\n    const [product, setProduct] = useState([]);\r\n    const [productVote, setProductVote] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        if (userInfo) {\r\n            setNameInput(userInfo.userName)\r\n            setEmailInput(userInfo.userEmail)\r\n        }\r\n        if (props.product) {\r\n            setProduct(props.product); \r\n            setProductVote(props.product.productVote);\r\n        }\r\n    },[userInfo, props.product])\r\n\r\n    const defaultStar = {\r\n        size: 24,\r\n        value: 0,\r\n        activeColor: \"#fda32a\",\r\n        color: \"#ddd\",\r\n        isHalf: true,\r\n        edit: true,\r\n        onChange: newValue => {\r\n            setRatingValue(newValue)\r\n        }\r\n    }\r\n    \r\n    const sendReview = (event) => {\r\n        event.preventDefault()\r\n        if (userInfo) {\r\n            const data = {\r\n                ratingName: nameInput,\r\n                ratingDate: new Date().toString(),\r\n                ratingText: reviewInput,\r\n                ratingEmail: emailInput,\r\n                ratingStar: ratingValue,\r\n                ratingAvt: userInfo.userAvt\r\n            }\r\n            axios.post(`http://pe.heromc.net:4000/products/review/${product._id}`, data)\r\n            setProductVote(productVote=>[...productVote, data])\r\n            setReviewInput(\"\")\r\n        } else {\r\n            const data = {\r\n                ratingName: nameInput,\r\n                ratingDate: new Date().toString(),\r\n                ratingText: reviewInput,\r\n                ratingEmail: emailInput,\r\n                ratingStar: ratingValue,\r\n                ratingAvt: \"http://pe.heromc.net:4000/images/16f9bbf512b66a228f7978e34d8fb163\"\r\n            }\r\n            axios.post(`http://pe.heromc.net:4000/products/review/${product._id}`, data)\r\n            setProductVote(productVote=>[...productVote, data])\r\n            setReviewInput(\"\")\r\n        }\r\n    } \r\n\r\n    return(\r\n        <div className=\"ProductReview\" ref={props.bRef} id={props.id}>\r\n            <div className=\"productreview-container\">\r\n                <div className=\"productreview-tab flex-center\">\r\n                    <div \r\n                        className={props.tabId === 0 ? \"productreview-title search-tab-active\" : \"productreview-title\"}\r\n                        onClick={()=>{props.setTab(0)}}>\r\n                        Description\r\n                    </div>\r\n                    <div \r\n                        className={props.tabId === 1 ? \"productreview-title search-tab-active\" : \"productreview-title\"}\r\n                        onClick={()=>{props.setTab(1)}}>\r\n                        Reviews\r\n                        <span className={props.tabId === 1 ? \"span-active\" : \"\"}>\r\n                            {productVote.length}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"productreview-content\">\r\n                    {\r\n                        props.tabId === 0 && \r\n                        <div className=\"productreview-text\"> \r\n                            {product.productDes}\r\n                        </div>\r\n                    }\r\n                    {\r\n                        props.tabId === 1 && \r\n                        <div className=\"productreview-list\"> \r\n                            {productVote.map((item, index) => {\r\n                                const ratingStar = {\r\n                                    size: 12,\r\n                                    value: item.ratingStar,\r\n                                    edit: false,\r\n                                    activeColor: \"#fda32a\",\r\n                                    color: \"#ddd\",\r\n                                    isHalf: true\r\n                                }\r\n                                const date = new Date(item.ratingDate)\r\n                                const day = date.getDate()\r\n                                const month = date.getMonth() + 1\r\n                                const year = date.getFullYear()\r\n                                return (\r\n                                    <div \r\n                                        className=\"productreview-item flex\"\r\n                                        key={index}\r\n                                        >\r\n                                        <div className=\"reviewer\">\r\n                                            <img src={item.ratingAvt} width=\"100%\" height=\"100%\" alt=\"\"></img>\r\n                                        </div>\r\n                                        <div className=\"review-info\">\r\n                                            <div className=\"review-first flex\">\r\n                                                <div className=\"reviewer-name\">{item.ratingName}</div>\r\n                                                <div className=\"reviewer-ratingStar\">\r\n                                                    <ReactStars {...ratingStar} />\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"review-second\">\r\n                                                {`${day}-${month}-${year}`}\r\n                                            </div>\r\n                                            <ProductReviewContent content={item.ratingText}/>\r\n                                            {/* <div className=\"review-img flex\">\r\n                                                {item.ratingImg.map((item, index) => {\r\n                                                    return (\r\n                                                        <img \r\n                                                            src={item}\r\n                                                            key={index}\r\n                                                            alt=\"\"\r\n                                                            width=\"72px\"\r\n                                                            height=\"72px\"\r\n                                                        ></img>\r\n                                                    )\r\n                                                })}\r\n                                            </div> */}\r\n                                            {/* <div className=\"review-like\">\r\n                                                <FontAwesomeIcon icon={faThumbsUp} className=\"mr-5\"></FontAwesomeIcon>\r\n                                                <FontAwesomeIcon icon={faComment}></FontAwesomeIcon>\r\n                                            </div> */}\r\n                                        </div>\r\n                                        <div className=\"productreview-line\"></div>\r\n                                    </div>\r\n                                )\r\n                            })} \r\n                            <div className=\"productreview-review\">\r\n                                <div>Add A Review</div>\r\n                                <div style={{ color: \"#888\", textAlign: 'left', fontSize: '12px', marginBottom: '20px'}}>Your email address will not be published. Required fields are marked *</div>\r\n                                <div style={{ color: \"#888\", fontSize: '14px', marginBottom: '10px'}}>Your rating *</div>\r\n                                <ReactStars {...defaultStar}/>\r\n                                <form className=\"review-form\" onSubmit={sendReview}>\r\n                                    <p className=\"review-form-title\">Your review *</p>\r\n                                    <input \r\n                                        type=\"text\" \r\n                                        className=\"w-100 no-outline\" \r\n                                        name=\"reviewText\"\r\n                                        value={reviewInput}\r\n                                        onChange={(event)=>{\r\n                                            setReviewInput(event.target.value)\r\n                                        }}\r\n                                    ></input>\r\n                                    <div className=\"flex w-100\">\r\n                                        <div className=\"w-100 mr-2\">\r\n                                            <p className=\"review-form-title\">Name *</p>\r\n                                            <input \r\n                                                type=\"text\" \r\n                                                className=\"w-100 no-outline\" \r\n                                                name=\"reviewName\"\r\n                                                onChange={(event)=>{\r\n                                                    setNameInput(event.target.value)\r\n                                                }}\r\n                                                value={nameInput}\r\n                                            ></input>\r\n                                        </div>\r\n                                        <div className=\"w-100 ml-2\">\r\n                                            <p className=\"review-form-title\">Email *</p>\r\n                                            <input \r\n                                                type=\"email\" \r\n                                                className=\"w-100 no-outline\" \r\n                                                name=\"reviewEmail\"\r\n                                                onChange={(event)=>{\r\n                                                    setEmailInput(event.target.value)\r\n                                                }}\r\n                                                value={emailInput}\r\n                                            ></input>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button className=\"submit-btn btn\">\r\n                                        Submit\r\n                                    </button>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"product-info-line\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport '../../App.css';\r\nimport Product from '../Product/Product.js'\r\nimport axios from 'axios'\r\n\r\nexport default function ProductRecommend(props) {\r\n\r\n    const [products, setProducts] = useState([]);\r\n    let productInfo = [];\r\n    if (props.product) {\r\n        productInfo = props.product;\r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    const recommendProducts = [];\r\n    products.filter((item) => {\r\n        if (item._id !== productInfo._id) {\r\n            if (item.productSex === productInfo.productSex) { \r\n                if (item.productCate === productInfo.productCate &&\r\n                    item.productGroupCate === productInfo.productGroupCate) {\r\n                    recommendProducts.push(item)\r\n                } else if (item.productGroupCate === productInfo.productGroupCate) {\r\n                    recommendProducts.push(item)\r\n                } else {\r\n                    recommendProducts.push(item)\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    })\r\n\r\n    let recommendProducts2 = recommendProducts.filter(function(elem, index, self) {\r\n        return index === self.indexOf(elem);\r\n    })\r\n\r\n    return(\r\n        <div className=\"ProductRecommend\">\r\n            <div className=\"newsletter-container flex-center\">\r\n                <div className=\"newsletter-title\">Related products</div>\r\n                <div className=\"RecommendProduct\">\r\n                    {recommendProducts2.slice(0,5).map(function(item, index) {\r\n                        return (\r\n                            <Product \r\n                                key={index}\r\n                                product={item}\r\n                            />\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n            <div className=\"product-info-line\"></div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport ProductBody from \"../components/Product/ProductBody.js\";\r\nimport HeaderV2 from \"../components/Header/HeaderV2\";\r\nimport ProductReview from \"../components/Product/ProductReview.js\";\r\nimport ProductRecommend from \"../components/Product/ProductRecommend.js\";\r\nimport axios from 'axios'\r\n\r\nexport default function ProductDetail(props) {\r\n\r\n    const [product, setProduct] = useState();\r\n    const [tabId, setTabId] = useState(0);\r\n    const bRef = useRef(null);\r\n    const handleClick = () => {\r\n        smoothScroll.scrollTo('review');\r\n        setTabId(1)\r\n    }\r\n    var smoothScroll = {\r\n        \r\n        timer: null,\r\n    \r\n        stop: function () {\r\n            clearTimeout(this.timer);\r\n        },\r\n    \r\n        scrollTo: function (id, callback) {\r\n            var settings = {\r\n                duration: 1000,\r\n                easing: {\r\n                    outQuint: function (x, t, b, c, d) {\r\n                        return c*((t=t/d-1)*t*t*t*t + 1) + b;\r\n                    }\r\n                }\r\n            };\r\n            var percentage;\r\n            var startTime;\r\n            var node = document.getElementById(id);\r\n            var nodeTop = node.offsetTop;\r\n            var nodeHeight = node.offsetHeight;\r\n            var body = document.body;\r\n            var html = document.documentElement;\r\n            var height = Math.max(\r\n                body.scrollHeight,\r\n                body.offsetHeight,\r\n                html.clientHeight,\r\n                html.scrollHeight,\r\n                html.offsetHeight\r\n            );\r\n            var windowHeight = window.innerHeight\r\n            var offset = window.pageYOffset;\r\n            var delta = nodeTop - offset;\r\n            var bottomScrollableY = height - windowHeight;\r\n            var targetY = (bottomScrollableY < delta) ?\r\n                (bottomScrollableY - (height - nodeTop - nodeHeight + offset)):\r\n                delta - 30;\r\n    \r\n            startTime = Date.now();\r\n            percentage = 0;\r\n    \r\n            if (this.timer) {\r\n                clearInterval(this.timer);\r\n            }\r\n    \r\n            function step () {\r\n                var yScroll;\r\n                var elapsed = Date.now() - startTime;\r\n    \r\n                if (elapsed > settings.duration) {\r\n                    clearTimeout(this.timer);\r\n                }\r\n    \r\n                percentage = elapsed / settings.duration;\r\n    \r\n                if (percentage > 1) {\r\n                    clearTimeout(this.timer);\r\n    \r\n                    if (callback) {\r\n                        callback();\r\n                    }\r\n                } else {\r\n                    yScroll = settings.easing.outQuint(0, elapsed, offset, targetY, settings.duration);\r\n                    window.scrollTo(0, yScroll);\r\n                    this.timer = setTimeout(step, 10);     \r\n                }\r\n            }\r\n    \r\n            this.timer = setTimeout(step, 10);\r\n        }\r\n    };\r\n    const setTab = (tab) => {\r\n        setTabId(tab)\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n        axios.get(`http://pe.heromc.net:4000/products/` + props.match.params.id)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            }\r\n        )\r\n    },[props.match.params.id])\r\n\r\n    return (\r\n        <div className=\"ProductDetail\">\r\n            <HeaderV2/>\r\n            <ProductBody \r\n                product={product}\r\n                scrollOnLick={handleClick}\r\n            />\r\n            <ProductReview\r\n                product={product}\r\n                bRef={bRef}\r\n                tabId={tabId}\r\n                setTab={setTab}\r\n                id={\"review\"}\r\n            />\r\n            <ProductRecommend\r\n                product={product}\r\n            />\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport {\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\n\r\n  \r\nfunction BannerV3(props) { \r\n\r\n    return(\r\n        <div className=\"BannerV2\">\r\n            <div \r\n                className=\"newsbanner-container another-banner\" \r\n                style={{ \r\n                    backgroundImage: `url(${props.bannerImage})`\r\n                }}\r\n                >\r\n                <div className=\"newsbanner-overlay flex-center another-overlay\">\r\n                    <div className=\"newsbanner-title banner-v3-white\">\r\n                        {props.collectionTitle}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(BannerV3);","import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport '../../App.css';\r\nimport {\r\n    Link,\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\nimport classNames from 'classnames';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {  faSearch, faUser, faCartPlus, faBars, faAngleDown } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Search from './Search.js';\r\nimport Account from './Account.js';\r\nimport Cart from './Cart.js';\r\nimport MenuItemDropdown from './MenuItemDropdown';\r\nimport { CartContext } from '../../contexts/Cart';\r\nimport Div100vh from 'react-div-100vh';\r\nimport axios from 'axios'\r\n\r\nfunction HeaderV3(props) {\r\n\r\n    const [scrolled, setScrolled] = useState(false);\r\n    const [whiteBox, setWhiteBox] = useState(false);\r\n    const [whiteText, setWhiteText] = useState(false);\r\n    const [searchOpen, setSearchOpen] = useState(false);\r\n    const [accountOpen, setAccountOpen] = useState(false);\r\n    const [cartOpen, setCartOpen] = useState(false);\r\n    const [disableBox, setDisableBox] = useState(false);\r\n    const [dropdownHover, setDropdownHover] = useState(false)\r\n    const [totalCart, setTotalCart] = useState(0)\r\n    const [openSubMenu, setOpenSubMenu] = useState(null)\r\n\r\n    const location = props.history.location.pathname;  \r\n    const path = props.history.location.pathname.slice(12);\r\n\r\n    const subHeight = useRef()\r\n\r\n    function clickToClose() {\r\n        document.body.style.overflow = 'unset';\r\n        setSearchOpen(false);\r\n        setAccountOpen(false);\r\n        setCartOpen(false);\r\n    }\r\n\r\n    const handleHover = () => {\r\n        setDropdownHover(true)\r\n    }\r\n    const handleLeaveHover = () => {\r\n        setDropdownHover(false)\r\n    }\r\n    const handleClick = () => {\r\n        window.scrollTo(0,0)\r\n    }\r\n\r\n    const { cartItems, clickedCart } = useContext(CartContext)\r\n    const [navBar, setNavBar] = useState([])\r\n\r\n    useEffect(() => {\r\n        const navBar = [\r\n            {\r\n                id: \"1\",\r\n                label: \"Home\",\r\n                url: \"/\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"2\",\r\n                label: \"Women\",\r\n                url: \"/women\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"3\",\r\n                label: \"Men\",\r\n                url: \"/men\",\r\n                dropdownContent: []\r\n            },\r\n            {\r\n                id: \"4\",\r\n                label: \"News\",\r\n                url: \"/news\",\r\n                dropdownContent: [\r\n                ]\r\n            },\r\n            {\r\n                id: \"5\",\r\n                label: \"Contact\",\r\n                url: \"/contact\",\r\n                dropdownContent: []\r\n            },\r\n        ]\r\n        setNavBar(navBar)\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                let virtualNavBar = [...navBar]\r\n                const menProduct = []\r\n                const womenProduct = []\r\n                for (let i in res.data) {\r\n                    if (res.data[i].productSex === \"Man\") {\r\n                        menProduct.push(res.data[i].productGroupCate)\r\n                    }\r\n                    if (res.data[i].productSex === \"Woman\") {\r\n                        womenProduct.push(res.data[i].productGroupCate)\r\n                    }\r\n                }\r\n                let groupCateMen = menProduct.filter(function(elem, index, self) {\r\n                    return index === self.indexOf(elem);\r\n                })\r\n                let groupCateWomen = womenProduct.filter(function(elem, index, self) {\r\n                    return index === self.indexOf(elem);\r\n                })\r\n                const menDropdownContent = []\r\n                for (let i in groupCateMen) {\r\n                    let menData = {}\r\n                    let cateList = []\r\n                    for (let j in res.data) {\r\n                        if (res.data[j].productGroupCate === groupCateMen[i] && res.data[j].productSex === \"Man\") {\r\n                            cateList.push(res.data[j].productCate)\r\n                        }\r\n                    }\r\n                    let cateList2 = cateList.filter(function(elem, index, self) {\r\n                        return index === self.indexOf(elem);\r\n                    })\r\n                    // console.log(cateList)\r\n                    menData = {\r\n                        dropdownTitle: groupCateMen[i],\r\n                        dropdownList: cateList2\r\n                    }\r\n                    menDropdownContent.push(menData)\r\n                }\r\n                const womenDropdownContent = []\r\n                for (let i in groupCateWomen) {\r\n                    let womenData = {}\r\n                    let cateList = []\r\n                    for (let j in res.data) {\r\n                        if (res.data[j].productGroupCate === groupCateWomen[i] && res.data[j].productSex === \"Woman\") {\r\n                            cateList.push(res.data[j].productCate)\r\n                        }\r\n                    }\r\n                    let cateList2 = cateList.filter(function(elem, index, self) {\r\n                        return index === self.indexOf(elem);\r\n                    })\r\n                    womenData = {\r\n                        dropdownTitle: groupCateWomen[i],\r\n                        dropdownList: cateList2\r\n                    }\r\n                    womenDropdownContent.push(womenData)\r\n                }\r\n                for (let i in virtualNavBar) {\r\n                    if (virtualNavBar[i].label === \"Men\") {\r\n                        virtualNavBar[i].dropdownContent = menDropdownContent\r\n                    }\r\n                    if (virtualNavBar[i].label === \"Women\") {\r\n                        virtualNavBar[i].dropdownContent = womenDropdownContent\r\n                    }\r\n                }\r\n                setNavBar(virtualNavBar)\r\n            }\r\n        )\r\n        if (location === \"/collection\" || location === `/collection/${path}`) {\r\n            setWhiteText(true);\r\n            setDisableBox(true);\r\n        } else {\r\n            setWhiteText(false);\r\n            setDisableBox(false);\r\n        }\r\n\r\n        if (clickedCart) {\r\n            setScrolled(false)\r\n        }\r\n        \r\n        function onScroll() {\r\n            if (location === \"/collection\" || location === `/collection/${path}`) {\r\n                if(window.pageYOffset < 50) { // top\r\n                    if (dropdownHover === true) {\r\n                        setWhiteBox(true)\r\n                        setWhiteText(false)\r\n                        setDisableBox(false)\r\n                    } else {\r\n                        setWhiteBox(false)\r\n                        setWhiteText(true)\r\n                        setDisableBox(true)\r\n                    }\r\n                } else if (this.prev < window.pageYOffset) { //down\r\n                    if (dropdownHover === true) {\r\n                        setScrolled(false)\r\n                    } else {\r\n                        setScrolled(true)\r\n                    }\r\n                    setWhiteBox(true)\r\n                    setDisableBox(false)\r\n                    setWhiteText(false)\r\n                } else if (this.prev > window.pageYOffset) { //up\r\n                    setScrolled(false)\r\n                }\r\n            } else {\r\n                if(window.pageYOffset < 50) { // top\r\n                    setWhiteBox(false)\r\n                    setWhiteText(false)\r\n                } else if (this.prev < window.pageYOffset) { //down\r\n                    if (dropdownHover === true) {\r\n                        setScrolled(false)\r\n                    } else {\r\n                        setScrolled(true)\r\n                    }\r\n                    setWhiteBox(true)\r\n                } else if (this.prev > window.pageYOffset) { //up\r\n                    setScrolled(false)\r\n                    setWhiteText(false)\r\n                }\r\n            }\r\n            this.prev = window.pageYOffset;\r\n        }\r\n\r\n        let totalCartVirtual = 0;\r\n        for (let i in cartItems) {\r\n            totalCartVirtual += cartItems[i].count\r\n        }\r\n        setTotalCart(totalCartVirtual)\r\n        window.addEventListener(\"scroll\", onScroll);\r\n        return() => {\r\n            window.removeEventListener(\"scroll\", onScroll);\r\n        }\r\n    }, [clickedCart, location, dropdownHover, path, cartItems]);\r\n\r\n    if(searchOpen || accountOpen || cartOpen){\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    const [openMobileMenu, setOpenMobileMenu] = useState(false)\r\n\r\n    const openMobileMenuFunc = () => {\r\n        setOpenMobileMenu(true)\r\n        document.body.style.overflow = 'hidden';\r\n    }\r\n\r\n    const [closeAnimation, setCloseAnimation] = useState(false)\r\n    const closeMobileMenuFunc = () => {\r\n        document.body.style.overflow = 'unset';\r\n        setCloseAnimation(true)\r\n        setTimeout(()=>{\r\n            setOpenMobileMenu(false)\r\n            setCloseAnimation(false)\r\n        }, 700)\r\n    }\r\n\r\n    const [searchMobile, setSearchMobile] = useState(\"\")\r\n    return(\r\n        <div\r\n            className={classNames('Header HeaderV3', {\r\n                scrolled: scrolled === true,\r\n                white: whiteBox === true,\r\n                white_disable: disableBox === true\r\n            })}\r\n            onMouseEnter={() => { \r\n                if (location === \"/collection\" || location === `/collection/${path}`)  {\r\n                    setWhiteText(false); \r\n                    setDisableBox(false);\r\n                }\r\n            }}\r\n            onMouseOver={() => { \r\n                if (location === \"/collection\" || location === `/collection/${path}`)  {\r\n                    setWhiteText(false); \r\n                    setDisableBox(false);\r\n                }\r\n            }}\r\n            onMouseLeave={() => { \r\n                if ((location === \"/collection\" && window.pageYOffset < 50) || (location === `/collection/${path}` && window.pageYOffset < 50)) {\r\n                    setWhiteText(true);\r\n                }\r\n            }}\r\n            >\r\n            <div \r\n                className={whiteText ===false ? \"menu-mobile flex-center\" : \"menu-mobile flex-center closeMenuMobile_white\"}\r\n            >\r\n                <FontAwesomeIcon \r\n                    icon={faBars}\r\n                    onClick={openMobileMenuFunc} \r\n                    style={{fontSize: '20px'}}/>\r\n            </div>\r\n            {\r\n                openMobileMenu === true && \r\n                    <Div100vh className=\"menu-mobile-box flex\">\r\n                        <div className={classNames(\"menu-mobile-left flex-col\",{\r\n                            openMenuMobile: openMobileMenu,\r\n                            closeMenuMobile: closeAnimation\r\n                        })}>\r\n                            <div className=\"menu-mobile-search flex-center\">\r\n                                <input \r\n                                    onChange={(e)=>{\r\n                                        setSearchMobile(e.target.value)\r\n                                    }} \r\n                                    value={searchMobile}\r\n                                    className=\"input\" placeholder=\"Search\" style={{fontSize: '16px', height: '50px'}}\r\n                                ></input>\r\n                                <div onClick={(event)=>{\r\n                                    props.history.push(`/shop/${searchMobile}`)\r\n                                    closeMobileMenuFunc() \r\n                                }}>\r\n                                    <FontAwesomeIcon icon={faSearch} style={{marginLeft: '10px', color: '#777'}}/>\r\n                                </div>\r\n                            </div>\r\n                            <div \r\n                                className=\"menu-mobile-list\"\r\n                            >\r\n                                {\r\n                                    navBar.map((item, index)=> {\r\n                                        let home = \"\"\r\n                                        if (location === \"/\")\r\n                                            home = \"home\"\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                style={{color: '#111', maxHeight: openSubMenu === item.id ? `1000px` : '40px'}}\r\n                                                className={classNames(\"menu-mobile-item a\", {\r\n                                                    menu_mobile_item_active: location.slice(1) === item.label.toLowerCase() || home === item.label.toLowerCase(),\r\n                                                })}\r\n                                                onClick={()=>{\r\n                                                    if (!item.dropdownContent.length > 0) {\r\n                                                        props.history.push(item.url);\r\n                                                    } else {\r\n                                                        if (!openSubMenu) {\r\n                                                            setOpenSubMenu(item.id)\r\n                                                        } else {\r\n                                                            if (openSubMenu === item.id) {\r\n                                                                setOpenSubMenu(null)\r\n                                                            } else {\r\n                                                                setOpenSubMenu(item.id)\r\n                                                            }\r\n                                                        }\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                <div className=\"flex\" style={{justifyContent: 'space-between'}}>\r\n                                                    <p>{item.label}</p>\r\n                                                    { item.dropdownContent.length > 0 && \r\n                                                        <div>\r\n                                                            <FontAwesomeIcon icon={faAngleDown}/>\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                                <div \r\n                                                    className=\"menu-mobile-sub\"\r\n                                                    ref={subHeight}\r\n                                                >\r\n                                                    { item.dropdownContent.map((item, index)=>{ \r\n                                                        return (\r\n                                                            <div\r\n                                                                key={index}\r\n                                                                className=\"menu-item-sub-item\"\r\n                                                            >\r\n                                                                {item.dropdownTitle}\r\n                                                                {\r\n                                                                    item.dropdownList.map((item,index)=>{\r\n                                                                        return (\r\n                                                                            <div\r\n                                                                                className=\"menu-item-sub-item2\"\r\n                                                                                key={index}\r\n                                                                            >\r\n                                                                                {item}\r\n                                                                            </div>\r\n                                                                        )\r\n                                                                    })\r\n                                                                }\r\n                                                            </div>\r\n                                                        )\r\n                                                        })\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                            <div \r\n                                className=\"menu-mobile-login flex\"\r\n                                onClick={()=> {\r\n                                    setAccountOpen(true)\r\n                                }}>\r\n                                <FontAwesomeIcon icon={faUser} className=\"icon\"/>\r\n                                <p>LOGIN</p>\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"menu-mobile-right\"\r\n                            onClick={closeMobileMenuFunc}\r\n                        ></div>\r\n                    </Div100vh>\r\n                \r\n            }\r\n            <div className=\"logo flex-center logo-v3\">\r\n                <Link to=\"/\">\r\n                    {\r\n                        whiteText === true \r\n                            ? <img src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\" alt=\"logo\"></img>\r\n                            : <img src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\" alt=\"logo\"></img>\r\n                    }\r\n                </Link>\r\n            </div>\r\n            <ul className=\"menu menu-v3 flex-center\">\r\n                {\r\n                    navBar.map((item, index)=> { \r\n                        return (\r\n                            <MenuItemDropdown\r\n                                handleClick={handleClick}\r\n                                handleHover={handleHover}\r\n                                handleLeaveHover={handleLeaveHover}\r\n                                dropdownHover={dropdownHover}\r\n                                scrolled={scrolled}\r\n                                location={location} \r\n                                key={index}\r\n                                whiteText={whiteText}\r\n                                label={item.label}\r\n                                url={item.url}\r\n                                dropdownContent={item.dropdownContent} // dropdown text\r\n                                className=\"menu-item\">\r\n                            </MenuItemDropdown>\r\n                        )\r\n                    })\r\n                }\r\n            </ul>\r\n            <div className={classNames('cart flex-center', {\r\n                    whitelink_header: whiteText === true\r\n                })}> \r\n                <div className=\"icon-container\">\r\n                    <FontAwesomeIcon \r\n                        icon={faSearch} \r\n                        className=\"icon search-icon\"\r\n                        onClick={()=> {\r\n                            setSearchOpen(true)\r\n                        }}\r\n                        />\r\n                </div>\r\n                <div \r\n                    className=\"icon flex-center\"\r\n                    onClick={()=> {\r\n                        setCartOpen(true)\r\n                    }}>\r\n                    <FontAwesomeIcon \r\n                        icon={faCartPlus} \r\n                        className=\"cart-icon\"\r\n                        />\r\n                    <div\r\n                        className={classNames('cart-count flex-center', {\r\n                            cart_count_news_hover: whiteText === true\r\n                        })}> \r\n                        <p>{totalCart}</p>\r\n                    </div>\r\n                </div>\r\n                <div \r\n                    className=\"icon-container login-icon\"\r\n                    onClick={()=> {\r\n                        setAccountOpen(true)\r\n                    }}>\r\n                    <FontAwesomeIcon \r\n                        icon={faUser} \r\n                        className=\"icon\"\r\n                        />\r\n                </div>\r\n            </div>\r\n            <Search searchOpen={searchOpen} clickToClose={clickToClose}/>\r\n            <Account accountOpen={accountOpen} clickToClose={clickToClose}/>\r\n            <Cart cartOpen={cartOpen} clickToClose={clickToClose}/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(HeaderV3);","import React, { useState } from 'react'\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom' \r\nfunction CollectionItem(props) {\r\n\r\n    const [hoverPrice, setHoverPrice] = useState(false)\r\n\r\n    const redirect = () => {\r\n        window.scrollTo(0,0);\r\n        props.history.push(`/products/${props.product._id}`)\r\n    }  \r\n\r\n    return (\r\n        <div className=\"CollectionItem\">\r\n            <img src={props.product.productImg[0]} alt=\"\"></img>\r\n            <div className=\"collection-overlay-container flex-center\">\r\n                <div className=\"collectionitem-overlay\">\r\n                    <div \r\n                        className=\"collectionitem-title\"\r\n                        onClick={redirect}\r\n                    >{props.product.productName}</div>\r\n                    <div className=\"collectionitem-des\">{props.product.productDes}</div>\r\n                    <div \r\n                        className=\"collectionitem-price\"\r\n                        onMouseEnter={()=>{\r\n                            setHoverPrice(true)\r\n                        }}\r\n                        onMouseLeave={()=>{\r\n                            setHoverPrice(false)\r\n                        }}\r\n                    >\r\n                        { props.product.productFinalPrice &&\r\n                            <p \r\n                                className={hoverPrice ? \"collectionitem-price-text price-transform displayNone\" : \"collectionitem-price-text\"}\r\n                            >\r\n                                {props.product.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}đ\r\n                            </p>\r\n                        }\r\n                        <div \r\n                            onClick={redirect}\r\n                            className={hoverPrice ? \"addtocart-btn-collection price-transform addtocart-btn-collectio-hover\" : \"addtocart-btn-collection\"}\r\n                        >\r\n                            ADD TO CART\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(CollectionItem)","import React from 'react'\r\nimport CollectionItem from './CollectionItem'\r\n\r\nexport default function CollectionList(props) {\r\n    // const collectionItems = [\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/red.png\"\r\n    //     },\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/pink.png\"\r\n    //     },\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/orange.png\"\r\n    //     },\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/khaki.png\"\r\n    //     },\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/green.png\"\r\n    //     },\r\n    //     {\r\n    //         name: \"Red Hoodie\",\r\n    //         des: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has\",\r\n    //         price: \"123\",\r\n    //         img: \"https://demo.uix.store/sober/wp-content/uploads/sites/2/2016/09/blue.png\"\r\n    //     }\r\n    // ]\r\n\r\n\r\n    const collection = props.collection;\r\n\r\n    return (\r\n        <div className=\"CollectionList flex\">\r\n            { collection && \r\n                collection.collectionItems.map((item, index) => {\r\n                    return (\r\n                        <CollectionItem\r\n                            key={index}\r\n                            product={item}\r\n                        />\r\n                    )\r\n                })\r\n            }\r\n            <div className=\"product-info-line\" style={{margin: `40px 20px`}}></div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport BannerV3 from '../components/Banner/BannerV3.js'\r\nimport HeaderV3 from '../components/Header/HeaderV3.js'\r\nimport Header from '../components/Header/Header.js'\r\n// import bg from '../assets/collection2.jpg'\r\nimport CollectionList from '../components/Collection/CollectionList.js'\r\nimport Axios from \"axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction Collection(props) {\r\n\r\n    const [collection, setCollection] = useState(null);\r\n    const path = props.history.location.pathname.slice(12);\r\n\r\n    useEffect(()=>{\r\n        Axios.get(`http://pe.heromc.net:4000/collection/${path}`)\r\n            .then(res => {\r\n                setCollection(res.data)\r\n            }\r\n        )\r\n    },[path])\r\n\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n    \r\n    return (\r\n        <div className=\"Collection\">\r\n            {\r\n                window.innerWidth > 900 && <HeaderV3/>\r\n            }\r\n            {\r\n                window.innerWidth <= 900 && <Header/>\r\n            }\r\n            { collection &&\r\n                <BannerV3 \r\n                    bannerImage={collection.collectionBanner} \r\n                    collectionTitle={collection.collectionName}\r\n                />\r\n            }\r\n            <CollectionList\r\n                collection={collection}\r\n            />\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Collection)\r\n","import React from 'react';\r\nimport '../../Styles/News.css';\r\nimport '../../App.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faFacebookF, faInstagram, faTwitter } from '@fortawesome/free-brands-svg-icons';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios'\r\n\r\nexport default function NewsContent(props) {\r\n\r\n    const news = {};\r\n    if (props.news) {\r\n        Object.assign(news,props.news) // gán obj props.news vào news\r\n    }\r\n    const cateLink = (`/news/category/${news.newCate}`)\r\n\r\n    const date = new Date(news.newTime)\r\n    const day = date.getDate()\r\n    const month = date.getMonth() + 1\r\n    const year = date.getFullYear()\r\n    const timeStr = day + '.' + month + '.' +year\r\n\r\n    if (news._id) {\r\n        axios.post(`http://pe.heromc.net:4000/news/update/${news._id}`, {\r\n            countId: news._id\r\n        })\r\n    }\r\n    \r\n    return(\r\n        <div className=\"NewsContent opa2\">\r\n            <div className=\"newsbody-info flex-center\">\r\n                <div className=\"newsbody-time\" style={{color: '#777'}}>{timeStr}</div>\r\n                <Link \r\n                    to={cateLink}\r\n                    className=\"newsbody-cate a\" \r\n                    onClick={()=>{window.scrollTo(0,0)}}\r\n                    style={{color: '#111'}}\r\n                    >{news.newCate}</Link>\r\n            </div>\r\n            <div className=\"news-title newscontent-title\">{news.newTitle}</div>\r\n            <div className=\"newscontent-share flex-center\">\r\n                <div className=\"icon-box flex-center\" style={{backgroundColor: '#254d87'}}>\r\n                    <FontAwesomeIcon icon={faFacebookF} className=\"icon\"></FontAwesomeIcon>\r\n                </div>\r\n                <div className=\"icon-box flex-center\" style={{backgroundColor: '#26b8ed'}}>\r\n                    <FontAwesomeIcon icon={faTwitter} className=\"icon\"></FontAwesomeIcon>\r\n                </div>\r\n                <div className=\"icon-box flex-center\" style={{background: `radial-gradient(circle at 30% 107%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%)`}}>\r\n                    <FontAwesomeIcon icon={faInstagram} className=\"icon\"></FontAwesomeIcon>\r\n                </div>\r\n            </div>\r\n            <div className=\"news-title newscontent-title\">\r\n                <img src={news.newImg} width='100%' alt=\"\"/>\r\n            </div>\r\n            <div \r\n                className=\"newscontent-content flex-center\"\r\n                dangerouslySetInnerHTML={{__html: news.newContent}}>\r\n            </div>\r\n            {/* <div className=\"newscontent-pag flex-center\">\r\n                <div className=\"newscontent-pag-container flex\">\r\n                    <div>\r\n                        Previous\r\n                    </div>\r\n                    <div>\r\n                        Next\r\n                    </div>\r\n                </div>\r\n            </div> */}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport \"../App.css\";\r\nimport Newsletter from \"../components/Layouts/Newsletter.js\"\r\nimport Footer from \"../components/Layouts/Footer.js\"\r\nimport HeaderV2 from \"../components/Header/HeaderV2\";\r\nimport axios from 'axios'\r\nimport NewsContent from \"../components/News/NewsContent\";\r\n\r\nexport default function ProductDetail(props) {\r\n\r\n    const [news, setNews] = useState();\r\n\r\n    useEffect(() => {\r\n        axios.get(`http://pe.heromc.net:4000/news/` + props.match.params.id)\r\n            .then(res => {\r\n                setNews(res.data)\r\n            }\r\n        )\r\n    },[props.match.params.id])\r\n    \r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"ProductDetail\">\r\n            <HeaderV2/>\r\n            <NewsContent\r\n                news={news}\r\n            />\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}","import React, { useContext, useEffect, useRef, useState } from 'react'\r\nimport '../Styles/Chat.css'\r\nimport '../App.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faComment, faPaperPlane } from '@fortawesome/free-solid-svg-icons'\r\nimport socketIOClient from \"socket.io-client\"\r\nimport { withRouter } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport { UserContext } from '../contexts/User';\r\n\r\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\r\n\r\nfunction OpenChatBtn(props) {\r\n    const messageRef = useRef();\r\n    const inputRef = useRef();\r\n    const [openChat, setOpenChat] = useState(false)\r\n    const [onHover, setOnHover] = useState(false)\r\n    const [inputValue, setInputValue] = useState(\"\")\r\n\r\n    const socket = socketIOClient(ENDPOINT)\r\n    const [chatList, setChatList] = useState([])\r\n\r\n    const [userName, setUserName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [userInfoExist, setUserInfoExist] = useState(false)\r\n\r\n    const { \r\n        userInfo\r\n    } = useContext(UserContext);\r\n\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            setUserName(userInfo.userName)\r\n            setUserEmail(userInfo.userEmail)\r\n            setUserInfoExist(true)\r\n            sessionStorage.removeItem('chat-id')\r\n            sessionStorage.setItem('chat-id', userInfo._id);\r\n        }\r\n        if (!sessionStorage.getItem('chat-id')) {\r\n            sessionStorage.setItem('chat-id', Math.floor(Math.random() * 190000000) + 100000000);\r\n        }\r\n        axios.get(`http://pe.heromc.net:4000/chat/${sessionStorage.getItem('chat-id')}`)\r\n            .then(res => {\r\n                if (res.data.length > 0)\r\n                    setChatList(res.data[0].chatContent)\r\n            }\r\n        )    \r\n    }, [userInfo])\r\n\r\n\r\n    \r\n    useEffect(() => {\r\n        socket.emit('join', {\r\n            sessionId: sessionStorage.getItem('chat-id'),\r\n            isAdmin: false\r\n        })\r\n        socket.on('sendFirstInfo', (data)=> {\r\n            if (data.length > 0) setChatList(data[0].chatContent)\r\n        })\r\n        socket.on('thread', (data)=> {\r\n            setChatList(data.chatContent)\r\n        })\r\n        socket.on(\"admin-msg\", function(data) {\r\n            setChatList(chatList=> [...chatList, data]);\r\n            setTimeout(()=>{\r\n                messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n            }, 100)\r\n        })\r\n    }, [])\r\n\r\n    const handleChange = (event) => {\r\n        setInputValue({...inputValue , [event.target.name]: event.target.value})\r\n    }\r\n    const location = props.history.location.pathname;\r\n\r\n    \r\n    const sendFirstChatOnSubmit = (event) => {\r\n        event.preventDefault()\r\n        socket.emit('firstMessage', {\r\n            userInfo: userInfo || null,\r\n            sessionId: sessionStorage.getItem('chat-id'),\r\n            chatName: userName,\r\n            chatEmail: userEmail,\r\n            chatContent: [\r\n                {\r\n                    text: inputValue.chatContent,\r\n                    time: new Date()\r\n                }\r\n            ]\r\n        })\r\n        setChatList(chatList=> [...chatList, {\r\n            text: inputValue.chatContent,\r\n            time: new Date()\r\n        }])\r\n    }\r\n\r\n    const sendChatOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        socket.emit('messageSend', {\r\n            sessionId: sessionStorage.getItem('chat-id'),\r\n            text: inputValue.messageSend,\r\n            time: new Date(),\r\n        })\r\n        setChatList(chatList=> [...chatList, {text: inputValue.messageSend, time: new Date()}])\r\n        setTimeout(()=>{\r\n            messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n        }, 100)\r\n        inputRef.current.value = \"\";\r\n    }\r\n\r\n    return (\r\n        <div \r\n            className={location === \"/admin\" || location === \"/admin/dashboard\" ? \"chat-btn displayNone\" : \"chat-btn\"}\r\n            onMouseEnter={()=> { setOnHover(true) }}\r\n            onMouseLeave={()=> { if (openChat) { setOnHover(true) } else setOnHover(false) }}\r\n        >\r\n            <div \r\n                className={onHover ? \"chat-btn-container chat-btn-hover\" : \"chat-btn-container\"}\r\n                onClick={()=>{\r\n                    if (messageRef.current) messageRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n                    if (openChat) { \r\n                        setOpenChat(false); \r\n                        setOnHover(false) \r\n                    } else { \r\n                        setOpenChat(true); \r\n                        setOnHover(true) \r\n                    }\r\n                }}\r\n                >\r\n                <FontAwesomeIcon icon={faComment} className=\"icon\"/>\r\n                <p>Live Chat</p>\r\n            </div>\r\n            <div className={openChat ? \"chat-box hide_chat_box\" : \"chat-box\"}>\r\n                <div className=\"chat-box-header\">\r\n                    Live Chat\r\n                </div>\r\n                { (chatList.length === 0) &&\r\n                    <div className=\"chat-box-body\">\r\n                        { userInfoExist === true &&\r\n                            <form onSubmit={sendFirstChatOnSubmit} className={openChat ? \"form-chat hide_chat_box_item\" : \"form-chat\"}>\r\n                                <label>Introduce yourself *</label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    onChange={(event)=>{\r\n                                        setUserName(event.target.value)\r\n                                    }} \r\n                                    value={userName}\r\n                                    placeholder=\"Name\" \r\n                                    className=\"intro\" disabled></input>\r\n                                <input\r\n                                    type=\"email\" \r\n                                    onChange={(event)=>{\r\n                                        setUserEmail(event.target.value)\r\n                                    }}\r\n                                    value={userEmail}\r\n                                    placeholder=\"Email\" \r\n                                    className=\"intro\" disabled></input>\r\n                                <label>Message *</label>\r\n                                <textarea name=\"chatContent\" type=\"textarea\" onChange={handleChange} className=\"message\" required></textarea>\r\n                                <button className=\"btn chat-box-body-btn\">Chat</button>\r\n                            </form>\r\n                        }\r\n                        { userInfoExist === false &&\r\n                            <form onSubmit={sendFirstChatOnSubmit} className={openChat ? \"form-chat hide_chat_box_item\" : \"form-chat\"}>\r\n                                <label>Introduce yourself *</label>\r\n                                <input \r\n                                    type=\"text\" \r\n                                    onChange={(event)=>{\r\n                                        setUserName(event.target.value)\r\n                                    }} \r\n                                    value={userName}\r\n                                    placeholder=\"Name\" \r\n                                    className=\"intro\" required></input>\r\n                                <input\r\n                                    type=\"email\" \r\n                                    onChange={(event)=>{\r\n                                        setUserEmail(event.target.value)\r\n                                    }}\r\n                                    value={userEmail}\r\n                                    placeholder=\"Email\" \r\n                                    className=\"intro\" required></input>\r\n                                <label>Message *</label>\r\n                                <textarea name=\"chatContent\" type=\"textarea\" onChange={handleChange} className=\"message\" required></textarea>\r\n                                <button className=\"btn chat-box-body-btn\">Chat</button>\r\n                            </form>\r\n                        }\r\n                    </div>\r\n                }\r\n                { (chatList.length > 0) && \r\n                    <div className=\"chat-box-body no-p\">\r\n                        <form onSubmit={sendChatOnSubmit} className={openChat ? \"form-chat hide_chat_box_item\" : \"form-chat\"}>\r\n                            <div className=\"flex-col chat-box-list\">\r\n                                {\r\n                                    chatList.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} ref={messageRef} className=\"chat-list\">\r\n                                                {\r\n                                                    item.fromAdmin !== true && \r\n                                                    <div className=\"clienttext\">\r\n                                                        <p>{item.text}</p>\r\n                                                    </div>\r\n                                                }\r\n                                                {\r\n                                                    item.fromAdmin === true && \r\n                                                    <div className=\"admintext\">\r\n                                                        <p>{item.text}</p>\r\n                                                    </div>\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>  \r\n                            <div className=\"flex chat-box-send\">\r\n                                <input name=\"messageSend\" type=\"text\" onChange={handleChange} placeholder=\"Make a message\" ref={inputRef}></input>\r\n                                <button className=\"flex-center sendchat\">\r\n                                    <FontAwesomeIcon icon={faPaperPlane}/>\r\n                                </button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(OpenChatBtn);","import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport NewsBanner from '../components/Banner/NewsBanner.js'\r\nimport NewsBody from '../components/News/NewsBody.js'\r\nimport Header from '../components/Header/Header.js'\r\nimport Newsletter from \"../components/Layouts/Newsletter\";\r\nimport Footer from \"../components/Layouts/Footer\";\r\n\r\nexport default function NewsCate() {\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n    return (\r\n        <div className=\"NewsPages\">\r\n            <Header/>\r\n            <NewsBanner/>\r\n            <NewsBody/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/login-bg.32e3f613.jpg\";","import React, { useEffect, useState } from 'react'\r\nimport '../../../App.css'\r\nimport '../../../Styles/Admin.css'\r\nimport bg from '../../../assets/login-bg.jpg'\r\nimport Axios from 'axios' \r\nimport { faCheck, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { withRouter } from 'react-router-dom'\r\nimport Div100vh from 'react-div-100vh';\r\n\r\nfunction Login(props) { \r\n\r\n    const [arrSuccess, setArrSuccess] = useState([]);\r\n    const [arrErr, setArrErr] = useState([]); \r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        if (localStorage.getItem('errLogin')) {\r\n            setArrErr([localStorage.getItem('errLogin')]);\r\n        }\r\n        setTimeout(()=>{\r\n            localStorage.removeItem('errLogin')\r\n            setArrErr([])\r\n        }, 3000)\r\n    }, [])\r\n    \r\n    const handleOnSubmit = (event) => {\r\n        event.preventDefault(); \r\n        Axios.post('http://pe.heromc.net:4000/users/login', {\r\n            loginEmail: email,\r\n            loginPassword: password\r\n        })\r\n        .then(res => {\r\n            setArrSuccess([\"Login success!\"]) \r\n            setArrErr([]);\r\n            localStorage.setItem('token', res.data.token);\r\n            localStorage.setItem('user-id', res.data.user._id);\r\n            props.history.push('/admin/dashboard')\r\n        })\r\n        .catch(err => {\r\n            setArrErr([err.response.data]);\r\n            setArrSuccess([]) \r\n        }) \r\n    }\r\n\r\n    let uniqueErr, uniqueSuccess = [];\r\n    if (arrErr.length > 0) {\r\n        uniqueErr = arrErr.filter(function(item, pos) {\r\n            return arrErr.indexOf(item) === pos;\r\n        })\r\n    }\r\n    if (arrSuccess.length > 0) {\r\n        uniqueSuccess = arrSuccess.filter(function(item, pos) {\r\n            return arrSuccess.indexOf(item) === pos;\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"Login\">\r\n            <img className=\"login-bg\" src={bg} alt=\"\"></img>\r\n            <div className=\"login-overlay flex-center\">\r\n                <div className=\"login-box flex\">\r\n                    <div className=\"login-left flex-center flex-col\">\r\n                        <img src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo.svg\" alt=\"logo\" width=\"50%\"></img>\r\n                        <div className=\"login-title\">Login To Admin Dashboard</div>\r\n                        <div className=\"login-err flex-center flex-col login-arr-admin\" \r\n                            style={{\r\n                                width: '80%', padding: '0', \r\n                                // heigh    t: '40px'\r\n                            }}>\r\n                            { uniqueErr && \r\n                                <div style={{width: '100%', padding: '0'}}>\r\n                                    {\r\n                                        uniqueErr.map((item, index) => {\r\n                                            return(\r\n                                                <div key={index}>\r\n                                                    <FontAwesomeIcon icon={faTimes} style={{ marginRight: '10px', color: 'red'}}/>\r\n                                                    {item}\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            { uniqueSuccess && \r\n                                <div style={{width: '100%', padding: '0'}}>\r\n                                    {\r\n                                        uniqueSuccess.map((item, index) => {\r\n                                            return(\r\n                                                <div key={index} className=\"login-success\">\r\n                                                    <FontAwesomeIcon icon={faCheck} style={{ marginRight: '10px', color: 'green'}}/>\r\n                                                    {item}\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                        <form className=\"admin-login-form flex-col\" onSubmit={handleOnSubmit}>\r\n                            <input \r\n                                type=\"text\" \r\n                                placeholder=\"Email\" \r\n                                value={email}\r\n                                onChange={(event)=>{\r\n                                    setEmail(event.target.value)\r\n                                }}\r\n                            />\r\n                            <input \r\n                                type=\"password\" \r\n                                placeholder=\"Password\" \r\n                                value={password}\r\n                                onChange={(event)=>{\r\n                                    setPassword(event.target.value)\r\n                                }}\r\n                            />\r\n                            <button type=\"submit\" className=\"btn\">LOGIN</button>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"login-right\">\r\n                        <div className=\"animation-overlay\"></div>\r\n                        <img src={bg} alt=\"\"></img>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Login)","import React, { useEffect, useState } from 'react'\r\nimport '../../../App.css'\r\nimport '../../../Styles/Dashboard.css'\r\nimport { faBell, faEllipsisV, faListUl, faSearch } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport Axios from 'axios'\r\n\r\nexport default function DashboardHeader(props) {\r\n\r\n    const [openNotice, setOpenNotice] = useState(null)\r\n    const [notice, setNotice] = useState(null)\r\n    const [unreadedNotice, setUnreadedNotice] = useState(0)\r\n\r\n    useEffect(()=>{\r\n        Axios.get(`http://pe.heromc.net:4000/notice`)\r\n            .then(res => {\r\n                setNotice((res.data).reverse())\r\n                let count = 0;\r\n                for (let i in res.data) {\r\n                    if (res.data[i].isRead === 'false') {\r\n                        count++\r\n                    }\r\n                    setUnreadedNotice(count)\r\n                }\r\n            } \r\n        )\r\n    },[props.orderNotice])\r\n\r\n    const readNotice = () => {\r\n        if (openNotice) {\r\n            setOpenNotice(false)\r\n        } else {\r\n            Axios.post(`http://pe.heromc.net:4000/notice/update`, {\r\n                readAll: true\r\n            })\r\n            setUnreadedNotice(0)\r\n            setOpenNotice(true)\r\n        }\r\n    } \r\n    const openMenuOnClick = () => {\r\n        props.setOpenMenuOnClick()\r\n    }\r\n    \r\n    return (\r\n        <div className=\"dashboard-header flex\">\r\n            <div className=\"flex-center\">\r\n                <div className=\"menu-opt flex-center\"\r\n                    onClick={openMenuOnClick}>\r\n                    { props.openMenu && <FontAwesomeIcon icon={faEllipsisV}/>}\r\n                    { props.openMenu === false && <FontAwesomeIcon icon={faListUl}/>}\r\n                </div>\r\n                <p>{props.itemName}</p>\r\n            </div> \r\n            <div className=\"flex-center menu-search-container\">\r\n                <form className=\"menu-search flex\">\r\n                    <input type=\"text\" placeholder=\"Search...\" className=\"menu-search-input\"></input>\r\n                    <div className=\"flex-center\">\r\n                        <FontAwesomeIcon icon={faSearch} className=\"icon\"/>\r\n                    </div>\r\n                </form>\r\n                <div \r\n                    className=\"menu-notice noselect\"\r\n                    onClick={readNotice}\r\n                >\r\n                    <FontAwesomeIcon icon={faBell} style={{pointerEvents: 'none'}} className=\"icon\"/>\r\n                    { unreadedNotice> 0 &&\r\n                        <div className=\"notice-count\">{unreadedNotice}</div>\r\n                    }\r\n                    { openNotice && \r\n                        <div className=\"notice-box\">\r\n                            { notice && \r\n                                notice.map((item, index) => {\r\n                                    return (\r\n                                        <div \r\n                                            key={index}\r\n                                            className=\"notice-item\"\r\n                                        >\r\n                                            {item.noticeContent}\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faArrowDown, faArrowUp } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DashboardTotalCount(props) {\r\n\r\n    const item = props.item \r\n\r\n    return (\r\n        <div className=\"total-count-item\">\r\n            { item &&\r\n                <div className=\"total-count-item-container\">\r\n                    <div className={`headerbox count ${item.color} flex-center`}>\r\n                        <FontAwesomeIcon icon={item.icon} className=\"icon\"/>\r\n                    </div>\r\n                    <div className=\"total-count-header flex-center\">\r\n                        <p>{item.title}</p>\r\n                    </div>\r\n                    <div className=\"dashboard-count\">\r\n                        <p>{item.count}</p>\r\n                    </div>\r\n                    <div className=\"count-line\"></div>\r\n                    {\r\n                        item.isDecrease &&\r\n                        <div className=\"count-status flex-center\">\r\n                            <FontAwesomeIcon icon={faArrowUp} className=\"count-up\"/>\r\n                            <p className=\"count-up\">{item.percent}%</p> \r\n                            <p>since last month</p>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        !item.isDecrease &&\r\n                        <div className=\"count-status flex-center\">\r\n                            <FontAwesomeIcon icon={faArrowDown} className=\"count-down\"/>\r\n                            <p className=\"count-down\">{item.percent}%</p> \r\n                            <p>since last month</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faGlobe } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardLocation(props) {\r\n\r\n    const [mapLink, setMapLink] = useState(\"https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d7861084.131203502!2d106.27071340282434!3d15.903283301254934!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2s!4v1602514190700!5m2!1sen!2s\");\r\n    const order = props.order\r\n\r\n    const [location, setLocation] = useState([])\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n            .then(res => {\r\n                setLocation(res.data[0].tinh)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    const tinh = Object.values(order.reduce((a, {orderTinh}) => {\r\n        a[orderTinh] = a[orderTinh] || {orderTinh, count: 0};\r\n        a[orderTinh].count++;\r\n        return a;\r\n    }, Object.create(null)));\r\n    var total = 0;\r\n    for (let i in tinh) {\r\n        total += tinh[i].count\r\n    }\r\n    tinh.sort((a,b) =>  b.count - a.count)\r\n\r\n    const topLocationList = tinh.splice(0,5)\r\n\r\n    const setMap = (item) => {\r\n        for(let i in location) {\r\n            if (location[i].name === item) {\r\n                setMapLink(location[i].location)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"top-location flex-col\">\r\n            <div className=\"headerbox flex-center\">\r\n                <FontAwesomeIcon icon={faGlobe} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>Global Orders by Top Locations</p>\r\n                </div>\r\n                <div className=\"top-location-content flex\">\r\n                    <div className=\"top-location-list\">\r\n                        <div className=\"top-location-div flex header\">\r\n                            <div style={{width: '60%'}}>Province</div>\r\n                            <div style={{width: '20%', textAlign: 'right'}}>Amount</div>\r\n                            <div style={{width: '20%', textAlign: 'right'}}>Percent</div>\r\n                        </div>\r\n                        {topLocationList.map((item, index)=>{\r\n                            return (\r\n                                <div \r\n                                    key={index}\r\n                                    className=\"top-location-div flex\"\r\n                                    onClick={()=>setMap(item.orderTinh)}\r\n                                >\r\n                                    <div style={{width: '60%'}}>{item.orderTinh}</div>\r\n                                    <div style={{width: '20%', textAlign: 'right'}}>{item.count}</div>\r\n                                    <div style={{width: '20%', textAlign: 'right'}}>{parseFloat((item.count/total) * 100).toFixed(2)} %</div>\r\n                                </div>\r\n                            )\r\n                        })}\r\n                    </div>\r\n                    <div className=\"top-location-map\">\r\n                        <iframe \r\n                            title=\"map\"\r\n                            src={mapLink}\r\n                            width=\"100%\" \r\n                            height=\"100%\" \r\n                            frameBorder=\"0\" \r\n                            aria-hidden=\"false\" \r\n                            tabIndex=\"0\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n\r\nexport default function DashboardTopFive(props) {\r\n\r\n    const data = props.data\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\">\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex\">\r\n                    <div className=\"topfive-list\">\r\n                        <div className=\"top-location-div topfive-div flex header\">\r\n                            {\r\n                                props.table &&\r\n                                props.table.map((item, index)=>{\r\n                                    return (\r\n                                        <div \r\n                                            key={index}\r\n                                            className=\"topfive-header\">{item.title}</div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        { data && \r\n                            data.slice(0,5).map((item, index)=>{\r\n                                return(\r\n                                    <div\r\n                                        key={index}\r\n                                        className=\"top-location-div topfive-div flex\"\r\n                                    >\r\n                                        <div style={{width: '80%', textAlign: 'left'}} className=\"top-user flex\">\r\n                                            <img src={item.orderAvatar || item.productImg[1]} className=\"top-user-avt\" alt=\"\"></img>\r\n                                            <p className=\"top-user-name\">{item.orderName || item.productName}</p>\r\n                                        </div>\r\n                                        <div style={{width: '80px',textAlign: 'center'}}>{item.count}</div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport ReactStars from \"react-rating-stars-component\";\r\n\r\nexport default function DashboardRecentReview(props) {\r\n    const topRecentVote = props.topRecentVote;\r\n\r\n    return (\r\n        <div className=\"topfive flex-col topfive-rv\" style={{width: '60%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content topfive-content-rv flex\">\r\n                    <div className=\"topfive-list\">\r\n                        {\r\n                            topRecentVote.map((item, index)=>{\r\n                                const ratingStar = {\r\n                                    size: 12,\r\n                                    value: item.ratingStar,\r\n                                    edit: false,\r\n                                    activeColor: \"#fda32a\",\r\n                                    color: \"#ddd\",\r\n                                    isHalf: true\r\n                                };\r\n                                return(\r\n                                    <div \r\n                                        item={item}\r\n                                        key={index}\r\n                                        className=\"topfive-div flex recent-padding\"\r\n                                    >\r\n                                        <div style={{borderRadius: '50%'}}>\r\n                                            <img style={{borderRadius: '50%', width: \"55px\", height: \"55px\"}} src={item.ratingAvt} className=\"\" alt=\"\"></img>\r\n                                        </div>\r\n                                        <div className=\"review-product\">\r\n                                            <div className=\"review-product-item flex\" style={{justifyContent: 'space-between'}}>\r\n                                                <div className=\"review-product-name flex\">\r\n                                                    <h5>{item.productName}</h5>\r\n                                                </div>\r\n                                                <div className=\"review-product-time\">\r\n                                                    { (item.ratingHours && item.ratingMinutes) &&\r\n                                                        <div className=\"review-product-hours flex\">\r\n                                                            <p>{item.ratingHours}:</p>\r\n                                                            <p>{item.ratingMinutes}</p>\r\n                                                        </div>\r\n                                                    }\r\n                                                    { (!item.ratingHours && !item.ratingMinutes) &&\r\n                                                        <div className=\"review-product-hours flex\">\r\n                                                            <p>{item.ratingYears}/</p>\r\n                                                            <p>{item.ratingMonths}/</p>\r\n                                                            <p>{item.ratingDays}</p>\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"review-product-item bottom flex\">\r\n                                                <div className=\"review-product-content flex\"> \r\n                                                    <p className=\"review-product-item-content\">{item.ratingName}: {item.ratingText}</p>\r\n                                                </div>\r\n                                                <div className=\"review-product-star\">\r\n                                                    <ReactStars {...ratingStar} />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChartBar, faClock } from '@fortawesome/free-solid-svg-icons'  \r\nimport { Bar } from '@reactchartjs/react-chart.js' \r\n\r\nexport default function DashboardChart(props) {\r\n\r\n    const products = props.products \r\n    const order = props.order \r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(()=>{\r\n        if (products.length > 0 && order.length > 0) {\r\n            const allCate = Object.values(products.reduce((a, {productCate}) => {\r\n                a[productCate] = a[productCate] || {productCate, count: 0};\r\n                return a;\r\n            }, Object.create(null)));\r\n    \r\n            for (let i in allCate) {\r\n                for (let j in products) {\r\n                    if (allCate[i].productCate === products[j].productCate) {  \r\n                        allCate[i].count += products[j].productSold\r\n                    }\r\n                }\r\n            }\r\n            allCate.sort((a, b) => b.count - a.count)\r\n            const topCate = allCate.splice(0, 5); \r\n            // console.log(topCate)\r\n            const topCateList = []\r\n            for (let i in topCate) {\r\n                topCateList.push(topCate[i].productCate)\r\n            }\r\n            setData({\r\n                labels: topCateList,\r\n                datasets: [\r\n                  {\r\n                    label: '',\r\n                    data: [topCate[0].count, topCate[1].count, topCate[2].count, topCate[3].count, topCate[4].count],\r\n                    backgroundColor: [\r\n                      'rgba(255, 99, 132, 0.8)',\r\n                      'rgba(54, 162, 235, 0.8)',\r\n                      'rgba(255, 206, 86, 0.8)',\r\n                      'rgba(75, 192, 192, 0.8)',\r\n                      'rgba(153, 102, 255, 0.8)',\r\n                      'rgba(255, 159, 64, 0.8)',\r\n                    ],\r\n                    borderColor: [\r\n                      'rgba(255, 99, 132, 1)',\r\n                      'rgba(54, 162, 235, 1)',\r\n                      'rgba(255, 206, 86, 1)',\r\n                      'rgba(75, 192, 192, 1)',\r\n                      'rgba(153, 102, 255, 1)',\r\n                      'rgba(255, 159, 64, 1)',\r\n                    ],\r\n                    borderWidth: 1,\r\n                  },\r\n                ],\r\n            })\r\n        }\r\n    },[products, order])  \r\n\r\n    const options = { \r\n        legend: {\r\n            display: false,\r\n        },\r\n        scales: {\r\n            xAxes: [{ \r\n                gridLines: {\r\n                    display: false\r\n                }\r\n            }],\r\n            yAxes: [{\r\n                display: true,\r\n                gridLines: {\r\n                    display: true,\r\n                    borderDash: [4, 2],\r\n                    color: \"#ddd\"\r\n                }\r\n            }]\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chart flex-col\">\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={faChartBar} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\" style={{height: 'max-content'}}>\r\n                <div className=\"headerbox-header\">\r\n                    <p>2020 Sales by Top 5 Categories</p>\r\n                </div>\r\n                <div className=\"top-location-content flex\">\r\n                    <div className=\"top-location-map\" style={{margin: '0'}}>\r\n                        <Bar data={data} options={options}/> \r\n                        {/* <Line data={data} options={options} />  */}\r\n                    </div>\r\n                </div>\r\n                <div className=\"count-line\"></div>\r\n                <div className=\"count-status flex-center\">\r\n                    <FontAwesomeIcon icon={faClock} className=\"count-up\"/> \r\n                    <p>Updated 3 minutes ago</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheck, faEdit, faPlus, faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardTodoList(props) {\r\n    const [todoList, setTodoList] = useState([])\r\n    const [openNewTodo, setOpenNewTodo] = useState(false)\r\n    const [openEditTodo, setOpenEditTodo] = useState(\"\")\r\n    const [newTodoText, setNewTodoText] = useState(\"\")\r\n    const [editTodoText, setEditTodoText] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/todos`)\r\n            .then(res => {\r\n                setTodoList(res.data)\r\n            }\r\n        )\r\n    },[])\r\n\r\n    const clickToCheck = (event)=>{\r\n        const target = JSON.parse(event.target.id)\r\n        const id = target.id \r\n        var isDone = \"\"\r\n        if (target.isDone === true) {\r\n            isDone = false\r\n        } else {\r\n            isDone = true\r\n        }\r\n        const virtualTodo = [...todoList]\r\n        for (let i in virtualTodo) {\r\n            if (id === virtualTodo[i]._id) {\r\n                virtualTodo[i].isDone = isDone\r\n            }\r\n        }\r\n        setTodoList(virtualTodo)\r\n        axios.post('http://pe.heromc.net:4000/todos/update', {\r\n            id: id,\r\n            isDone: isDone\r\n        }) \r\n    }\r\n\r\n    const addNewTodo = (event)=>{\r\n        event.preventDefault();\r\n        const virtualTodo = [...todoList]\r\n        const data = {\r\n            todoContent: newTodoText,\r\n            isDone: false,\r\n            todoDate: new Date()\r\n        }\r\n        virtualTodo.push(data)  \r\n        axios.post('http://pe.heromc.net:4000/todos', data)\r\n        .then((res) => {   \r\n            axios.get(`http://pe.heromc.net:4000/todos`)\r\n                .then(res2 => {\r\n                    setTodoList(res2.data)\r\n                    setOpenNewTodo(false)\r\n                }\r\n            ) \r\n        }) \r\n    }  \r\n\r\n    const deleteTodo = (event) => { \r\n        const id = event.target.id\r\n        axios.post('http://pe.heromc.net:4000/todos', {\r\n            delete: true,\r\n            id: id\r\n        }).then((res)=>{\r\n            const virtualTodo = []\r\n            for (let i in todoList) {\r\n                if (todoList[i]._id !== id) {\r\n                    virtualTodo.push(todoList[i])\r\n                }\r\n            }\r\n            setTodoList(virtualTodo)\r\n        })\r\n    }\r\n\r\n    const eidtTodoOnSubmit = (event) => {\r\n        const id = event.target.id\r\n        event.preventDefault();\r\n\r\n        const virtualTodo = [...todoList]\r\n        for (let i in virtualTodo) {\r\n            if (id === virtualTodo[i]._id) {\r\n                virtualTodo[i].todoContent = editTodoText\r\n            }\r\n        }\r\n        setTodoList(virtualTodo)\r\n        axios.post('http://pe.heromc.net:4000/todos/update', {\r\n            edit: true,\r\n            id: id,\r\n            todoContent: editTodoText\r\n        })\r\n        setOpenEditTodo(\"\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive topfive-rv flex-col\" style={{width: '40%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content\">\r\n                    <div className=\"todo-list\" style={{height: '390px', overflowY: 'scroll'}}>\r\n                        <div className=\"flex\" style={{alignItems: 'center', justifyContent: 'space-between'}}>\r\n                            <p className=\"todo-title\" style={{margin: '0', marginLeft: '10px'}}>upcoming</p>\r\n                            <div    \r\n                                style={{marginRight: '5px', cursor: 'pointer'}}\r\n                                onClick={()=>{\r\n                                    if (openNewTodo) {\r\n                                        setOpenNewTodo(false)\r\n                                    } else {\r\n                                        setOpenNewTodo(true)\r\n                                    }\r\n                                    setNewTodoText(\"\")\r\n                                }}\r\n                            >\r\n                                <FontAwesomeIcon icon={faPlus} style={{color: '#aaa', fontSize: '14px'}}/>\r\n                            </div>\r\n                        </div>\r\n                        <form\r\n                            onSubmit={addNewTodo}\r\n                            className={openNewTodo ? \"newtodo-input flex\" : \"newtodo-input closeNewTodo\"}\r\n                        >\r\n                            <input \r\n                                value={newTodoText}\r\n                                type=\"text\" \r\n                                onChange={(event)=>{\r\n                                setNewTodoText(event.target.value)\r\n                            }}></input>\r\n                            <button className=\"newtodo-btn btn\">Add</button>\r\n                        </form>\r\n                        { todoList &&\r\n                            todoList.reverse().map((item, index)=>{\r\n                                if (item.isDone === false) {\r\n                                    return(\r\n                                        <div\r\n                                            key={index}\r\n                                            className=\"topfive-div\"\r\n                                        >\r\n                                            <div className=\"topfive-div flex\" style={{border: 'none', padding: '0'}}> \r\n                                                {\r\n                                                    item.isDone === false && \r\n                                                    <div \r\n                                                        className=\"todo-check\"\r\n                                                        id={JSON.stringify({\r\n                                                            id: item._id,\r\n                                                            isDone: item.isDone\r\n                                                        })}\r\n                                                        onClick={clickToCheck}\r\n                                                        >\r\n                                                    </div>\r\n                                                }\r\n                                                {\r\n                                                    item.isDone === true && \r\n                                                    <div \r\n                                                        className=\"todo-check-done\"\r\n                                                        id={JSON.stringify({\r\n                                                            id: item._id,\r\n                                                            isDone: item.isDone\r\n                                                        })}\r\n                                                        onClick={clickToCheck}\r\n                                                        > \r\n                                                        <FontAwesomeIcon icon={faCheck} style={{pointerEvents: 'none', color: '#23bfea'}}/>\r\n                                                    </div>\r\n                                                }\r\n                                                <p className=\"todo-text\">{item.todoContent}</p>\r\n                                                <div className=\"todo-action flex\">\r\n                                                    <div\r\n                                                        id={item._id}\r\n                                                        onClick={()=>{\r\n                                                            if (openEditTodo === \"\") {\r\n                                                                setOpenEditTodo(item._id)\r\n                                                            } else {\r\n                                                                setOpenEditTodo(\"\")\r\n                                                            }\r\n                                                            setEditTodoText(item.todoContent)\r\n                                                        }}>\r\n                                                        <FontAwesomeIcon icon={faEdit} className=\"icon blue\" style={{pointerEvents: 'none'}}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        id={item._id}\r\n                                                        onClick={deleteTodo}>\r\n                                                        <FontAwesomeIcon icon={faTimes} className=\"icon red\" style={{marginTop: '5px', fontSize: '12px', color: '#ffb3b7', marginLeft: '7px', pointerEvents: 'none'}}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <form\r\n                                                id={item._id}\r\n                                                onSubmit={eidtTodoOnSubmit}\r\n                                                style={{marginTop: '10px', marginBottom: '0'}}\r\n                                                className={openEditTodo === item._id ? \"newtodo-input flex\" : \"newtodo-input closeNewTodo\"}\r\n                                            >\r\n                                                <input \r\n                                                    style={{margin: '0', marginRight: '10px'}}\r\n                                                    value={editTodoText}\r\n                                                    type=\"text\" \r\n                                                    onChange={(event)=>{\r\n                                                        setEditTodoText(event.target.value)\r\n                                                }}></input>\r\n                                                <button className=\"newtodo-btn btn\">Edit</button>\r\n                                            </form>\r\n                                        </div>\r\n                                    )\r\n                                } \r\n                                return null\r\n                            })\r\n                        }\r\n                        <p className=\"todo-title\" style={{marginTop: '20px'}}>finished</p>{todoList &&\r\n                            todoList.reverse().map((item, index)=>{\r\n                                if (item.isDone === true) {\r\n                                    return (\r\n                                        <div\r\n                                            key={index}\r\n                                            className=\"topfive-div\"\r\n                                        >\r\n                                            <div className=\"topfive-div flex\" style={{border: 'none', padding: '0'}}> \r\n                                                {\r\n                                                    item.isDone === false && \r\n                                                    <div \r\n                                                        className=\"todo-check\"\r\n                                                        id={JSON.stringify({\r\n                                                            id: item._id,\r\n                                                            isDone: item.isDone\r\n                                                        })}\r\n                                                        onClick={clickToCheck}\r\n                                                        >\r\n                                                    </div>\r\n                                                }\r\n                                                {\r\n                                                    item.isDone === true && \r\n                                                    <div \r\n                                                        className=\"todo-check-done\"\r\n                                                        id={JSON.stringify({\r\n                                                            id: item._id,\r\n                                                            isDone: item.isDone\r\n                                                        })}\r\n                                                        onClick={clickToCheck}\r\n                                                        > \r\n                                                        <FontAwesomeIcon icon={faCheck} style={{pointerEvents: 'none', color: '#23bfea'}}/>\r\n                                                    </div>\r\n                                                }\r\n                                                <p className=\"todo-text\">{item.todoContent}</p>\r\n                                                <div className=\"todo-action flex\">\r\n                                                    <div\r\n                                                        id={item._id}\r\n                                                        onClick={()=>{\r\n                                                            if (openEditTodo === \"\") {\r\n                                                                setOpenEditTodo(item._id)\r\n                                                            } else {\r\n                                                                setOpenEditTodo(\"\")\r\n                                                            }\r\n                                                            setEditTodoText(item.todoContent)\r\n                                                        }}>\r\n                                                        <FontAwesomeIcon icon={faEdit} className=\"icon blue\" style={{pointerEvents: 'none'}}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        id={item._id}\r\n                                                        onClick={deleteTodo}>\r\n                                                        <FontAwesomeIcon icon={faTimes} className=\"icon red\" style={{marginTop: '5px', fontSize: '12px', color: '#ffb3b7', marginLeft: '7px', pointerEvents: 'none'}}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <form\r\n                                                id={item._id}\r\n                                                onSubmit={eidtTodoOnSubmit}\r\n                                                style={{marginTop: '10px', marginBottom: '0'}}\r\n                                                className={openEditTodo === item._id ? \"newtodo-input flex\" : \"newtodo-input closeNewTodo\"}\r\n                                            >\r\n                                                <input \r\n                                                    style={{margin: '0', marginRight: '10px'}}\r\n                                                    value={editTodoText}\r\n                                                    type=\"text\" \r\n                                                    onChange={(event)=>{\r\n                                                        setEditTodoText(event.target.value)\r\n                                                }}></input>\r\n                                                <button className=\"newtodo-btn btn\">Edit</button>\r\n                                            </form>\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                return null\r\n                            })\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faClock, faMailBulk } from '@fortawesome/free-solid-svg-icons'  \r\nimport { Pie } from '@reactchartjs/react-chart.js' \r\n\r\nexport default function DashboardChartPie(props) {\r\n\r\n    const email = props.email  \r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(()=>{\r\n        if (email.length > 0) { \r\n            let read = 0;\r\n            let unread = 0;\r\n            for (let i in email) {\r\n                for (let j in email[i].sendedEmail) {\r\n                    if (email[i].sendedEmail[j].isSeen === true) {\r\n                        read++\r\n                    } else {\r\n                        unread++\r\n                    }\r\n                }\r\n            }\r\n            setData({\r\n                labels: ['Read', 'Unread'],\r\n                datasets: [\r\n                    {\r\n                        label: '# of Votes',\r\n                        data: [read, unread],\r\n                        backgroundColor: [\r\n                            '#fb404b',\r\n                            '#23ccef',\r\n                        ],\r\n                        borderColor: [\r\n                            '#fb404b',\r\n                            '#23ccef',\r\n                        ],\r\n                        borderWidth: 1,\r\n                    },\r\n                ],\r\n            })\r\n        }\r\n    },[email])  \r\n\r\n    const options = {  \r\n        responsive: true,\r\n        maintainAspectRatio : false,\r\n        legend: {\r\n            position: 'bottom',\r\n            labels: {\r\n                fontSize: 14,\r\n                padding: 30\r\n            }\r\n        },\r\n        layout: {\r\n            padding: { \r\n                top: '20', \r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chartpie flex-col\">\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={faMailBulk} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>Email Statistics</p>\r\n                </div>\r\n                <div className=\"top-location-content flex\">\r\n                    <div className=\"top-location-map pie\" style={{margin: '0'}}> \r\n                        <Pie data={data} options ={options}/> \r\n                    </div>\r\n                </div>\r\n                <div className=\"count-line\"></div>\r\n                <div className=\"count-status flex-center\">\r\n                    <FontAwesomeIcon icon={faClock} className=\"count-up\"/> \r\n                    <p>Updated 3 minutes ago</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faChartBar, faClock } from '@fortawesome/free-solid-svg-icons'  \r\nimport { Line } from '@reactchartjs/react-chart.js' \r\n\r\nexport default function DashboardChartLine(props) {\r\n \r\n    const order = props.order \r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(()=>{\r\n        if (order.length > 0) {\r\n            const month = [\r\n                {\r\n                    id: 1,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 2,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 3,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 4,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 5,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 6,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 7,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 8,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 9,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 10,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 11,\r\n                    totalSale: 0\r\n                },\r\n                {\r\n                    id: 12,\r\n                    totalSale: 0\r\n                }\r\n            ] \r\n            for (let i in order) { \r\n                for (let j in month) {\r\n                    if (new Date(order[i].orderDate).getMonth() + 1 === month[j].id) {\r\n                            month[j].totalSale += order[i].orderTotal\r\n                    }\r\n                }\r\n            }\r\n            const saleData = []\r\n            for (let i in month) {\r\n                saleData.push(month[i].totalSale)\r\n            }\r\n            setData({\r\n                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul' ,'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\r\n                datasets: [\r\n                    {\r\n                        label: '',\r\n                        data: saleData,\r\n                        fill: false,\r\n                        backgroundColor: 'rgb(255, 99, 132)',\r\n                        borderColor: 'rgba(255, 99, 132, 0.9)'\r\n                    }\r\n                ],\r\n            })\r\n        }\r\n    },[order])  \r\n\r\n    const options = {\r\n        legend: {\r\n            display: false,\r\n        },\r\n        scales: {\r\n            xAxes: [{ \r\n                gridLines: {\r\n                    display: false\r\n                }\r\n            }],\r\n            yAxes: [\r\n                {\r\n                    type: 'linear',\r\n                    display: true,\r\n                    position: 'left'\r\n                }\r\n            ],\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"chart chartline flex-col\">\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={faChartBar} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\" style={{height: 'max-content'}}>\r\n                <div className=\"headerbox-header\">\r\n                    <p>2020 Revenue</p>\r\n                </div>\r\n                <div className=\"top-location-content flex\">\r\n                    <div className=\"top-location-map\" style={{margin: '0'}}>\r\n                        <Line data={data} options={options}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"count-line\"></div>\r\n                <div className=\"count-status flex-center\">\r\n                    <FontAwesomeIcon icon={faClock} className=\"count-up\"/> \r\n                    <p>Updated 3 minutes ago</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { faFileInvoice, faMoneyBillWave, faStar, faTasks, faTshirt, faUser } from '@fortawesome/free-solid-svg-icons'\r\nimport DashboardTotalCount from './DashboardTotalCount'\r\nimport DashboardLocation from './DashboardLocation'\r\nimport DashboardTopFive from './DashboardTopFive'\r\nimport DashboardRecentReview from './DashboardRecentReview'\r\nimport axios from 'axios'\r\nimport DashboardChart from './DashboardChart'\r\nimport DashboardTodoList from './DashboardTodoList'\r\nimport DashboardChartPie from './DashboardChartPie'\r\nimport DashboardChartLine from './DashboardChartLine'\r\n\r\nexport default function DashboardMain() {\r\n\r\n    const [products, setProducts] = useState([]);\r\n    const [order, setOrder] = useState([]);\r\n    const [email, setEmail] = useState([]);\r\n    const [user, setUser] = useState([]);\r\n    const [topCustomer, setTopCusomer] = useState([]);\r\n    const [topProductSales, setTopProductSales] = useState([]);\r\n    const [totalIncome, setTotalIncome] = useState(0);\r\n    const [totalSale, setTotalSale] = useState(0);\r\n    const [orderMonthPercent, setOrderMonthPercent] = useState({})\r\n    const [saleMonthPercent, setSaleMonthPercent] = useState({})\r\n    const [incomeMonthPercent, setIncomeMonthPercent] = useState({}) \r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n                let virtualProducts = [...res.data]\r\n                virtualProducts.sort((a,b) =>  b.productSold - a.productSold)\r\n                let virtualProducts2 = []\r\n                for (let i in virtualProducts) {\r\n                    let data = {\r\n                        ...virtualProducts[i],\r\n                        count: virtualProducts[i].productSold\r\n                    }\r\n                    virtualProducts2.push(data)\r\n                }\r\n                setTopProductSales(virtualProducts2)\r\n            }\r\n        )\r\n        axios.get(`http://pe.heromc.net:4000/users/list`)\r\n            .then(res => {\r\n                setUser(res.data)\r\n            }\r\n        ) \r\n        axios.get(`http://pe.heromc.net:4000/email`)\r\n            .then(res => {\r\n                setEmail(res.data)\r\n            }\r\n        ) \r\n        axios.get(`http://pe.heromc.net:4000/order`)\r\n            .then(res => {\r\n                setOrder(res.data)\r\n                const topCustomer2 = Object.values(res.data.reduce((a, {orderEmail, orderName, orderTotal, orderAvatar}) => {\r\n                    a[orderEmail] = a[orderEmail] || {orderEmail, orderName, orderAvatar, orderTotal, count: 0};\r\n                    a[orderEmail].count++;\r\n                    return a;\r\n                }, Object.create(null)));\r\n                topCustomer2.sort((a,b) =>  b.count - a.count)\r\n                setTopCusomer(topCustomer2)\r\n\r\n                var totalIncome = 0;\r\n                var totalSale = 0;\r\n                for(let i in res.data) {\r\n                    for(let j in res.data[i].orderList) {\r\n                        totalSale += res.data[i].orderList[j].amount\r\n                    }\r\n                    totalIncome += res.data[i].orderTotal\r\n                }\r\n                setTotalSale(totalSale)\r\n                setTotalIncome(totalIncome) \r\n\r\n                const currentMonth = new Date().getMonth() + 1\r\n                const currentYear = new Date().getFullYear()\r\n                let lastYear = new Date().getFullYear()\r\n                let lastMonth = 0\r\n                if (currentMonth === 1) {\r\n                    lastMonth = 12\r\n                    lastYear = currentYear - 1\r\n                } else {\r\n                    lastMonth = currentMonth - 1\r\n                    lastYear = currentYear\r\n                }\r\n                const currentOrder = []\r\n                const lastMonthOrder = []\r\n                let currentTotalIncome = 0;\r\n                let currentTotalSale = 0;\r\n                let lastCurrentTotalIncome = 0;\r\n                let lastCurrentTotalSale = 0;\r\n                for (let i in res.data) {\r\n                    if (new Date(res.data[i].orderDate).getMonth()+1 === currentMonth &&\r\n                        new Date(res.data[i].orderDate).getFullYear() === currentYear) {\r\n                        currentOrder.push(res.data[i]) \r\n                        currentTotalIncome += res.data[i].orderTotal\r\n                    } \r\n                    if (new Date(res.data[i].orderDate).getMonth()+1 === lastMonth &&\r\n                        new Date(res.data[i].orderDate).getFullYear() === lastYear) {\r\n                        lastMonthOrder.push(res.data[i]) \r\n                        lastCurrentTotalIncome += res.data[i].orderTotal\r\n                    }\r\n                    for(let j in res.data[i].orderList) {\r\n                        if (new Date(res.data[i].orderDate).getMonth()+1 === currentMonth &&\r\n                            new Date(res.data[i].orderDate).getFullYear() === currentYear) { \r\n                            currentTotalSale += res.data[i].orderList[j].amount \r\n                        } \r\n                        if (new Date(res.data[i].orderDate).getMonth()+1 === lastMonth &&\r\n                            new Date(res.data[i].orderDate).getFullYear() === lastYear) { \r\n                            lastCurrentTotalSale += res.data[i].orderList[j].amount \r\n                        }\r\n                    }\r\n                }   \r\n\r\n                if (currentOrder.length >= lastMonthOrder.length) {\r\n                    setOrderMonthPercent({\r\n                        percent: Math.ceil(((currentOrder.length - lastMonthOrder.length)/lastMonthOrder.length) * 100),\r\n                        isDecrease: true\r\n                    })\r\n                } else { \r\n                    setOrderMonthPercent({\r\n                        percent: Math.ceil(((lastMonthOrder.length - currentOrder.length)/lastMonthOrder.length) * 100),\r\n                        isDecrease: false\r\n                    })\r\n                }\r\n                if (currentTotalSale >= lastCurrentTotalSale) {\r\n                    setSaleMonthPercent({\r\n                        percent: Math.ceil(((currentTotalSale - lastCurrentTotalSale)/lastCurrentTotalSale) * 100),\r\n                        isDecrease: true\r\n                    })\r\n                } else { \r\n                    setSaleMonthPercent({\r\n                        percent: Math.ceil(((lastCurrentTotalSale - currentTotalSale)/lastCurrentTotalSale) * 100),\r\n                        isDecrease: false\r\n                    })\r\n                }\r\n                if (currentTotalIncome >= lastCurrentTotalIncome) {\r\n                    setIncomeMonthPercent({\r\n                        percent: Math.ceil(((currentTotalIncome - lastCurrentTotalIncome)/lastCurrentTotalIncome) * 100),\r\n                        isDecrease: true\r\n                    })\r\n                } else { \r\n                    setIncomeMonthPercent({\r\n                        percent: Math.ceil(((lastCurrentTotalIncome - currentTotalIncome)/lastCurrentTotalIncome) * 100),\r\n                        isDecrease: false\r\n                    })\r\n                }\r\n            }\r\n        ) \r\n    }, []) \r\n\r\n    const totalCount = [\r\n        {\r\n            id: 1,\r\n            title: \"Total orders\",\r\n            count: order.length,\r\n            percent: orderMonthPercent.percent,\r\n            isDecrease: orderMonthPercent.isDecrease,\r\n            color: \"orange\",\r\n            icon: faFileInvoice\r\n        },\r\n        {\r\n            id: 2,\r\n            title: \"Total sales\",\r\n            count: `${totalSale}`,\r\n            percent: saleMonthPercent.percent,\r\n            isDecrease: saleMonthPercent.isDecrease,\r\n            color: \"pink\",\r\n            icon: faTshirt\r\n        },\r\n        {\r\n            id: 3,\r\n            title: \"Income\",\r\n            count: `${totalIncome}đ`,\r\n            percent: incomeMonthPercent.percent,\r\n            isDecrease: incomeMonthPercent.isDecrease,\r\n            color: \"green\",\r\n            icon: faMoneyBillWave\r\n        },\r\n        {\r\n            id: 4,\r\n            title: \"Users\",\r\n            count: user.length,\r\n            percent: 20,\r\n            isDecrease: true,\r\n            color: \"lightblue\",\r\n            icon: faUser\r\n        },\r\n    ]\r\n\r\n    const recentVote = [];\r\n    if (products.length > 0) {\r\n        for (let i = 0; i < products.length; i++) {\r\n            const productVote = products[i].productVote;\r\n            for (let j = 0; j < productVote.length; j++) {\r\n                const newRatingDate = new Date(productVote[j].ratingDate);\r\n                productVote[j].productName = products[i].productName;\r\n                if (newRatingDate.getDate() === new Date().getDate()) {\r\n                    let hours = newRatingDate.getHours().toString();\r\n                    let minutes = newRatingDate.getMinutes().toString();\r\n                    if (hours < 10) {\r\n                        hours = \"0\" + hours\r\n                    }\r\n                    if (minutes < 10) {\r\n                        minutes = \"0\" + minutes\r\n                    }\r\n                    productVote[j].ratingHours = hours;\r\n                    productVote[j].ratingMinutes = minutes;\r\n                } else {\r\n                    let days = newRatingDate.getDate().toString();\r\n                    let months = (newRatingDate.getMonth()+1).toString();\r\n                    if (days < 10) {\r\n                        days = \"0\" + days\r\n                    }\r\n                    if (months < 10) {\r\n                        months = \"0\" + months\r\n                    }\r\n                    productVote[j].ratingDays = days;\r\n                    productVote[j].ratingMonths = months;\r\n                    productVote[j].ratingYears = newRatingDate.getFullYear().toString();\r\n                }\r\n                recentVote.push(productVote[j])\r\n            }\r\n        }\r\n    }\r\n\r\n    if (recentVote) {\r\n        recentVote.sort(function(a,b){\r\n            return new Date(b.ratingDate) - new Date(a.ratingDate);\r\n        });\r\n    }\r\n\r\n    const topRecentVote = recentVote.splice(0,5)\r\n    \r\n    return (\r\n        <div className=\"dashboard-main\">\r\n            <div className=\"row flex\">\r\n                { totalCount.map((item, index)=> { \r\n                    return (\r\n                        <DashboardTotalCount\r\n                            key = {index}\r\n                            item = {item}\r\n                        />\r\n                    )\r\n                })}\r\n            </div>\r\n            <DashboardLocation\r\n                order={order}\r\n            />\r\n            <div className=\"row flex\">\r\n                <DashboardTopFive\r\n                    icon = {faUser}\r\n                    title = \"Top customers by orders\"\r\n                    color = \"lightblue\"\r\n                    data = {topCustomer}\r\n                    table = {[\r\n                        {\r\n                            title: 'User name'\r\n                        },\r\n                        {\r\n                            title: 'Total orders'\r\n                        },\r\n                    ]}\r\n                />\r\n                <DashboardTopFive\r\n                    icon = {faTshirt}\r\n                    title = \"Top products by selling\"\r\n                    color = \"pink\"\r\n                    data = {topProductSales}\r\n                    table = {[\r\n                        {\r\n                            title: 'Product name'\r\n                        },\r\n                        {\r\n                            title: 'Total sales'\r\n                        },\r\n                    ]}\r\n                />\r\n            </div>\r\n            <div className=\"row flex\">\r\n                <DashboardChartPie\r\n                    email = {email}\r\n                    color = \"pink\"\r\n                />\r\n                <DashboardChart\r\n                    products = {products}\r\n                    order = {order}\r\n                    color = \"lightblue\"\r\n                />\r\n            </div>\r\n            <div className=\"row flex\">\r\n                <DashboardRecentReview\r\n                    icon = {faStar}\r\n                    title = \"Recent Reviews\"\r\n                    color = \"orange\"\r\n                    topRecentVote = {topRecentVote}\r\n                />\r\n                <DashboardTodoList // recent orders\r\n                    icon = {faTasks}\r\n                    title = \"Todo list\"\r\n                    color = \"green\"\r\n                />\r\n            </div>\r\n            <div className=\"row flex\">\r\n                <DashboardChartLine\r\n                    icon = {faTasks}\r\n                    order = {order}\r\n                    color = \"pink\"\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useRef } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { useEffect, useState } from 'react'\r\nimport socketIOClient from \"socket.io-client\"\r\nimport axios from 'axios'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome' \r\nimport { faChevronLeft } from '@fortawesome/free-solid-svg-icons'\r\n\r\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\r\n\r\nexport default function DashboardInbox(props) {\r\n    \r\n    const [allChatData, setAllChatData] = useState([])\r\n    const [constAllChatData, setConstAllChatData] = useState([])\r\n    const [roomId, setRoomId] = useState(0);\r\n    const [roomIndex, setRoomIndex] = useState(0)\r\n    const [chatInput, setChatInput] = useState(\"\")\r\n    const [searchInput, setSearchInput] = useState(\"\")\r\n\r\n    const socket = socketIOClient(ENDPOINT);\r\n\r\n    useEffect(() => {\r\n        socket.emit('join', {\r\n            sessionId: 'admin',\r\n            isAdmin: true\r\n        }) \r\n        socket.on('send-all-chat', (data)=>{\r\n            setAllChatData(data)\r\n            setConstAllChatData(data)\r\n            if (window.innerWidth > 700) {\r\n                if (data.length > 0) {\r\n                    setRoomId(data[0].sessionId)\r\n                    if (messageRef.current) messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n                }\r\n            }\r\n        })\r\n        socket.on(\"client-msg\", function(data) {\r\n            setAllChatData(data.allchat)\r\n            setConstAllChatData(data.allchat)\r\n            if (messageRef.current) messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n        })\r\n        if (window.innerWidth <= 700) {\r\n            setRoomIndex(null)\r\n        }\r\n    },[])\r\n\r\n    const handleOnChange = (event) => {\r\n        setChatInput(event.target.value)\r\n    }\r\n\r\n    const sendChatInput = (event) => {\r\n        event.preventDefault();\r\n        if (chatInput === \"\") {\r\n            return\r\n        }\r\n        const data = {\r\n            fromAdmin: true,\r\n            text: chatInput,\r\n            time: new Date(),\r\n            roomId: roomId\r\n        }\r\n        socket.emit('messageSend-admin', data)\r\n        setTimeout(()=> {\r\n            axios.get(`http://pe.heromc.net:4000/chat`)\r\n                .then(res => {\r\n                    setAllChatData(res.data)\r\n                    setConstAllChatData(res.data)\r\n                    setChatInput(\"\")\r\n                    if (messageRef.current) messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n                }\r\n            )\r\n        }, 100)\r\n    }\r\n\r\n    const messageRef = useRef([]);\r\n\r\n    const filterOnSearch = (value) => {\r\n        const search = []\r\n        for (let i in constAllChatData) {\r\n            if ((constAllChatData[i].chatName).toLowerCase().includes(value)) {\r\n                search.push(constAllChatData[i])\r\n            }\r\n        }\r\n        setAllChatData(search)\r\n    }\r\n\r\n    const sortDateChat = [...allChatData]\r\n    // if (allChatData.length > 0) {\r\n\r\n    //     sortDateChat.sort((a,b) => {\r\n    //         var dateA = new Date(a.chatContent[a.chatContent.length - 1].time)\r\n    //         var dateB = new Date(b.chatContent[b.chatContent.length - 1].time)\r\n    //         return dateB - dateA\r\n    //     })\r\n    // }\r\n\r\n    const [openTimeTooltip, setOpenTimeTooltip] = useState(\"\")\r\n\r\n    return (\r\n        <div className=\"boxchat-admin flex\">\r\n            <div className=\"boxchat-left\">\r\n                <div className=\"boxchat-search\">\r\n                    <input \r\n                        type=\"text\" \r\n                        placeholder=\"Search\"\r\n                        value={searchInput}\r\n                        onChange={(event)=>{\r\n                            setSearchInput(event.target.value)\r\n                            filterOnSearch(event.target.value)\r\n                        }}\r\n                    ></input>\r\n                </div>\r\n                <div className=\"boxchat-list\">\r\n                    { sortDateChat.length > 0 && \r\n                        sortDateChat.map((item,index)=>{\r\n                            const date = new Date(item.chatContent[item.chatContent.length - 1].time)\r\n                            const toDay = new Date()\r\n                            const day = date.getDay();\r\n                            const dayInMonth = date.getDate();\r\n                            const month = date.getMonth() + 1;\r\n                            const hour = date.getHours()\r\n                            const minute = date.getMinutes()\r\n                            var strTime = \"\"\r\n                            if (dayInMonth === toDay.getDate()) {\r\n                                if (hour < 10) {\r\n                                    strTime += `- 0${hour}`\r\n                                } else {\r\n                                    strTime += `- ${hour}`\r\n                                }\r\n                                if (minute < 10){\r\n                                    strTime += `:0${minute}`\r\n                                } else {\r\n                                    strTime += `:${minute}`\r\n                                }\r\n                            } \r\n                            if (dayInMonth < toDay.getDate()) {\r\n                                strTime = `- T${day}`\r\n                            } \r\n                            if ((toDay.getDate()- dayInMonth) > 6) {\r\n                                strTime = \"\"\r\n                                if (dayInMonth < 10) {\r\n                                    strTime += `- 0${dayInMonth}`\r\n                                } else {\r\n                                    strTime += `- ${dayInMonth}`\r\n                                }\r\n                                if (month < 10){\r\n                                    strTime += `/0${month}`\r\n                                } else {\r\n                                    strTime += `/${month}`\r\n                                }\r\n                            }\r\n                            return (\r\n                                <div \r\n                                    key={index}\r\n                                    className={roomIndex === index ? \"boxchat-item flex boxchat-item-active\" : \"boxchat-item flex\"}\r\n                                    onClick={()=>{\r\n                                        setRoomId(item.sessionId)\r\n                                        setRoomIndex(index)\r\n                                        setTimeout(()=>{\r\n                                            if (messageRef.current) messageRef.current.scrollIntoView({ behavior: \"smooth\" })\r\n                                        }, 10)\r\n                                    }}\r\n                                >\r\n                                    <div className=\"boxchat-avt flex-center\" style={{pointerEvents: 'none'}}>\r\n                                        { item.userInfo && \r\n                                            <img \r\n                                                src={item.userInfo.userAvt}\r\n                                                alt=\"\"\r\n                                            ></img>\r\n                                        }\r\n                                        { !item.userInfo && \r\n                                            <img \r\n                                                src={\"http://pe.heromc.net:4000/images/16f9bbf512b66a228f7978e34d8fb163\"}\r\n                                                alt=\"\"\r\n                                            ></img>\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"flex-col\" style={{pointerEvents: 'none', width: '100%', justifyContent: 'space-between'}}>\r\n                                        <p className=\"boxchat-name\">{item.chatName}</p>\r\n                                        <div className=\"boxchat-first flex\">\r\n                                            {\r\n                                                item.chatContent[item.chatContent.length - 1].fromAdmin === true &&\r\n                                                <p>Bạn: {item.chatContent[item.chatContent.length - 1].text}</p>\r\n                                            }\r\n                                            {\r\n                                                !item.chatContent[item.chatContent.length - 1].fromAdmin &&\r\n                                                <p>{item.chatContent[item.chatContent.length - 1].text}</p>\r\n                                            }\r\n                                            <p>{strTime}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n            {\r\n                (typeof(roomIndex) === 'number' && window.innerWidth <= 700)&&\r\n                <div className=\"boxchat-mobile flex\">\r\n                    <div className=\"boxchat-mobile-header flex\">\r\n                        <div \r\n                            className=\"boxchat-mobile-header-leave\"\r\n                            onClick={()=>{\r\n                                setRoomIndex(null)\r\n                            }}\r\n                        >\r\n                            <FontAwesomeIcon icon={faChevronLeft} style={{pointerEvents: 'none'}}/>\r\n                        </div>\r\n                        { sortDateChat.length > 0 &&\r\n                            <div className=\"boxchat-box-info\">\r\n                                <div className=\"boxchat-box-avt flex-center\">\r\n                                    { sortDateChat[Number(roomIndex)].userInfo && \r\n                                        <img \r\n                                            src={sortDateChat[Number(roomIndex)].userInfo.userAvt}\r\n                                            alt=\"\"\r\n                                        ></img>\r\n                                    }\r\n                                    { !sortDateChat[Number(roomIndex)].userInfo && \r\n                                        <img \r\n                                            src={\"http://pe.heromc.net:4000/images/16f9bbf512b66a228f7978e34d8fb163\"}\r\n                                            alt=\"\"\r\n                                        ></img>\r\n                                    }\r\n                                </div>\r\n                                <div className=\"flex-center\">\r\n                                    { sortDateChat[Number(roomIndex)].userInfo && \r\n                                        <p className=\"boxchat-name\">{allChatData[Number(roomIndex)].chatName}</p>\r\n                                    }\r\n                                    { !sortDateChat[Number(roomIndex)].userInfo &&\r\n                                        <div className=\"flex\" style={{alignItems: 'flex-end'}}>\r\n                                            <p className=\"boxchat-name\">{allChatData[Number(roomIndex)].chatName}</p>\r\n                                            <p style={{marginLeft: '5px', color: '#777', fontSize: '16px', fontFamily: 'sans-serif'}}>(anonymous)</p>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    <div className=\"boxchat-mobile-main\">\r\n                        <div \r\n                            className=\"boxchat-contents\"\r\n                        >\r\n                            { sortDateChat.length > 0 &&\r\n                                <div \r\n                                    className=\"flex-col chat-box-list\">\r\n                                    {\r\n                                        sortDateChat[roomIndex].chatContent.map((item, index) => {\r\n                                            const date = new Date(item.time)\r\n                                            const toDay = new Date()\r\n                                            const day = date.getDay();\r\n                                            const dayInMonth = date.getDate();\r\n                                            const month = date.getMonth() + 1;\r\n                                            const hour = date.getHours()\r\n                                            const minute = date.getMinutes()\r\n                                            let chatTime = \"\"\r\n                                            if (dayInMonth === toDay.getDate()) {\r\n                                                if (hour < 10) {\r\n                                                    chatTime += `0${hour}`\r\n                                                } else {\r\n                                                    chatTime += `${hour}`\r\n                                                }\r\n                                                if (minute < 10){\r\n                                                    chatTime += `:0${minute}`\r\n                                                } else {\r\n                                                    chatTime += `:${minute}`\r\n                                                }\r\n                                            } \r\n                                            if (dayInMonth < toDay.getDate()) {\r\n                                                chatTime = `T${day}`\r\n                                            } \r\n                                            if ((toDay.getDate()- dayInMonth) > 6) {\r\n                                                chatTime = \"\"\r\n                                                if (dayInMonth < 10) {\r\n                                                    chatTime += `0${dayInMonth}`\r\n                                                } else {\r\n                                                    chatTime += `${dayInMonth}`\r\n                                                }\r\n                                                if (month < 10){\r\n                                                    chatTime += `/0${month}`\r\n                                                } else {\r\n                                                    chatTime += `/${month}`\r\n                                                }\r\n                                            }\r\n                                            return (\r\n                                                <div \r\n                                                    ref={messageRef}\r\n                                                    key={index}\r\n                                                    className=\"chat-list\">\r\n                                                    {\r\n                                                        item.fromAdmin !== true && \r\n                                                        <div className=\"box-chat-clienttext\"\r\n                                                            onMouseEnter={()=>{\r\n                                                                setOpenTimeTooltip(item.time)\r\n                                                            }}\r\n                                                            onMouseLeave={()=>{\r\n                                                                setOpenTimeTooltip(\"\")\r\n                                                            }}\r\n                                                        >\r\n                                                            <p>{item.text}</p>\r\n                                                            { openTimeTooltip === item.time &&\r\n                                                                <div className=\"time-tooltip-client flex-center\">\r\n                                                                    <p>{chatTime}</p>\r\n                                                                </div>\r\n                                                            }\r\n                                                        </div>\r\n                                                    }\r\n                                                    {\r\n                                                        item.fromAdmin === true && \r\n                                                        <div className=\"box-chat-admintext\"\r\n                                                            onMouseEnter={()=>{\r\n                                                                setOpenTimeTooltip(item.time)\r\n                                                            }}\r\n                                                            onMouseLeave={()=>{\r\n                                                                setOpenTimeTooltip(\"\")\r\n                                                            }}\r\n                                                        >\r\n                                                            <p style={{pointerEvents: 'none'}}>{item.text}</p>\r\n                                                            { openTimeTooltip === item.time &&\r\n                                                                <div className=\"time-tooltip flex-center\">\r\n                                                                    <p>{chatTime}</p>\r\n                                                                </div>\r\n                                                            }\r\n                                                        </div>\r\n                                                    }\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>  \r\n                            }\r\n                        </div>                    \r\n                    </div>\r\n                    <div className=\"boxchat-type boxchat-mobile-type\">\r\n                        <form onSubmit={sendChatInput} className=\"boxchat-type-form\">\r\n                            <input \r\n                                type=\"text\" \r\n                                onChange={handleOnChange}\r\n                                value={chatInput}\r\n                                placeholder=\"Type your message...\"\r\n                            ></input>\r\n                            <button>Send</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            }\r\n            <div className=\"boxchat-main\">\r\n                <div className=\"boxchat-box\">\r\n                    { (sortDateChat.length>0) &&\r\n                        <div className=\"boxchat-box-info\">\r\n                            <div className=\"boxchat-box-avt flex-center\">\r\n                                { sortDateChat[Number(roomIndex)].userInfo && \r\n                                    <img \r\n                                        src={sortDateChat[Number(roomIndex)].userInfo.userAvt}\r\n                                        alt=\"\"\r\n                                    ></img>\r\n                                }\r\n                                { !sortDateChat[Number(roomIndex)].userInfo && \r\n                                    <img \r\n                                        src={\"http://pe.heromc.net:4000/images/16f9bbf512b66a228f7978e34d8fb163\"}\r\n                                        alt=\"\"\r\n                                    ></img>\r\n                                }\r\n                            </div>\r\n                            <div className=\"flex-center\">\r\n                                { sortDateChat[Number(roomIndex)].userInfo && \r\n                                    <p className=\"boxchat-name\">{allChatData[Number(roomIndex)].chatName}</p>\r\n                                }\r\n                                { !sortDateChat[Number(roomIndex)].userInfo &&\r\n                                    <div className=\"flex\" style={{alignItems: 'flex-end'}}>\r\n                                        <p className=\"boxchat-name\">{allChatData[Number(roomIndex)].chatName}</p>\r\n                                        <p style={{marginLeft: '5px', color: '#777', fontSize: '16px', fontFamily: 'sans-serif'}}>(anonymous)</p>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div \r\n                        className=\"boxchat-contents\"\r\n                    >\r\n                        { (sortDateChat.length>0 && window.innerWidth > 700)&&\r\n                            <div \r\n                                className=\"flex-col chat-box-list\">\r\n                                {\r\n                                    sortDateChat[roomIndex].chatContent.map((item, index) => {\r\n                                        const date = new Date(item.time)\r\n                                        const toDay = new Date()\r\n                                        const day = date.getDay();\r\n                                        const dayInMonth = date.getDate();\r\n                                        const month = date.getMonth() + 1;\r\n                                        const hour = date.getHours()\r\n                                        const minute = date.getMinutes()\r\n                                        let chatTime = \"\"\r\n                                        if (dayInMonth === toDay.getDate()) {\r\n                                            if (hour < 10) {\r\n                                                chatTime += `0${hour}`\r\n                                            } else {\r\n                                                chatTime += `${hour}`\r\n                                            }\r\n                                            if (minute < 10){\r\n                                                chatTime += `:0${minute}`\r\n                                            } else {\r\n                                                chatTime += `:${minute}`\r\n                                            }\r\n                                        } \r\n                                        if (dayInMonth < toDay.getDate()) {\r\n                                            chatTime = `T${day}`\r\n                                        } \r\n                                        if ((toDay.getDate()- dayInMonth) > 6) {\r\n                                            chatTime = \"\"\r\n                                            if (dayInMonth < 10) {\r\n                                                chatTime += `0${dayInMonth}`\r\n                                            } else {\r\n                                                chatTime += `${dayInMonth}`\r\n                                            }\r\n                                            if (month < 10){\r\n                                                chatTime += `/0${month}`\r\n                                            } else {\r\n                                                chatTime += `/${month}`\r\n                                            }\r\n                                        }\r\n                                        return (\r\n                                            <div \r\n                                                ref={messageRef}\r\n                                                key={index}\r\n                                                className=\"chat-list\">\r\n                                                {\r\n                                                    item.fromAdmin !== true && \r\n                                                    <div className=\"box-chat-clienttext\"\r\n                                                        onMouseEnter={()=>{\r\n                                                            setOpenTimeTooltip(item.time)\r\n                                                        }}\r\n                                                        onMouseLeave={()=>{\r\n                                                            setOpenTimeTooltip(\"\")\r\n                                                        }}\r\n                                                    >\r\n                                                        <p>{item.text}</p>\r\n                                                        { openTimeTooltip === item.time &&\r\n                                                            <div className=\"time-tooltip-client flex-center\">\r\n                                                                <p>{chatTime}</p>\r\n                                                            </div>\r\n                                                        }\r\n                                                    </div>\r\n                                                }\r\n                                                {\r\n                                                    item.fromAdmin === true && \r\n                                                    <div className=\"box-chat-admintext\"\r\n                                                        onMouseEnter={()=>{\r\n                                                            setOpenTimeTooltip(item.time)\r\n                                                        }}\r\n                                                        onMouseLeave={()=>{\r\n                                                            setOpenTimeTooltip(\"\")\r\n                                                        }}\r\n                                                    >\r\n                                                        <p style={{pointerEvents: 'none'}}>{item.text}</p>\r\n                                                        { openTimeTooltip === item.time &&\r\n                                                            <div className=\"time-tooltip flex-center\">\r\n                                                                <p>{chatTime}</p>\r\n                                                            </div>\r\n                                                        }\r\n                                                    </div>\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>  \r\n                        }\r\n                    </div>\r\n                </div>\r\n                <div className=\"boxchat-type\">\r\n                    <form onSubmit={sendChatInput} className=\"boxchat-type-form\">\r\n                        <input \r\n                            type=\"text\" \r\n                            onChange={handleOnChange}\r\n                            value={chatInput}\r\n                            placeholder=\"Type your message...\"\r\n                        ></input>\r\n                        <button>Send</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardProductTable(props) {\r\n\r\n    const [products, setProducts] = useState([])\r\n    // const [searchInput, setSearchInput] = useState(\"\")\r\n    const [constProducts, setConstProducts] = useState([])\r\n    const [isSortByName, setIsSortByName] = useState(false)\r\n    const [isSortByPrice, setIsSortByPrice] = useState(false)\r\n    const [isSortBySale, setIsSortBySale] = useState(false)\r\n    const [isSortBySold, setIsSortBySold] = useState(false)\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProducts(res.data)\r\n                setConstProducts(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = products.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(products.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        axios.post(`http://pe.heromc.net:4000/products/delete/:${event.target.id}`, {\r\n            productId: event.target.id\r\n        })\r\n        setProducts(products.filter((item)=>{\r\n            return item._id !== event.target.id\r\n        }))\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constProducts) {\r\n            if ((constProducts[i].productName).toLowerCase().includes(searchInput)) {\r\n                search.push(constProducts[i])\r\n            }\r\n        }\r\n        setProducts(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"ProductName\") {\r\n            if (isSortByName) {\r\n                const sortByName = [...products]\r\n                sortByName.sort(function(a, b) {\r\n                    var nameA = a.productName.toLowerCase();\r\n                    var nameB = b.productName.toLowerCase(); \r\n                    if(nameA === nameB) return 0; \r\n                    return nameA > nameB ? 1 : -1;\r\n                })\r\n                setIsSortByName(false)\r\n                setProducts(sortByName)\r\n            } else {\r\n                const sortByName = [...products]\r\n                sortByName.sort(function(a, b) {\r\n                    var nameA = a.productName.toLowerCase();\r\n                    var nameB = b.productName.toLowerCase(); \r\n                    if(nameA === nameB) return 0; \r\n                    return nameA < nameB ? 1 : -1;\r\n                })\r\n                setIsSortByName(true)\r\n                setProducts(sortByName)\r\n            }\r\n        }\r\n        if (event.target.id === \"ProductPrice\") {\r\n            if (isSortByPrice) {\r\n                const sortByPrice = [...products]\r\n                sortByPrice.sort(function(a, b) {\r\n                    var priceA = a.productPrice;\r\n                    var priceB = b.productPrice; \r\n                    if(priceA === priceB) return 0; \r\n                    return priceA > priceB ? 1 : -1;\r\n                })\r\n                setIsSortByPrice(false)\r\n                setProducts(sortByPrice)\r\n            } else {\r\n                const sortByPrice = [...products]\r\n                sortByPrice.sort(function(a, b) {\r\n                    var priceA = a.productPrice;\r\n                    var priceB = b.productPrice; \r\n                    if(priceA === priceB) return 0; \r\n                    return priceA < priceB ? 1 : -1;\r\n                })\r\n                setIsSortByPrice(true)\r\n                setProducts(sortByPrice)\r\n            }\r\n        }\r\n        if (event.target.id === \"ProductSale\") {\r\n            if (isSortBySale) {\r\n                const sortBySale = [...products]\r\n                sortBySale.sort(function(a, b) {\r\n                    var saleA = a.productSale;\r\n                    var saleB = b.productSale; \r\n                    if(saleA === saleB) return 0; \r\n                    return saleA > saleB ? 1 : -1;\r\n                })\r\n                setIsSortBySale(false)\r\n                setProducts(sortBySale)\r\n            } else {\r\n                const sortBySale = [...products]\r\n                sortBySale.sort(function(a, b) {\r\n                    var saleA = a.productSale;\r\n                    var saleB = b.productSale; \r\n                    if(saleA === saleB) return 0; \r\n                    return saleA < saleB ? 1 : -1;\r\n                })\r\n                setIsSortBySale(true)\r\n                setProducts(sortBySale)\r\n            }\r\n        }\r\n        if (event.target.id === \"ProductSold\") {\r\n            if (isSortBySold) {\r\n                const sortBySold = [...products]\r\n                sortBySold.sort(function(a, b) {\r\n                    var SoldA = a.productSold;\r\n                    var SoldB = b.productSold; \r\n                    if(SoldA === SoldB) return 0; \r\n                    return SoldA > SoldB ? 1 : -1;\r\n                })\r\n                setIsSortBySold(false)\r\n                setProducts(sortBySold)\r\n            } else {\r\n                const sortBySold = [...products]\r\n                sortBySold.sort(function(a, b) {\r\n                    var SoldA = a.productSold;\r\n                    var SoldB = b.productSold; \r\n                    if(SoldA === SoldB) return 0; \r\n                    return SoldA < SoldB ? 1 : -1;\r\n                })\r\n                setIsSortBySold(true)\r\n                setProducts(sortBySold)\r\n            }\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form onSubmit={searchOnSubmit}>\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                onChange={searchOnChange}></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr>\r\n                                {\r\n                                    props.table.map((item, index) => {\r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }}\r\n                                                id={`Product${item}`}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    const date = new Date(item.productDate)\r\n                                    const day = date.getDate();\r\n                                    const month = date.getMonth() + 1;\r\n                                    const year = date.getFullYear();\r\n                                    const shortedDate = day + '/' + month + '/' + year;\r\n                                    //Counting star vote\r\n                                    const ratingList = item.productVote.map(a => a.ratingStar); // get all rating\r\n                                    \r\n                                    const totalRating = ratingList.reduce((a, b) => a + b, 0);\r\n\r\n                                    var averageRating = 0;\r\n                                    if (totalRating === 0) {\r\n                                        averageRating = 0\r\n                                    } else {\r\n                                        averageRating = totalRating/Number(ratingList.length);\r\n                                    }\r\n\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td className=\"table-name table-mobile-productname\">\r\n                                                <p>{item.productName}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-productimages\" style={{display: 'flex'}}>\r\n                                                <img \r\n                                                    src={item.productImg[0]} \r\n                                                    width=\"70px\" height=\"80px\"\r\n                                                    style={{padding: '5px 0'}}\r\n                                                    alt=\"\"\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <p>{item.productPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</p>\r\n                                            </td>\r\n                                            { item.productSale > 0 &&\r\n                                                <td className=\"table-mobile-productsale\">\r\n                                                    <p style={{color: 'green'}}>{item.productSale}%</p>\r\n                                                </td>\r\n                                            }\r\n                                            { item.productSale === 0 &&\r\n                                                <td className=\"table-mobile-productsale\">\r\n                                                    <p style={{color: 'red'}}>No sale</p>\r\n                                                </td>\r\n                                            }\r\n                                            <td className=\"table-mobile-productsold\">\r\n                                                <p>{item.productSold}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-productdate\">\r\n                                                <p>{shortedDate}</p>\r\n                                            </td>\r\n                                            <td className=\"star-rating\">\r\n                                                <div className=\"star-rating-list flex\">\r\n                                                    <p className={ \r\n                                                        averageRating > 0 ? \"star-color star\" :\"star\"\r\n                                                    }>★</p>\r\n                                                    <p className={ \r\n                                                        averageRating > 1 ? \"star-color star\" :\"star\"\r\n                                                    }>★</p>\r\n                                                    <p className={ \r\n                                                        averageRating > 2 ? \"star-color star\" :\"star\"\r\n                                                    }>★</p>\r\n                                                    <p className={ \r\n                                                        averageRating > 3 ? \"star-color star\" :\"star\"\r\n                                                    }>★</p>\r\n                                                    <p className={ \r\n                                                        averageRating > 4 ? \"star-color star\" :\"star\"\r\n                                                    }>★</p>\r\n                                                </div>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faTshirt } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react'\r\nimport DashboardProductTable from './DashboardProductTable'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DashboardProduct(props) {\r\n\r\n    const table = [\r\n        \"Name\",\r\n        \"Images\",\r\n        \"Price\",\r\n        \"Sale\",\r\n        \"Sold\",\r\n        // \"Category\",    \r\n        // \"Size\",\r\n        \"Date\",    \r\n        \"Rating\",\r\n        \"Action\"\r\n    ]\r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update products successfully\r\n            </div>\r\n            <DashboardProductTable\r\n                icon = {faTshirt}\r\n                title = \"Products\"\r\n                color = \"pink\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardNewsTable(props) {\r\n\r\n    const [news, setNews] = useState([])\r\n    const [isSortByTitle, setIsSortByTitle] = useState(false)\r\n    const [isSortByView, setIsSortByView] = useState(false)\r\n    const [constNews, setConstNews] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/news`)\r\n            .then(res => {\r\n                setNews(res.data)\r\n                setConstNews(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = news.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(news.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        axios.post(`http://pe.heromc.net:4000/news/delete/:${event.target.id}`, {\r\n            productId: event.target.id\r\n        })\r\n        setNews(news.filter((item)=>{\r\n            return item._id !== event.target.id\r\n        }))\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        // setSearchInput(event.target.value)\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constNews) {\r\n            if ((constNews[i].newTitle).toLowerCase().includes(searchInput)) {\r\n                search.push(constNews[i])\r\n            }\r\n        }\r\n        setNews(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"Title\") {\r\n            if (isSortByTitle) {\r\n                const sortByTitle = [...news]\r\n                sortByTitle.sort(function(a, b) {\r\n                    var titleA = a.newTitle.toLowerCase();\r\n                    var titleB = b.newTitle.toLowerCase(); \r\n                    if(titleA === titleB) return 0; \r\n                    return titleA > titleB ? 1 : -1;\r\n                })\r\n                setIsSortByTitle(false)\r\n                setNews(sortByTitle)\r\n            } else {\r\n                const sortByTitle = [...news]\r\n                sortByTitle.sort(function(a, b) {\r\n                    var titleA = a.newTitle.toLowerCase();\r\n                    var titleB = b.newTitle.toLowerCase(); \r\n                    if(titleA === titleB) return 0; \r\n                    return titleA < titleB ? 1 : -1;\r\n                })\r\n                setIsSortByTitle(true)\r\n                setNews(sortByTitle)\r\n            }\r\n        }\r\n        if (event.target.id === \"Views\") {\r\n            if (isSortByView) {\r\n                const sortByView = [...news]\r\n                sortByView.sort(function(a, b) {\r\n                    var ViewA = a.newView;\r\n                    var ViewB = b.newView; \r\n                    if(ViewA === ViewB) return 0; \r\n                    return ViewA > ViewB ? 1 : -1;\r\n                })\r\n                setIsSortByView(false)\r\n                setNews(sortByView)\r\n            } else {\r\n                const sortByView = [...news]\r\n                sortByView.sort(function(a, b) {\r\n                    var ViewA = a.newView;\r\n                    var ViewB = b.newView; \r\n                    if(ViewA === ViewB) return 0; \r\n                    return ViewA < ViewB ? 1 : -1;\r\n                })\r\n                setIsSortByView(true)\r\n                setNews(sortByView)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form \r\n                                onSubmit={searchOnSubmit}\r\n                            >\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                    onChange={searchOnChange}\r\n                                ></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr>\r\n                                {\r\n                                    props.table.map((item, index) => {\r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-new-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }}\r\n                                                id={item}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    const date = new Date(item.newTime)\r\n                                    const day = date.getDate();\r\n                                    const month = date.getMonth() + 1;\r\n                                    const year = date.getFullYear();\r\n                                    const shortedDate = day + '/' + month + '/' + year;\r\n\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td>\r\n                                                <p>{item.newTitle}</p>\r\n                                            </td> \r\n                                            <td className=\"table-mobile-newscontent\"\r\n                                                style={{\r\n                                                    padding: '10px 10px',\r\n                                                    WebkitLineClamp: '3'\r\n                                                }}\r\n                                                dangerouslySetInnerHTML={{__html: item.newContent}}\r\n                                            >\r\n                                            </td>\r\n                                            <td className=\"table-mobile-newscate\">\r\n                                                <p>{item.newCate}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-newsdate\">\r\n                                                <p>{shortedDate}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-newsview\">\r\n                                                <p>{item.newView}</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faPager } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react'\r\nimport DashboardProductTable from './DashboardNewsTable'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DashboardNews(props) {\r\n\r\n    const table = [\r\n        \"Title\",\r\n        \"Content\",\r\n        \"Category\",\r\n        \"Date\",\r\n        \"Views\",\r\n        \"Action\"\r\n    ]\r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update products successfully\r\n            </div>\r\n            <DashboardProductTable\r\n                icon = {faPager}\r\n                title = \"News\"\r\n                color = \"green\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardProductEdit(props) {\r\n\r\n    const createForm = useRef();\r\n    const cateInput = useRef();\r\n    const groupCateInput = useRef();\r\n    const [isCheckedSmall, setIsCheckedSmall] = useState(false);\r\n    const [isCheckedMedium, setIsCheckedMedium] = useState(false);\r\n    const [isCheckedLarge, setIsCheckedLarge] = useState(false);\r\n    const [inputValue, setInputValue] = useState([])\r\n    const [cate, setCate] = useState([])\r\n    const [file, setFile] = useState([])\r\n    const product = props.product\r\n\r\n\r\n    const [productImg, setProductImg] = useState([])\r\n    const [productName, setProductName] = useState(\"\")\r\n    const [productSale, setProductSale] = useState(0)\r\n    const [productPrice, setProductPrice] = useState(0)\r\n    const [productDes, setProductDes] = useState(\"\")\r\n    const [productCate, setProductCate] = useState(\"\")\r\n    const [productGroupCate, setProductGroupCate] = useState(\"\")\r\n    const [productGroupCateList, setProductGroupCateList] = useState([])\r\n    const [productSize, setProductSize] = useState([])\r\n    const [productSex, setProductSex] = useState([])\r\n\r\n    const checkedSize = (event) => {\r\n        if (event.target.id === \"1\") {\r\n            if (isCheckedSmall) {\r\n                const size = productSize.filter((item)=> {\r\n                    return item !== 'Small'\r\n                })\r\n                setProductSize(size)\r\n                setIsCheckedSmall(false)\r\n            } else {\r\n                setProductSize(productSize=>[...productSize, 'Small'])\r\n                setIsCheckedSmall(true)\r\n            }\r\n        }\r\n        if (event.target.id === \"2\") {\r\n            if (isCheckedMedium) {\r\n                const size = productSize.filter((item)=> {\r\n                    return item !== 'Medium'\r\n                })\r\n                setProductSize(size)\r\n                setIsCheckedMedium(false)\r\n            } else {\r\n                setProductSize(productSize=>[...productSize, 'Medium'])\r\n                setIsCheckedMedium(true)\r\n            }\r\n        }\r\n        if (event.target.id === \"3\") {\r\n            const size = productSize.filter((item)=> {\r\n                return item !== 'Large'\r\n            })\r\n            setProductSize(size)\r\n            if (isCheckedLarge) {\r\n                setIsCheckedLarge(false)\r\n            } else {\r\n                setProductSize(productSize=>[...productSize, 'Large'])\r\n                setIsCheckedLarge(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleOnChange = (event) => {\r\n        setInputValue({...inputValue, [event.target.name]: event.target.value})\r\n    }\r\n    \r\n    useEffect(()=> { \r\n        if (product) {\r\n            setProductName(product.productName)\r\n            setProductImg(product.productImg)\r\n            setProductSale(product.productSale)\r\n            setProductPrice(product.productPrice)\r\n            setProductDes(product.productDes)\r\n            setProductCate(product.productCate)\r\n            setProductSex(product.productSex)\r\n            setProductSize(product.productSize)\r\n            setProductGroupCate(product.productGroupCate)\r\n            axios.get(`http://pe.heromc.net:4000/category`)\r\n                .then(res => {\r\n                    setCate(res.data)\r\n                }\r\n            )\r\n            axios.get(`http://pe.heromc.net:4000/products`)\r\n                .then(res => {\r\n                    const test = Object.values(res.data.reduce((a, {productGroupCate}) => {\r\n                        a[productGroupCate] = a[productGroupCate] || {productGroupCate};\r\n                        return a;\r\n                    }, Object.create(null)));\r\n                    setProductGroupCateList(test)\r\n                }\r\n            )\r\n            if (product.productSize) {\r\n                for (let i of product.productSize) {\r\n                    if(i === \"Small\") setIsCheckedSmall(true)\r\n                    if(i === \"Medium\") setIsCheckedMedium(true)\r\n                    if(i === \"Large\") setIsCheckedLarge(true)\r\n                }\r\n            }\r\n        }\r\n    },[product])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n\r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('productImg', image);\r\n        });\r\n\r\n        formData.append(\"productName\", productName);\r\n        formData.append(\"productSale\", productSale);\r\n        formData.append(\"productPrice\", productPrice);\r\n        formData.append(\"productCate\", productCate);\r\n        formData.append(\"productGroupCate\", productGroupCate);\r\n        formData.append(\"productSize\", productSize);\r\n        formData.append(\"productDes\", productDes);\r\n        formData.append(\"productSex\", productSex);\r\n        formData.append(\"productDate\", new Date());\r\n        axios.post(`http://pe.heromc.net:4000/products/update/${product._id}`, formData, config)\r\n        .then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const addNewCate = () => {\r\n        axios.post('http://pe.heromc.net:4000/category', {\r\n            cateName: inputValue.cate\r\n        })\r\n        setCate(cate=>[...cate, {cateName: inputValue.cate}])\r\n        setProductCate(inputValue.cate)\r\n        cateInput.current.value = \"\"\r\n    }\r\n \r\n    const addNewGroupCate = () => {\r\n        setProductGroupCate(inputValue.groupCate)\r\n        setProductGroupCateList(productGroupCateList => [...productGroupCateList, {productGroupCate: inputValue.groupCate}])\r\n        groupCateInput.current.value = \"\"\r\n    } \r\n\r\n    const deleteImg = (event) => {\r\n        const id = event.target.id\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...productImg]\r\n        items.splice(id, 1)\r\n        setProductImg(items)\r\n        axios.post(`http://pe.heromc.net:4000/products/update/${product._id}`, {\r\n            deleteImgId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\">\r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Product infomation\r\n                    </div>\r\n                    <div \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                { product && \r\n                    <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Name</div>\r\n                            <div className=\"dashboard-right\">\r\n                                <input \r\n                                    type=\"text\" name=\"name\" \r\n                                    value={productName}\r\n                                    onChange={(event)=>{\r\n                                        setProductName(event.target.value)\r\n                                    }} required\r\n                                ></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Images </div>\r\n                            <div className=\"dashboard-right\">\r\n                                <input \r\n                                    onChange={(event) => {\r\n                                        const files = event.target.files;\r\n                                        for (let i = 0; i< files.length; i++) {\r\n                                            setProductImg(product=>[...product, URL.createObjectURL(files[i])])\r\n                                        }\r\n                                        const fileArr = Array.prototype.slice.call(files)\r\n                                        fileArr.forEach(item=>{\r\n                                            setFile(file=>[...file, item])\r\n                                        })\r\n                                    }}\r\n                                    type=\"file\"\r\n                                    name=\"productImg\"\r\n                                    className=\"noborder\"\r\n                                    multiple=\"multiple\"\r\n                                    style={{height: '50px'}}\r\n                                ></input>\r\n                                <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                    { productImg && \r\n                                        productImg.map((item, index) => {\r\n                                            return (\r\n                                                <div className=\"create-box-img\">\r\n                                                    <img key={index} src={item} alt=\"\"></img>\r\n                                                    <div \r\n                                                        className=\"create-box-img-overlay\"\r\n                                                    >\r\n                                                        <p\r\n                                                            id={index}\r\n                                                            onClick={deleteImg}\r\n                                                            className=\"icon\">X\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Defaut price </div>\r\n                            <div className=\"dashboard-right\">\r\n                                <input \r\n                                    type=\"number\" name=\"price\" \r\n                                    placeholder=\"USD\" \r\n                                    value={productPrice}\r\n                                    onChange={(event)=>{\r\n                                        setProductPrice(event.target.value)\r\n                                    }} required\r\n                                ></input>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Sale off </div>\r\n                            <div className=\"dashboard-right flex-center\">\r\n                                <input \r\n                                    type=\"number\" placeholder=\"%\" \r\n                                    style={{ width: \"100px\"}} \r\n                                    name=\"sale\" \r\n                                    value={productSale}\r\n                                    onChange={(event)=>{\r\n                                        setProductSale(event.target.value)\r\n                                    }}\r\n                                    required></input>\r\n                                <label>From: </label>\r\n                                <input type=\"date\"  name=\"fromdate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\r\n                                <label>To: </label>\r\n                                <input type=\"date\"  name=\"todate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Category group</div>\r\n                            <div className=\"dashboard-right flex-center\">\r\n                                <select style={{ width: \"350px\"}} \r\n                                    onChange={(event) => {setProductGroupCate(event.target.value)}}\r\n                                    value={productGroupCate}\r\n                                >\r\n                                    <option></option>\r\n                                    { productGroupCateList.length > 0 &&\r\n                                        productGroupCateList.map((item, index) => {\r\n                                            if (item.productGroupCate) {\r\n                                                return(\r\n                                                    <option key={index}>{item.productGroupCate}</option>\r\n                                                )\r\n                                            }\r\n                                            return null\r\n                                        })\r\n                                    }\r\n                                </select>\r\n                                <input type=\"text\" name=\"groupCate\" placeholder=\"New category group?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={groupCateInput}></input>\r\n                                <div className=\"btn\" style={{\r\n                                    fontSize: '14px',\r\n                                    fontFamily: 'sans-serif',\r\n                                    fontWeight: '300',\r\n                                    padding: '0 10px',\r\n                                    cursor: 'pointer',\r\n                                    width: '350px',\r\n                                    height: '30px'\r\n                                }}\r\n                                onClick={addNewGroupCate}>\r\n                                    Add\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Category </div>\r\n                            <div className=\"dashboard-right flex-center\">\r\n                                <select style={{ width: \"350px\"}} \r\n                                    onChange={(event) => {setProductCate(event.target.value)}}\r\n                                    value={productCate}\r\n                                >\r\n                                    <option></option>\r\n                                    { cate.length > 0 &&\r\n                                        cate.map((item, index) => {\r\n                                            return(\r\n                                                <option key={index}>{item.cateName}</option>\r\n                                            )\r\n                                        })\r\n                                    }\r\n                                </select>\r\n                                <input type=\"text\" name=\"cate\" placeholder=\"New category?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={cateInput}></input>\r\n                                <div className=\"btn\" style={{\r\n                                    fontSize: '14px',\r\n                                    fontFamily: 'sans-serif',\r\n                                    fontWeight: '300',\r\n                                    padding: '0 10px',\r\n                                    cursor: 'pointer',\r\n                                    width: '350px',\r\n                                    height: '30px'\r\n                                }}\r\n                                onClick={addNewCate}>\r\n                                    Add\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Sex </div>\r\n                            <div className=\"dashboard-right flex\">\r\n                                <select style={{ width: \"200px\"}} \r\n                                    onChange={(event) => {setProductSex(event.target.value)}}\r\n                                    value={productSex}\r\n                                    required>\r\n                                    <option></option>\r\n                                    <option>Man</option>\r\n                                    <option>Woman</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Size </div>\r\n                            <div className=\"dashboard-right flex\">\r\n                                <div \r\n                                    className={isCheckedSmall ? \"size-check isChecked\" : \"size-check\"}\r\n                                    id=\"1\" \r\n                                    onClick={checkedSize}>Small</div>\r\n                                <div \r\n                                    className={isCheckedMedium ? \"size-check isChecked\" : \"size-check\"}\r\n                                    id=\"2\" \r\n                                    onClick={checkedSize}>Medium</div>\r\n                                <div \r\n                                    className={isCheckedLarge ? \"size-check isChecked\" : \"size-check\"}\r\n                                    id=\"3\" \r\n                                    onClick={checkedSize}>Large</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"create-box-row flex\">\r\n                            <div className=\"dashboard-left flex\">Description </div>\r\n                            <div className=\"dashboard-right\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    name=\"des\" \r\n                                    value={productDes || \"\"}\r\n                                    onChange={(event)=>{\r\n                                        setProductDes(event.target.value)\r\n                                    }}required></input>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                            <button className=\"create-box-btn btn\">\r\n                                Update product\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardProductCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    const cateInput = useRef();\r\n    const groupCateInput = useRef();\r\n    const [isCheckedSmall, setIsCheckedSmall] = useState(false);\r\n    const [isCheckedMedium, setIsCheckedMedium] = useState(false);\r\n    const [isCheckedLarge, setIsCheckedLarge] = useState(false);\r\n    const [inputValue, setInputValue] = useState([])\r\n    const [cate, setCate] = useState([])\r\n    const [cateValue, setCateValue] = useState(\"\")\r\n    const [size, setSize] = useState([])\r\n    const [sex, setSex] = useState(\"\")\r\n    const [file, setFile] = useState([])\r\n    const [productGroupCate, setProductGroupCate] = useState(\"\")\r\n    const [productGroupCateList, setProductGroupCateList] = useState([])\r\n\r\n    const [productImg, setProductImg] = useState([])\r\n\r\n    const checkedSize = (event) => {\r\n        if (event.target.id === \"1\") {\r\n            if (isCheckedSmall) {\r\n                setIsCheckedSmall(false)\r\n            } else {\r\n                setSize(size=>[...size, 'Small'])\r\n                setIsCheckedSmall(true)\r\n            }\r\n        }\r\n        if (event.target.id === \"2\") {\r\n            if (isCheckedMedium) {\r\n                setIsCheckedMedium(false)\r\n            } else {\r\n                setSize(size=>[...size, 'Medium'])\r\n                setIsCheckedMedium(true)\r\n            }\r\n        }\r\n        if (event.target.id === \"3\") {\r\n            if (isCheckedLarge) {\r\n                setIsCheckedLarge(false)\r\n            } else {\r\n                setSize(size=>[...size, 'Large'])\r\n                setIsCheckedLarge(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleOnChange = (event) => {\r\n        setInputValue({...inputValue, [event.target.name]: event.target.value})\r\n    }\r\n    \r\n    useEffect(()=> {\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                const test = Object.values(res.data.reduce((a, {productGroupCate}) => {\r\n                    a[productGroupCate] = a[productGroupCate] || {productGroupCate};\r\n                    return a;\r\n                }, Object.create(null)));\r\n                setProductGroupCateList(test)\r\n            }\r\n        )\r\n        axios.get(`http://pe.heromc.net:4000/category`)\r\n            .then(res => {\r\n                setCate(res.data)\r\n            }) \r\n    },[])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n\r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('productImg', image);\r\n        });\r\n\r\n        formData.append(\"productName\", inputValue.name);\r\n        formData.append(\"productSale\", inputValue.sale);\r\n        formData.append(\"productPrice\", inputValue.price);\r\n        formData.append(\"productCate\", cateValue);\r\n        formData.append(\"productGroupCate\", productGroupCate);\r\n        formData.append(\"productSize\", size);\r\n        formData.append(\"productDes\", inputValue.des);\r\n        formData.append(\"productSex\", sex);\r\n        formData.append(\"productDate\", new Date());\r\n        axios.post('http://pe.heromc.net:4000/products', formData, config)\r\n        .then(()=>{\r\n            props.setCloseCreateFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const addNewCate = () => {\r\n        axios.post('http://pe.heromc.net:4000/category', {\r\n            cateName: inputValue.cate\r\n        })\r\n        setCate(cate=>[...cate, {cateName: inputValue.cate}])\r\n        setCateValue(inputValue.cate)\r\n        cateInput.current.value = \"\"\r\n    }\r\n\r\n    const addNewGroupCate = () => {\r\n        setProductGroupCate(inputValue.groupCate)\r\n        setProductGroupCateList(productGroupCateList => [...productGroupCateList, {productGroupCate: inputValue.groupCate}])\r\n        groupCateInput.current.value = \"\"\r\n    } \r\n\r\n    const deleteImg = (event) => {\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(event.target.id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...productImg]\r\n        items.splice(event.target.id, 1)\r\n        setProductImg(items)\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Product infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input type=\"text\" name=\"name\" onChange={handleOnChange} required></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Images </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                onChange={(event) => {\r\n                                    const files = event.target.files;\r\n                                    for (let i = 0; i< files.length; i++) {\r\n                                        setProductImg(product=>[...product, URL.createObjectURL(files[i])])\r\n                                    }\r\n                                    const fileArr = Array.prototype.slice.call(files)\r\n                                    fileArr.forEach(item=>{\r\n                                        \r\n                                        setFile(file=>[...file, item])\r\n                                    })\r\n                                }}\r\n                                type=\"file\"\r\n                                name=\"productImg\"\r\n                                className=\"noborder\"\r\n                                multiple=\"multiple\"\r\n                                style={{height: '50px'}}\r\n                            ></input>\r\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { productImg && \r\n                                    productImg.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} className=\"create-box-img\">\r\n                                                <img key={index} src={item} alt=\"\"></img>\r\n                                                <div \r\n                                                    className=\"create-box-img-overlay\"\r\n                                                >\r\n                                                    <p\r\n                                                        id={index}\r\n                                                        onClick={deleteImg}\r\n                                                        className=\"icon\">X\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Defaut price </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input type=\"number\" name=\"price\" placeholder=\"USD\" onChange={handleOnChange} required></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Sale off </div>\r\n                        <div className=\"dashboard-right flex-center\">\r\n                            <input type=\"number\" placeholder=\"%\" style={{ width: \"100px\"}} onChange={handleOnChange} name=\"sale\" required></input>\r\n                            <label>From: </label>\r\n                            <input type=\"date\"  name=\"fromdate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\r\n                            <label>To: </label>\r\n                            <input type=\"date\"  name=\"todate\" onChange={handleOnChange} placeholder=\"dd/mm/yyyy\" pattern=\"(^(((0[1-9]|1[0-9]|2[0-8])[\\/](0[1-9]|1[012]))|((29|30|31)[\\/](0[13578]|1[02]))|((29|30)[\\/](0[4,6,9]|11)))[\\/](19|[2-9][0-9])\\d\\d$)|(^29[\\/]02[\\/](19|[2-9][0-9])(00|04|08|12|16|20|24|28|32|36|40|44|48|52|56|60|64|68|72|76|80|84|88|92|96)$)\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Category group</div>\r\n                        <div className=\"dashboard-right flex-center\">\r\n                            <select style={{ width: \"350px\"}} \r\n                                onChange={(event) => {setProductGroupCate(event.target.value)}}\r\n                                value={productGroupCate}\r\n                            >\r\n                                { productGroupCateList.length > 0 &&\r\n                                    productGroupCateList.map((item, index) => {\r\n                                        return(\r\n                                            <option key={index}>{item.productGroupCate}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" name=\"groupCate\" placeholder=\"New category group?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={groupCateInput}></input>\r\n                            <div className=\"btn\" style={{\r\n                                fontSize: '14px',\r\n                                fontFamily: 'sans-serif',\r\n                                fontWeight: '300',\r\n                                padding: '0 10px',\r\n                                cursor: 'pointer',\r\n                                width: '350px',\r\n                                height: '30px'\r\n                            }}\r\n                            onClick={addNewGroupCate}>\r\n                                Add\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Category </div>\r\n                        <div className=\"dashboard-right flex-center\">\r\n                            <select style={{ width: \"350px\"}} \r\n                                onChange={(event) => {setCateValue(event.target.value)}}\r\n                                value={cateValue}>\r\n                                <option></option>\r\n                                { cate.length > 0 &&\r\n                                    cate.map((item, index) => {\r\n                                        return(\r\n                                            <option key={index}>{item.cateName}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" name=\"cate\" placeholder=\"New category?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={cateInput}></input>\r\n                            <div className=\"btn\" style={{\r\n                                fontSize: '14px',\r\n                                fontFamily: 'sans-serif',\r\n                                fontWeight: '300',\r\n                                padding: '0 10px',\r\n                                cursor: 'pointer',\r\n                                width: '350px',\r\n                                height: '30px'\r\n                            }}\r\n                            onClick={addNewCate}>\r\n                                Add\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Sex </div>\r\n                        <div className=\"dashboard-right flex\">\r\n                            <select style={{ width: \"200px\"}} \r\n                                onChange={(event) => {setSex(event.target.value)}}\r\n                                value={sex}\r\n                                required>\r\n                                <option></option>\r\n                                <option>Man</option>\r\n                                <option>Woman</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Size </div>\r\n                        <div className=\"dashboard-right flex\">\r\n                            <div \r\n                                className={isCheckedSmall ? \"size-check isChecked\" : \"size-check\"}\r\n                                id=\"1\" \r\n                                onClick={checkedSize}>Small</div>\r\n                            <div \r\n                                className={isCheckedMedium ? \"size-check isChecked\" : \"size-check\"}\r\n                                id=\"2\" \r\n                                onClick={checkedSize}>Medium</div>\r\n                            <div \r\n                                className={isCheckedLarge ? \"size-check isChecked\" : \"size-check\"}\r\n                                id=\"3\" \r\n                                onClick={checkedSize}>Large</div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Description </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input type=\"text\" name=\"des\" onChange={handleOnChange} required></input>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                    <button className=\"create-box-btn btn\">\r\n                        Add product\r\n                    </button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport { stateFromHTML } from 'draft-js-import-html'\r\nimport { EditorState, convertToRaw } from \"draft-js\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nfunction uploadImageCallBack(file) {\r\n  return new Promise(\r\n    (resolve, reject) => {\r\n      const xhr = new XMLHttpRequest(); // eslint-disable-line no-undef\r\n      xhr.open('POST', 'https://api.imgur.com/3/image');\r\n      xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\r\n      const data = new FormData(); // eslint-disable-line no-undef\r\n      data.append('image', file);\r\n      xhr.send(data);\r\n      xhr.addEventListener('load', () => {\r\n        const response = JSON.parse(xhr.responseText);\r\n        resolve(response);\r\n      });\r\n      xhr.addEventListener('error', () => {\r\n        const error = JSON.parse(xhr.responseText);\r\n        reject(error);\r\n      });\r\n    },\r\n  );\r\n}\r\nexport default function DashboardEditor(props) {\r\n\r\n  const [editorState, setEditorState] = useState(EditorState.createEmpty());\r\n\r\n  const onEditorStateChange = (editorState) => {\r\n    setEditorState(editorState)\r\n    props.setNewsContent(draftToHtml(convertToRaw(editorState.getCurrentContent())))\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.newsContent) {\r\n      let contentState = stateFromHTML(props.newsContent);\r\n      let test = EditorState.createWithContent(contentState);\r\n      setEditorState(EditorState.moveFocusToEnd(test));\r\n    }\r\n  }, [props.newsContent]);\r\n\r\n  return (\r\n    <div>\r\n      <Editor\r\n        editorState={editorState}\r\n        toolbarClassName=\"toolbarClassName\"\r\n        wrapperClassName=\"wrapperClassName\"\r\n        editorClassName=\"editorClassName\"\r\n        onEditorStateChange={onEditorStateChange}\r\n        toolbar={{\r\n          image: { uploadCallback: uploadImageCallBack, alt: { present: true, mandatory: true } },\r\n        }}\r\n      />\r\n    </div>\r\n  )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\nimport DashboardEditor from './DashboardEditor';\r\n\r\nexport default function DashboardNewsCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    const cateInput = useRef();\r\n    const [inputValue, setInputValue] = useState([])\r\n    const [cateValue, setCateValue] = useState(\"\")\r\n    const [file, setFile] = useState([])\r\n    const [newsContent, setNewsContent] = useState(\"\")\r\n    const [newsImg, setNewsImg] = useState([])\r\n    const [cateList, setCateList] = useState([])\r\n\r\n    const handleOnChange = (event) => {\r\n        setInputValue({...inputValue, [event.target.name]: event.target.value})\r\n    }\r\n    \r\n    useEffect(()=> {\r\n        axios.get(`http://pe.heromc.net:4000/news`)\r\n                .then(res => {\r\n                    const test = Object.values(res.data.reduce((a, {newCate}) => {\r\n                        a[newCate] = a[newCate] || {newCate};\r\n                        return a;\r\n                    }, Object.create(null)));\r\n                    setCateList(test)\r\n                }\r\n            )\r\n    },[])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n\r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('newImg', image);\r\n        });\r\n        formData.append(\"newTime\", new Date());\r\n        formData.append(\"newCate\", cateValue);\r\n        formData.append(\"newTitle\", inputValue.title);\r\n        formData.append(\"newContent\", newsContent);\r\n        axios.post('http://pe.heromc.net:4000/news', formData, config)\r\n        .then(()=>{\r\n            props.setCloseCreateFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const addNewCate = () => {\r\n        setCateList(cateList => [...cateList, {newCate: inputValue.cate}])\r\n        cateInput.current.value = \"\"\r\n    }\r\n\r\n    const deleteImg = (event) => {\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(event.target.id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...newsImg]\r\n        items.splice(event.target.id, 1)\r\n        setNewsImg(items)\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        News infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Title</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input type=\"text\" name=\"title\" onChange={handleOnChange} required></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Images </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                onChange={(event) => {\r\n                                    const files = event.target.files;\r\n                                    for (let i = 0; i< files.length; i++) {\r\n                                        setNewsImg(news=>[...news, URL.createObjectURL(files[i])])\r\n                                    }\r\n                                    const fileArr = Array.prototype.slice.call(files)\r\n                                    fileArr.forEach(item=>{\r\n                                        \r\n                                        setFile(file=>[...file, item])\r\n                                    })\r\n                                }}\r\n                                type=\"file\"\r\n                                name=\"newsImg\"\r\n                                className=\"noborder\"\r\n                                multiple=\"multiple\"\r\n                                style={{height: '50px'}}\r\n                            ></input>\r\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { newsImg && \r\n                                    newsImg.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} className=\"create-box-img\">\r\n                                                <img key={index} src={item} alt=\"\"></img>\r\n                                                <div \r\n                                                    className=\"create-box-img-overlay\"\r\n                                                >\r\n                                                    <p\r\n                                                        id={index}\r\n                                                        onClick={deleteImg}\r\n                                                        className=\"icon\">X\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Category </div>\r\n                        <div className=\"dashboard-right flex-center\">\r\n                            <select style={{ width: \"350px\"}} \r\n                                onChange={(event) => {setCateValue(event.target.value)}}\r\n                                value={cateValue}>\r\n                                <option></option>\r\n                                { cateList.length > 0 &&\r\n                                    cateList.map((item, index) => {\r\n                                        return(\r\n                                            <option key={index}>{item.newCate}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" name=\"cate\" placeholder=\"New category?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={cateInput}></input>\r\n                            <div className=\"btn\" style={{\r\n                                fontSize: '14px',\r\n                                fontFamily: 'sans-serif',\r\n                                fontWeight: '300',\r\n                                padding: '0 10px',\r\n                                cursor: 'pointer',\r\n                                width: '350px',\r\n                                height: '30px'\r\n                            }}\r\n                            onClick={addNewCate}>\r\n                                Add\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{border: '1px #ddd solid'}}>\r\n                        <DashboardEditor\r\n                            setNewsContent= {setNewsContent}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                    <button className=\"create-box-btn btn\">\r\n                        Add news\r\n                    </button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\nimport DashboardEditor from './DashboardEditor';\r\n\r\nexport default function DashboardNewsCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    const cateInput = useRef();\r\n    const [inputValue, setInputValue] = useState([])\r\n    const [file, setFile] = useState([])\r\n    const [cateList, setCateList] = useState([])\r\n    const news = props.news;\r\n    \r\n    const handleOnChange = (event) => {\r\n        setInputValue({...inputValue, [event.target.name]: event.target.value})\r\n    }\r\n\r\n    const [newsTitle, setNewsTitle] = useState(\"\")\r\n    const [newsImg, setNewsImg] = useState([])\r\n    const [newsCate, setNewsCate] = useState(\"\")\r\n    const [newsContent, setNewsContent] = useState(\"\")\r\n\r\n    useEffect(()=> {\r\n        if (news) {\r\n            setNewsTitle(news.newTitle)\r\n            setNewsImg([news.newImg])\r\n            setNewsCate(news.newCate)\r\n            setNewsContent(news.newContent)\r\n            axios.get(`http://pe.heromc.net:4000/news`)\r\n                .then(res => {\r\n                    const test = Object.values(res.data.reduce((a, {newCate}) => {\r\n                        a[newCate] = a[newCate] || {newCate};\r\n                        return a;\r\n                    }, Object.create(null)));\r\n                    setCateList(test)\r\n                }\r\n            )\r\n        }\r\n    },[news])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('newImg', image);\r\n        });\r\n        formData.append(\"newCate\", newsCate);\r\n        formData.append(\"newTitle\", newsTitle);\r\n        formData.append(\"newContent\", newsContent);\r\n        axios.post(`http://pe.heromc.net:4000/news/update/${news._id}`, formData, config)\r\n        .then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const addNewCate = () => {\r\n        setCateList(cateList => [...cateList, {newCate: inputValue.cate}])\r\n        cateInput.current.value = \"\"\r\n    }\r\n\r\n    const deleteImg = (event) => {\r\n        const id = event.target.id\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...newsImg]\r\n        items.splice(id, 1)\r\n        setNewsImg(items)\r\n        axios.post(`http://pe.heromc.net:4000/news/update/${news._id}`, {\r\n            deleteImgId: id\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        News infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Title</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"title\" \r\n                                value={newsTitle || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setNewsTitle(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Images </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                onChange={(event) => {\r\n                                    const files = event.target.files;\r\n                                    for (let i = 0; i< files.length; i++) {\r\n                                        setNewsImg(news=>[...news, URL.createObjectURL(files[i])])\r\n                                    }\r\n                                    const fileArr = Array.prototype.slice.call(files)\r\n                                    fileArr.forEach(item=>{ \r\n                                        setFile(file=>[...file, item])\r\n                                    })\r\n                                }}\r\n                                type=\"file\"\r\n                                name=\"newsImg\"\r\n                                className=\"noborder\"\r\n                                multiple=\"multiple\"\r\n                                style={{height: '50px'}}\r\n                            ></input>\r\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { newsImg && \r\n                                    newsImg.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} className=\"create-box-img\">\r\n                                                <img key={index} src={item} alt=\"\"></img>\r\n                                                <div \r\n                                                    className=\"create-box-img-overlay\"\r\n                                                >\r\n                                                    <p\r\n                                                        id={index}\r\n                                                        onClick={deleteImg}\r\n                                                        className=\"icon\">X\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Category </div>\r\n                        <div className=\"dashboard-right flex-center\">\r\n                            <select style={{ width: \"350px\"}} \r\n                                onChange={(event) => {setNewsCate(event.target.value)}}\r\n                                value={newsCate}\r\n                            >\r\n                                <option></option>\r\n                                { cateList.length > 0 &&\r\n                                    cateList.map((item, index) => {\r\n                                        return(\r\n                                            <option key={index}>{item.newCate}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" name=\"cate\" placeholder=\"New category?\" style={{  margin:'0 10px'}} onChange={handleOnChange} ref={cateInput}></input>\r\n                            <div className=\"btn\" style={{\r\n                                fontSize: '14px',\r\n                                fontFamily: 'sans-serif',\r\n                                fontWeight: '300',\r\n                                padding: '0 10px',\r\n                                cursor: 'pointer',\r\n                                width: '350px',\r\n                                height: '30px'\r\n                            }}\r\n                            onClick={addNewCate}>\r\n                                Add\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{border: '1px #ddd solid'}}>\r\n                        <DashboardEditor\r\n                            newsContent = {newsContent}\r\n                            setNewsContent= {setNewsContent}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                    <button className=\"create-box-btn btn\">\r\n                        Edit news\r\n                    </button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardUserTable(props) {\r\n\r\n    const [user, setUser] = useState([])\r\n    const [isSortByName, setIsSortByName] = useState(false)\r\n    const [constUser, setConstUser] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/users/list`)\r\n            .then(res => {\r\n                setUser(res.data)\r\n                setConstUser(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = user.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(user.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        axios.post(`http://pe.heromc.net:4000/users/delete/:${event.target.id}`, {\r\n            id: event.target.id\r\n        })\r\n        setUser(user.filter((item)=>{\r\n            return item._id !== event.target.id\r\n        }))\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constUser) {\r\n            if ((constUser[i].userName).toLowerCase().includes(searchInput)) {\r\n                search.push(constUser[i])\r\n            }\r\n        }\r\n        setUser(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"UserName\") {\r\n            if (isSortByName) {\r\n                const sortByName = [...user]\r\n                sortByName.sort(function(a, b) {\r\n                    var userA = a.userName.toLowerCase();\r\n                    var userB = b.userName.toLowerCase(); \r\n                    if(userA === userB) return 0; \r\n                    return userA > userB ? 1 : -1;\r\n                })\r\n                setIsSortByName(false)\r\n                setUser(sortByName)\r\n            } else {\r\n                const sortByName = [...user]\r\n                sortByName.sort(function(a, b) {\r\n                    var userA = a.userName.toLowerCase();\r\n                    var userB = b.userName.toLowerCase(); \r\n                    if(userA === userB) return 0; \r\n                    return userA < userB ? 1 : -1;\r\n                })\r\n                setIsSortByName(true)\r\n                setUser(sortByName)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form \r\n                                onSubmit={searchOnSubmit}\r\n                            >\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                    onChange={searchOnChange}\r\n                                ></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr>\r\n                                {\r\n                                    props.table.map((item, index) => {\r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-new-title table-user-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }}\r\n                                                id={`User${item}`}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td style={{display: 'flex'}}>\r\n                                                <img \r\n                                                    className=\"table-mobile-useravt\"\r\n                                                    src={item.userAvt} \r\n                                                    width=\"70px\" height=\"80px\"\r\n                                                    style={{padding: '5px 0', borderRadius: '50%'}}\r\n                                                    alt=\"\"\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <p>{item.userName}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-useremail\">\r\n                                                <p>{item.userEmail}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-userphone\">\r\n                                                <p>{item.userPhone}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-useraddress\">\r\n                                                <p>{item.userAddress}, {item.userHuyen}, {item.userTinh}</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faUser } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react'\r\nimport DashboardProductTable from './DashboardUserTable'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DashboardUser(props) {\r\n\r\n    const table = [\r\n        \"Avatar\",\r\n        \"Name\",\r\n        \"Email\",\r\n        \"Phone\",\r\n        \"Address\",\r\n        \"Action\"\r\n    ]\r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update products successfully\r\n            </div>\r\n            <DashboardProductTable\r\n                icon = {faUser}\r\n                title = \"User\"\r\n                color = \"lightblue\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardUserCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    \r\n    const [userName, setUserName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [userPassword, setUserPassword] = useState(\"\")\r\n    const [userRole, setUserRole] = useState(\"\")\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n        const formData = new FormData();\r\n\r\n        formData.append(\"userName\", userName);\r\n        formData.append(\"userEmail\", userEmail);\r\n        formData.append(\"userPassword\", userPassword);\r\n        formData.append(\"userRole\", userRole);\r\n        \r\n        axios.post('http://pe.heromc.net:4000/users/register', formData, config)\r\n        props.setCloseCreateFunc(false);\r\n        props.setToastFunc(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        User infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={userName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserName(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={userEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Role</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={userRole || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserRole(event.target.value)\r\n                                }} required\r\n                            >\r\n                                <option></option>\r\n                                <option value=\"admin\">Admin</option>\r\n                                <option value=\"user\">User</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Password</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\"\r\n                                className=\"input\"\r\n                                name=\"password\" \r\n                                value={userPassword}\r\n                                onChange={(event)=>{\r\n                                    setUserPassword(event.target.value)\r\n                                }} \r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Create user\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardUserCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    \r\n    const [userName, setUserName] = useState(\"\")\r\n    const [userEmail, setUserEmail] = useState(\"\")\r\n    const [userPassword, setUserPassword] = useState(\"\")\r\n    const [userRole, setUserRole] = useState(\"\")\r\n\r\n    const user = props.user;\r\n\r\n    useEffect(()=> {\r\n        if (user) {    \r\n            setUserName(user.userName)\r\n            setUserRole(user.userRole)\r\n            setUserEmail(user.userEmail)\r\n        }\r\n    },[user])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n        const formData = new FormData();\r\n        formData.append(\"userName\", userName);\r\n        formData.append(\"userEmail\", userEmail);\r\n        formData.append(\"userPassword\", userPassword);\r\n        formData.append(\"userRole\", userRole);\r\n        formData.append(\"fromAdmin\", true)\r\n\r\n        axios.post(`http://pe.heromc.net:4000/users/update/${user._id}`, formData, config)\r\n        .then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        User infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={userName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserName(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={userEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Role</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={userRole || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setUserRole(event.target.value)\r\n                                }} required\r\n                            >\r\n                                <option></option>\r\n                                <option value=\"admin\">Admin</option>\r\n                                <option value=\"user\">User</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Password</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\"\r\n                                className=\"input\"\r\n                                name=\"password\" \r\n                                value={userPassword}\r\n                                onChange={(event)=>{\r\n                                    setUserPassword(event.target.value)\r\n                                }} \r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Edit user\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardUserTable(props) {\r\n\r\n    const [order, setOrder] = useState([])\r\n    const [isSortByName, setIsSortByName] = useState(false)\r\n    const [isSortByTotal, setIsSortByTotal] = useState(false)\r\n    const [constOrder, setConstOrder] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/order`)\r\n            .then(res => {\r\n                setOrder(res.data)\r\n                setConstOrder(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = order.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(order.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        const id = event.target.id\r\n        axios.post(`http://pe.heromc.net:4000/order/delete/:${event.target.id}`, {\r\n            id: id\r\n        }).then(()=>{\r\n            setOrder(order.filter((item)=>{\r\n                return item._id !== id\r\n            }))\r\n        })\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constOrder) {\r\n            if ((constOrder[i].orderName).toLowerCase().includes(searchInput)) {\r\n                search.push(constOrder[i])\r\n            } \r\n            else if ((constOrder[i].orderId).toString().includes((searchInput))) {\r\n                search.push(constOrder[i])\r\n            }\r\n        }\r\n        setOrder(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"OrderOrderInfo\") {\r\n            if (isSortByName) {\r\n                const sortByName = [...order]\r\n                sortByName.sort(function(a, b) {\r\n                    var orderA = a.orderName.toLowerCase();\r\n                    var orderB = b.orderName.toLowerCase(); \r\n                    if(orderA === orderB) return 0; \r\n                    return orderA > orderB ? 1 : -1;\r\n                })\r\n                setIsSortByName(false)\r\n                setOrder(sortByName)\r\n            } else {\r\n                const sortByName = [...order]\r\n                sortByName.sort(function(a, b) {\r\n                    var orderA = a.orderName.toLowerCase();\r\n                    var orderB = b.orderName.toLowerCase(); \r\n                    if(orderA === orderB) return 0; \r\n                    return orderA < orderB ? 1 : -1;\r\n                })\r\n                setIsSortByName(true)\r\n                setOrder(sortByName)\r\n            }\r\n        }\r\n        if (event.target.id === \"OrderTotalMoney\") {\r\n            if (isSortByTotal) {\r\n                const sortByTotal = [...order]\r\n                sortByTotal.sort(function(a, b) {\r\n                    var totalA = a.orderTotal;\r\n                    var totalB = b.orderTotal; \r\n                    if(totalA === totalB) return 0; \r\n                    return totalA > totalB ? 1 : -1;\r\n                })\r\n                setIsSortByTotal(false)\r\n                setOrder(sortByTotal)\r\n            } else {\r\n                const sortByTotal = [...order]\r\n                sortByTotal.sort(function(a, b) {\r\n                    var totalA = a.orderTotal;\r\n                    var totalB = b.orderTotal; \r\n                    if(totalA === totalB) return 0; \r\n                    return totalA < totalB ? 1 : -1;\r\n                })\r\n                setIsSortByTotal(true)\r\n                setOrder(sortByTotal)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form \r\n                                onSubmit={searchOnSubmit}\r\n                            >\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                    onChange={searchOnChange}\r\n                                ></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr className=\"dashboard-order\">\r\n                                {\r\n                                    props.table.map((item, index) => { \r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-new-title table-order-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }} \r\n                                                id={`Order${item.split(\" \").join(\"\")}`}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    const date = new Date(item.orderDate)\r\n                                    const day = date.getDate()\r\n                                    const month = date.getMonth() + 1\r\n                                    const year = date.getFullYear()\r\n                                    var totalItem = 0;\r\n                                    for (let i in item.orderList) {\r\n                                        totalItem += item.orderList[i].amount\r\n                                    }\r\n                                    return (\r\n                                        <tr key={index} className=\"mobile-table\">\r\n                                            <td className=\"mobile-table-orderinfo\">\r\n                                                <ul style={{margin: '10px 0'}}>\r\n                                                    <li className=\"flex\">\r\n                                                        <p style={{marginRight: '5px', fontWeight: 'bold'}}>#{item.orderId}</p> \r\n                                                        <p className=\"mobile-table-name\">by {item.orderName}</p>\r\n                                                    </li>\r\n                                                </ul>    \r\n                                            </td>\r\n                                            <td className=\"mobile-table-shippinginfo\"> \r\n                                                <div className=\"flex\" style={{alignItems: 'center',margin: '10px 0'}}>\r\n                                                    <p \r\n                                                        style={{wordWrap: 'break-word', WebkitLineClamp: '3'}}\r\n                                                    >{item.orderAddress}, {item.orderHuyen}, {item.orderTinh}</p>\r\n                                                </div> \r\n                                            </td>\r\n                                            <td>\r\n                                                <p>{day}-{month}-{year}</p>\r\n                                            </td>\r\n                                            <td className=\"mobile-table-paymentmethod\">\r\n                                                <p style={{textTransform: 'capitalize'}}>{item.orderPaymentMethod}</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                {   typeof(totalItem) === 'number' &&\r\n                                                        <div key={index} className=\"flex\" style={{justifyContent: 'space-between'}}>\r\n                                                            {/* <p style={{margin: '10px 0', width: '100%', WebkitLineClamp: '2'}}>{virtualArr.productName}</p> */}\r\n                                                            <p style={{margin: '10px 0', width: '50px', marginLeft: '20px'}}>{totalItem}</p>\r\n                                                        </div>\r\n                                                }\r\n                                            </td>\r\n                                            <td className=\"mobile-table-totalmoney\">\r\n                                                <p>{item.orderTotal} đ</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faCheckCircle, faUser } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React, { useEffect, useState } from 'react'\r\nimport DashboardProductTable from './DashboardOrderTable'\r\n\r\nexport default function DashboardOrder(props) {\r\n\r\n    const [table, setTable] = useState([])\r\n\r\n    useEffect(()=>{ \r\n        if (window.innerWidth <= 600) {\r\n            setTable([\r\n                \"ID\",\r\n                \"ShippingInfo\",\r\n                \"Date\",\r\n                \"PaymentMethod\",\r\n                \"Items\",\r\n                \"Total Money\",\r\n                \"Action\"\r\n            ])\r\n        } else {\r\n            setTable([\r\n                \"Order Info\",\r\n                \"ShippingInfo\",\r\n                \"Date\",\r\n                \"PaymentMethod\",\r\n                \"Items\",\r\n                \"Total Money\",\r\n                \"Action\"\r\n            ])\r\n        }\r\n        function handleResize() {\r\n            if (window.innerWidth <= 600) {\r\n                setTable([\r\n                    \"ID\",\r\n                    \"ShippingInfo\",\r\n                    \"Date\",\r\n                    \"PaymentMethod\",\r\n                    \"Items\",\r\n                    \"Total Money\",\r\n                    \"Action\"\r\n                ])\r\n            } else {\r\n                setTable([\r\n                    \"Order Info\",\r\n                    \"ShippingInfo\",\r\n                    \"Date\",\r\n                    \"PaymentMethod\",\r\n                    \"Items\",\r\n                    \"Total Money\",\r\n                    \"Action\"\r\n                ])\r\n            }\r\n        }\r\n        window.addEventListener(\"resize\", handleResize);\r\n        return (()=>{\r\n            window.removeEventListener(\"resize\", handleResize);\r\n        })\r\n    }, [])\r\n    \r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update order successfully\r\n            </div>\r\n            <DashboardProductTable\r\n                icon = {faUser}\r\n                title = \"Orders\"\r\n                color = \"orange\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardOrderCreate(props) {\r\n\r\n    const createForm = useRef();\r\n\r\n    const [tinh, setTinh] = useState([])\r\n    const [huyen, setHuyen] = useState([])\r\n\r\n    const [orderName, setOrderName] = useState(\"\")\r\n    const [orderEmail, setOrderEmail] = useState(\"\")\r\n    const [orderPhone, setOrderPhone] = useState(\"\")\r\n    const [orderAddress, setOrderAddress] = useState(\"\")\r\n    const [orderProvince, setOrderProvince] = useState(null)\r\n    const [orderDistric, setOrderDistric] = useState(null)\r\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\r\n    const [provinceId, setProvinceId] = useState(\"\")\r\n    const [product, setProduct] = useState([])\r\n    const [productList, setProductList] = useState([])\r\n\r\n    const [userList, setUserList] = useState([])\r\n    const [user, setUser] = useState(\"\")\r\n    const [chooseUser, setChooseUser] = useState(false)\r\n    const order = props.order\r\n\r\n    useEffect(()=>{\r\n        if (chooseUser === false) {\r\n            axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n                .then(res => {\r\n                    setTinh(res.data[0].tinh)\r\n                    setHuyen(res.data[0].huyen)\r\n                    if (order) {\r\n                        setOrderName(order.orderName)\r\n                        setOrderEmail(order.orderEmail)\r\n                        setOrderPhone(order.orderPhone)\r\n                        setOrderAddress(order.orderAddress)\r\n                        setOrderProvince(order.orderTinh)\r\n                        setOrderDistric(order.orderHuyen)\r\n                        setOrderPaymentMethod(order.orderPaymentMethod)\r\n                        if(typeof order.orderList !== \"undefined\") {\r\n                            order.orderList.map((item)=>{\r\n                                axios.get(`http://pe.heromc.net:4000/products/${item.id}`)\r\n                                    .then(res => {\r\n                                        res.data.count = item.amount\r\n                                        setProductList(productList => [...productList, res.data])\r\n                                    })\r\n                                return null\r\n                            })\r\n                            return\r\n                        }\r\n                        setOrderPaymentMethod(order.orderPaymentMethod)\r\n                        if (order.orderTinh !== \"\") {\r\n                            res.data[0].tinh.filter((item)=>{\r\n                                if (order.orderTinh === item.name) {\r\n                                    setProvinceId(item.id)\r\n                                }\r\n                                return null\r\n                            })\r\n                            setOrderProvince(order.orderTinh)\r\n                        }\r\n                        if (order.orderHuyen !== \"\") {\r\n                            setOrderDistric(order.orderHuyen)\r\n                        }\r\n                    }\r\n                }\r\n            )\r\n        } \r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            }\r\n        )\r\n        axios.get(`http://pe.heromc.net:4000/users/list`)\r\n            .then(res => {\r\n                setUserList(res.data)\r\n                res.data.filter((item)=>{\r\n                    if (item.userEmail === user) {\r\n                        setOrderName(item.userName)\r\n                        setOrderEmail(item.userEmail)\r\n                        setOrderPhone(item.userPhone)\r\n                        setOrderProvince(item.userProvince)\r\n                        setOrderDistric(item.userDistric)\r\n                        setOrderAddress(item.userAddress)\r\n                        if (item.userTinh !== \"\") {\r\n                            tinh.filter((item2)=>{\r\n                                if (item.userTinh === item2.name) {\r\n                                    setProvinceId(item2.id)\r\n                                }\r\n                            })\r\n                            setOrderProvince(item.userTinh)\r\n                        }\r\n                        if (item.userHuyen !== \"\") {\r\n                            setOrderDistric(item.userHuyen)\r\n                        }\r\n                    }\r\n                    return null\r\n                })\r\n            }\r\n        )\r\n    },[order, user])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        var listOrder = []\r\n        var total = 0;\r\n        for(let i in productList) {\r\n            const data = {\r\n                id: productList[i]._id,\r\n                amount: productList[i].count,\r\n            }\r\n            total += productList[i].productFinalPrice * productList[i].count\r\n            listOrder.push(data)\r\n        }\r\n        axios.post(`http://pe.heromc.net:4000/order/update/${order._id}`, {\r\n            orderName: orderName,\r\n            orderEmail: orderEmail,\r\n            orderPhone: orderPhone,\r\n            orderAddress: orderAddress,\r\n            orderTinh: orderProvince,\r\n            orderHuyen: orderDistric,\r\n            orderList: listOrder,\r\n            orderTotal: total,\r\n            orderPaymentMethod: orderPaymentMethod,\r\n            orderDate: new Date()\r\n        }).then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Order infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Already have an account?</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                onChange={(event)=>{\r\n                                    setUser(event.target.value)\r\n                                    setChooseUser(true)\r\n                                }}\r\n                            >\r\n                                <option></option>\r\n                                {\r\n                                    userList.map((item,index)=>{\r\n                                        return (\r\n                                            <option\r\n                                                key={index}\r\n                                                value={item.userEmail}\r\n                                            >{item.userEmail}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={orderName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderName(event.target.value)\r\n                                }} required\r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={orderEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Phone</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"phone\" \r\n                                value={orderPhone || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderPhone(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Province</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={orderProvince}\r\n                                onChange={(event)=>{\r\n                                    setProvinceId(event.target.selectedIndex)\r\n                                    setOrderProvince(event.target.value)\r\n                                }}\r\n                                >\r\n                                <option disabled selected value>select a province</option>\r\n                                {tinh.map((item, index) => {\r\n                                    return (\r\n                                        <option \r\n                                            key={index}\r\n                                            value={item.name}\r\n                                        >{item.name}</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">District</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={orderDistric}\r\n                                onChange={(event)=>{\r\n                                    setOrderDistric(event.target.value)\r\n                                }}\r\n                            >\r\n                                <option disabled selected value>select a district</option>\r\n                                {huyen.map((item, index) => {\r\n                                    if (item.tinh_id === provinceId) {\r\n                                        return (\r\n                                            <option\r\n                                                key={index}\r\n                                                value={item.name}\r\n                                            >{item.name}</option>\r\n                                        )\r\n                                    }\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n            \r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Address</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"phone\" \r\n                                value={orderAddress || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderAddress(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Items</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                style={{height: '25px', marginBottom: '10px'}}\r\n                                value={\"\"}\r\n                                onChange={(event)=>{\r\n                                    const isExists = (cartItems = [], item = {}) => {\r\n                                        for (let cartItem of cartItems) {\r\n                                            if (cartItem._id === item._id) {\r\n                                                return cartItem;\r\n                                            }\r\n                                        }\r\n                                        return false;\r\n                                    }\r\n\r\n                                    const value = event.target.value\r\n                                    const virtualCart = [...productList] \r\n                                    if (productList.length === 0) {\r\n                                        virtualCart.push({...JSON.parse(value), count: 1})\r\n                                    } else {\r\n                                        if (!isExists(productList, JSON.parse(value))) {\r\n                                            virtualCart.push({...JSON.parse(value), count: 1})\r\n                                        } else {\r\n                                            for (let i = 0; i < virtualCart.length; i++) {\r\n                                                if (virtualCart[i]._id === JSON.parse(value)._id) {\r\n                                                    virtualCart[i].count += 1\r\n                                                    break\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    setProductList(virtualCart)\r\n                                }}\r\n                            >\r\n                                <option selected value>select a product</option>\r\n                                {product.map((item, index) => {\r\n                                    return (\r\n                                        <option\r\n                                            key={index}\r\n                                            value={JSON.stringify(item)}\r\n                                        >Name: {item.productName}, Price: {item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                            <div className=\"\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { productList && \r\n                                    productList.map((item, index) => {\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                className=\"order-list-item\"\r\n                                            >\r\n                                                <img src={item.productImg[0]} alt=\"\"></img>\r\n                                                <p style={{width: '55%'}}>{item.productName}</p>\r\n                                                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                                    <p \r\n                                                        id={index}\r\n                                                        className=\"count-btn flex-center\"\r\n                                                        onClick={(event)=>{\r\n                                                            const arr = [...productList]\r\n                                                            const id = event.target.id;\r\n                                                            for (let i in arr) {\r\n                                                                if (id === i) {\r\n                                                                    if (arr[i].count === 0) {\r\n                                                                        return\r\n                                                                    } else {\r\n                                                                        arr[i].count -= 1\r\n                                                                    }\r\n                                                                }\r\n                                                            }\r\n                                                            setProductList(arr)\r\n                                                        }}\r\n                                                    >-</p>\r\n                                                    <p>{item.count}</p>\r\n                                                    <p \r\n                                                        id={index}\r\n                                                        className=\"count-btn flex-center\"\r\n                                                        onClick={(event)=>{\r\n                                                            const arr = [...productList]\r\n                                                            const id = event.target.id;\r\n                                                            for (let i in arr) {\r\n                                                                if (id === i) {\r\n                                                                    arr[i].count += 1\r\n                                                                }\r\n                                                            }\r\n                                                            setProductList(arr)\r\n                                                        }}\r\n                                                    >+</p>\r\n                                                </div>\r\n                                                <div \r\n                                                    id={index}\r\n                                                    className=\"delete-order-item flex-center\"\r\n                                                    onClick={(event)=>{\r\n                                                        var arr = [];\r\n                                                        const id = event.target.id;\r\n                                                        for (let i in productList) {\r\n                                                            if (i !== id) {\r\n                                                                arr.push(productList[i])\r\n                                                            }\r\n                                                        }\r\n                                                        setProductList(arr)\r\n                                                    }}>\r\n                                                    <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Payment method</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                type=\"text\"\r\n                                value={orderPaymentMethod || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderPaymentMethod(event.target.value)\r\n                                }} required\r\n                            >\r\n                                <option></option>\r\n                                <option value=\"cash on delivery\">Cash On Delivery</option>\r\n                                <option value=\"direct back transfer\">Direct Back Transfer</option>\r\n                                <option value=\"paypal\">Paypal</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Create order\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardOrderCreate(props) {\r\n\r\n    const createForm = useRef();\r\n\r\n    const [tinh, setTinh] = useState([])\r\n    const [huyen, setHuyen] = useState([])\r\n\r\n    const [orderName, setOrderName] = useState(\"\")\r\n    const [orderEmail, setOrderEmail] = useState(\"\")\r\n    const [orderPhone, setOrderPhone] = useState(\"\")\r\n    const [orderAddress, setOrderAddress] = useState(\"\")\r\n    const [orderProvince, setOrderProvince] = useState(null)\r\n    const [orderDistric, setOrderDistric] = useState(null)\r\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\r\n    const [provinceId, setProvinceId] = useState(\"\")\r\n    const [product, setProduct] = useState([])\r\n    const [productList, setProductList] = useState([])\r\n    \r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        var listOrder = []\r\n        var total = 0;\r\n        for(let i in productList) {\r\n            const data = {\r\n                id: productList[i]._id,\r\n                amount: productList[i].count,\r\n            }\r\n            total += productList[i].productFinalPrice * productList[i].count\r\n            listOrder.push(data)\r\n        }\r\n\r\n        axios.post('http://pe.heromc.net:4000/order', {\r\n            orderName: orderName,\r\n            orderEmail: orderEmail,\r\n            orderPhone: orderPhone,\r\n            orderAddress: orderAddress,\r\n            orderTinh: orderProvince,\r\n            orderHuyen: orderDistric,\r\n            orderList: listOrder,\r\n            orderTotal: total,\r\n            orderPaymentMethod: orderPaymentMethod,\r\n            orderDate: new Date()\r\n        }).then(()=>{\r\n            props.setCloseCreateFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const [userList, setUserList] = useState([])\r\n    const [user, setUser] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/users/list`)\r\n            .then(res => {\r\n                setUserList(res.data)\r\n                res.data.filter((item)=>{\r\n                    if (item.userEmail === user) {\r\n                        setOrderName(item.userName)\r\n                        setOrderEmail(item.userEmail)\r\n                        setOrderPhone(item.userPhone)\r\n                        setOrderProvince(item.userProvince)\r\n                        setOrderDistric(item.userDistric)\r\n                        setOrderAddress(item.userAddress)\r\n                        if (item.userTinh !== \"\") {\r\n                            tinh.filter((item2)=>{\r\n                                if (item.userTinh === item2.name) {\r\n                                    setProvinceId(item2.id)\r\n                                }\r\n                                return null\r\n                            })\r\n                            setOrderProvince(item.userTinh)\r\n                        }\r\n                        if (item.userHuyen !== \"\") {\r\n                            setOrderDistric(item.userHuyen)\r\n                        }\r\n                    }\r\n                    return null\r\n                })\r\n            }\r\n        )\r\n        axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n            .then(res => {\r\n                setTinh(res.data[0].tinh)\r\n                setHuyen(res.data[0].huyen)\r\n            }\r\n        )\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            }\r\n        )\r\n        if (user === \"\") {\r\n            setOrderName(\"\")\r\n            setOrderEmail(\"\")\r\n            setOrderPhone(\"\")\r\n            setOrderAddress(\"\")\r\n            setOrderProvince(\"\")\r\n            setProvinceId(\"\")\r\n        }\r\n    },[user])\r\n    \r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Order infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Already have an account?</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                onChange={(event)=>{\r\n                                    setUser(event.target.value)\r\n                                }}\r\n                            >\r\n                                <option></option>\r\n                                {\r\n                                    userList.map((item,index)=>{\r\n                                        return (\r\n                                            <option\r\n                                                key={index}\r\n                                                value={item.userEmail}\r\n                                            >{item.userEmail}</option>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={orderName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderName(event.target.value)\r\n                                }} required\r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={orderEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Phone</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"phone\" \r\n                                value={orderPhone || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderPhone(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Province</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={orderProvince}\r\n                                onChange={(event)=>{\r\n                                    setProvinceId(event.target.selectedIndex)\r\n                                    setOrderProvince(event.target.value)\r\n                                }}\r\n                                >\r\n                                <option disabled selected value>select a province</option>\r\n                                {tinh.map((item, index) => {\r\n                                    return (\r\n                                        <option \r\n                                            key={index}\r\n                                            value={item.name}\r\n                                        >{item.name}</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">District</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                value={\"orderDistric\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderDistric(event.target.value)\r\n                                }}\r\n                            >\r\n                                <option disabled selected value>select a district</option>\r\n                                {huyen.map((item, index) => {\r\n                                    if (item.tinh_id === provinceId) {\r\n                                        return (\r\n                                            <option\r\n                                                key={index}\r\n                                                value={item.name}\r\n                                            >{item.name}</option>\r\n                                        )\r\n                                    }\r\n                                    return null\r\n                                })}\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n            \r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Address</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"phone\" \r\n                                value={orderAddress || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderAddress(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Items</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                style={{height: '25px', marginBottom: '10px'}}\r\n                                value={\"\"}\r\n                                onChange={(event)=>{\r\n                                    const isExists = (cartItems = [], item = {}) => {\r\n                                        for (let cartItem of cartItems) {\r\n                                            if (cartItem._id === item._id) {\r\n                                                return cartItem;\r\n                                            }\r\n                                        }\r\n                                        return false;\r\n                                    }\r\n\r\n                                    const value = event.target.value\r\n                                    const virtualCart = [...productList] \r\n                                    if (productList.length === 0) {\r\n                                        virtualCart.push({...JSON.parse(value), count: 1})\r\n                                    } else {\r\n                                        if (!isExists(productList, JSON.parse(value))) {\r\n                                            virtualCart.push({...JSON.parse(value), count: 1})\r\n                                        } else {\r\n                                            for (let i = 0; i < virtualCart.length; i++) {\r\n                                                if (virtualCart[i]._id === JSON.parse(value)._id) {\r\n                                                    virtualCart[i].count += 1\r\n                                                    break\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    setProductList(virtualCart)\r\n                                }}\r\n                            >\r\n                                <option selected value>select a product</option>\r\n                                {product.map((item, index) => {\r\n                                    return (\r\n                                        <option\r\n                                            key={index}\r\n                                            value={JSON.stringify(item)}\r\n                                        >Name: {item.productName}, Price: {item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                            <div className=\"\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { productList && \r\n                                    productList.map((item, index) => {\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                className=\"order-list-item\"\r\n                                            >\r\n                                                <img src={item.productImg[0]} alt=\"\"></img>\r\n                                                <p style={{width: '55%'}}>{item.productName}</p>\r\n                                                <div style={{display: 'flex', alignItems: 'center'}}>\r\n                                                    <p \r\n                                                        id={index}\r\n                                                        className=\"count-btn flex-center\"\r\n                                                        onClick={(event)=>{\r\n                                                            const arr = [...productList]\r\n                                                            const id = event.target.id;\r\n                                                            for (let i in arr) {\r\n                                                                if (id === i) {\r\n                                                                    if (arr[i].count === 0) {\r\n                                                                        return\r\n                                                                    } else {\r\n                                                                        arr[i].count -= 1\r\n                                                                    }\r\n                                                                }\r\n                                                            }\r\n                                                            setProductList(arr)\r\n                                                        }}\r\n                                                    >-</p>\r\n                                                    <p>{item.count}</p>\r\n                                                    <p \r\n                                                        id={index}\r\n                                                        className=\"count-btn flex-center\"\r\n                                                        onClick={(event)=>{\r\n                                                            const arr = [...productList]\r\n                                                            const id = event.target.id;\r\n                                                            for (let i in arr) {\r\n                                                                if (id === i) {\r\n                                                                    arr[i].count += 1\r\n                                                                }\r\n                                                            }\r\n                                                            setProductList(arr)\r\n                                                        }}\r\n                                                    >+</p>\r\n                                                </div>\r\n                                                <div \r\n                                                    id={index}\r\n                                                    className=\"delete-order-item flex-center\"\r\n                                                    onClick={(event)=>{\r\n                                                        var arr = [];\r\n                                                        const id = event.target.id;\r\n                                                        for (let i in productList) {\r\n                                                            if (i !== id) {\r\n                                                                arr.push(productList[i])\r\n                                                            }\r\n                                                        }\r\n                                                        setProductList(arr)\r\n                                                    }}>\r\n                                                    <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Payment method</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                type=\"text\"\r\n                                value={orderPaymentMethod || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setOrderPaymentMethod(event.target.value)\r\n                                }} required\r\n                            >\r\n                                <option></option>\r\n                                <option value=\"cash on delivery\">Cash On Delivery</option>\r\n                                <option value=\"direct back transfer\">Direct Back Transfer</option>\r\n                                <option value=\"paypal\">Paypal</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Create order\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardCollectionCreate(props) {\r\n\r\n    const createForm = useRef();\r\n\r\n    const [collectionName, setCollectionName] = useState(\"\")\r\n    const [product, setProduct] = useState([])\r\n    const [productList, setProductList] = useState([])\r\n    const [newsImg, setNewsImg] = useState([])\r\n    const [file, setFile] = useState([])\r\n    \r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n        let collectionItems = []\r\n        for (let i in productList) {\r\n            collectionItems.push(productList[i]._id)\r\n        }\r\n        \r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('collectionBanner', image);\r\n        });\r\n        formData.append(\"collectionName\", collectionName);\r\n        formData.append('collectionItems', collectionItems);\r\n        axios.post('http://pe.heromc.net:4000/collection', formData, config)\r\n        .then(()=>{\r\n            props.setCloseCreateFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const deleteImg = (event) => {\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(event.target.id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...newsImg]\r\n        items.splice(event.target.id, 1)\r\n        setNewsImg(items)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            }\r\n        )\r\n    },[])\r\n     \r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Order infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={collectionName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setCollectionName(event.target.value)\r\n                                }} required\r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Collection Banner </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                onChange={(event) => {\r\n                                    const files = event.target.files;\r\n                                    for (let i = 0; i< files.length; i++) {\r\n                                        setNewsImg(news=>[...news, URL.createObjectURL(files[i])])\r\n                                    }\r\n                                    const fileArr = Array.prototype.slice.call(files)\r\n                                    fileArr.forEach(item=>{\r\n                                        \r\n                                        setFile(file=>[...file, item])\r\n                                    })\r\n                                }}\r\n                                type=\"file\"\r\n                                name=\"newsImg\"\r\n                                className=\"noborder\"\r\n                                multiple=\"multiple\"\r\n                                style={{height: '50px'}}\r\n                            ></input>\r\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { newsImg && \r\n                                    newsImg.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} className=\"create-box-img\">\r\n                                                <img key={index} src={item} alt=\"\"></img>\r\n                                                <div \r\n                                                    className=\"create-box-img-overlay\"\r\n                                                >\r\n                                                    <p\r\n                                                        id={index}\r\n                                                        onClick={deleteImg}\r\n                                                        className=\"icon\">X\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Items</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                style={{height: '25px', marginBottom: '10px'}}\r\n                                value={\"\"}\r\n                                onChange={(event)=>{\r\n                                    const isExists = (cartItems = [], item = {}) => {\r\n                                        for (let cartItem of cartItems) {\r\n                                            if (cartItem._id === item._id) {\r\n                                                return cartItem;\r\n                                            }\r\n                                        }\r\n                                        return false;\r\n                                    }\r\n\r\n                                    const value = event.target.value\r\n                                    const virtualCart = [...productList] \r\n                                    if (productList.length === 0) {\r\n                                        virtualCart.push({...JSON.parse(value), count: 1})\r\n                                    } else {\r\n                                        if (!isExists(productList, JSON.parse(value))) {\r\n                                            virtualCart.push({...JSON.parse(value), count: 1})\r\n                                        } else {\r\n                                            for (let i = 0; i < virtualCart.length; i++) {\r\n                                                if (virtualCart[i]._id === JSON.parse(value)._id) {\r\n                                                    virtualCart[i].count += 1\r\n                                                    break\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    setProductList(virtualCart)\r\n                                }}\r\n                            >\r\n                                <option selected value>select a product</option>\r\n                                {product.map((item, index) => {\r\n                                    return (\r\n                                        <option\r\n                                            key={index}\r\n                                            value={JSON.stringify(item)}\r\n                                        >Name: {item.productName}, Price: {item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                            <div className=\"\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { productList && \r\n                                    productList.map((item, index) => {\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                className=\"order-list-item\"\r\n                                            >\r\n                                                <img src={item.productImg[0]} alt=\"\"></img>\r\n                                                <p style={{width: '55%'}}>{item.productName}</p>\r\n                                                <div \r\n                                                    id={index}\r\n                                                    className=\"delete-order-item flex-center\"\r\n                                                    onClick={(event)=>{\r\n                                                        var arr = [];\r\n                                                        const id = event.target.id;\r\n                                                        for (let i in productList) {\r\n                                                            if (i !== id) {\r\n                                                                arr.push(productList[i])\r\n                                                            }\r\n                                                        }\r\n                                                        setProductList(arr)\r\n                                                    }}>\r\n                                                    <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div> \r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Create collection\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardCollectionEdit(props) {\r\n\r\n    const createForm = useRef();\r\n\r\n    const [collectionName, setCollectionName] = useState(\"\")\r\n    const [collectionBanner, setCollectionBanner] = useState([])\r\n    const [product, setProduct] = useState([])\r\n    const [productList, setProductList] = useState([])\r\n    const [file, setFile] = useState([])\r\n\r\n    const collection = props.collection\r\n\r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/products`)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            }\r\n        )\r\n        if (collection) {\r\n            setCollectionBanner([collection.collectionBanner])\r\n            setCollectionName(collection.collectionName)\r\n            setProductList(collection.collectionItems)\r\n        }\r\n    },[collection])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        event.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        }\r\n\r\n        const formData = new FormData();\r\n        const imageArr = Array.from(file);\r\n        imageArr.forEach(image => {\r\n            formData.append('collectionBanner', image);\r\n        })\r\n        formData.append(\"productList\", JSON.stringify(productList));\r\n        formData.append(\"collectionName\", collectionName);\r\n        axios.post(`http://pe.heromc.net:4000/collection/update/${collection._id}`, formData, config)\r\n        .then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    const deleteImg = (event) => {\r\n        const virutalFile = [...file]\r\n        virutalFile.splice(event.target.id, 1)\r\n        setFile(virutalFile)\r\n\r\n        const items = [...collectionBanner]\r\n        items.splice(event.target.id, 1)\r\n        setCollectionBanner(items)\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Order infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Name</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"name\" \r\n                                value={collectionName || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setCollectionName(event.target.value)\r\n                                }} required\r\n                            ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Collection Banner </div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                onChange={(event) => {\r\n                                    const files = event.target.files;\r\n                                    for (let i = 0; i< files.length; i++) {\r\n                                        setCollectionBanner(news=>[...news, URL.createObjectURL(files[i])])\r\n                                    }\r\n                                    const fileArr = Array.prototype.slice.call(files)\r\n                                    fileArr.forEach(item=>{\r\n                                        setFile(file=>[...file, item])\r\n                                    })\r\n                                }}\r\n                                type=\"file\"\r\n                                className=\"noborder\"\r\n                                multiple=\"multiple\"\r\n                                style={{height: '50px'}}\r\n                            ></input>\r\n                            <div className=\"flex\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { collectionBanner && \r\n                                    collectionBanner.map((item, index) => {\r\n                                        return (\r\n                                            <div key={index} className=\"create-box-img\" style={{width: '130px'}}>\r\n                                                <img key={index} src={item} alt=\"\"></img>\r\n                                                <div \r\n                                                    className=\"create-box-img-overlay\"\r\n                                                >\r\n                                                    <p\r\n                                                        id={index}\r\n                                                        onClick={deleteImg}\r\n                                                        className=\"icon\">X\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Items</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <select \r\n                                className=\"input\"\r\n                                style={{height: '25px', marginBottom: '10px'}}\r\n                                value={\"\"}\r\n                                onChange={(event)=>{\r\n                                    const isExists = (cartItems = [], item = {}) => {\r\n                                        for (let cartItem of cartItems) {\r\n                                            if (cartItem._id === item._id) {\r\n                                                return cartItem;\r\n                                            }\r\n                                        }\r\n                                        return false;\r\n                                    }\r\n\r\n                                    const value = event.target.value\r\n                                    const virtualCart = [...productList] \r\n                                    if (productList.length === 0) {\r\n                                        virtualCart.push({...JSON.parse(value), count: 1})\r\n                                    } else {\r\n                                        if (!isExists(productList, JSON.parse(value))) {\r\n                                            virtualCart.push({...JSON.parse(value), count: 1})\r\n                                        } else {\r\n                                            for (let i = 0; i < virtualCart.length; i++) {\r\n                                                if (virtualCart[i]._id === JSON.parse(value)._id) {\r\n                                                    virtualCart[i].count += 1\r\n                                                    break\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    setProductList(virtualCart)\r\n                                }}\r\n                            >\r\n                                <option selected value>select a product</option>\r\n                                {product.map((item, index) => {\r\n                                    return (\r\n                                        <option\r\n                                            key={index}\r\n                                            value={JSON.stringify(item)}\r\n                                        >Name: {item.productName}, Price: {item.productFinalPrice.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")}</option>\r\n                                    )\r\n                                })}\r\n                            </select>\r\n                            <div className=\"\" style={{ overflowY: 'hidden', flexWrap:'wrap'}}>\r\n                                { productList && \r\n                                    productList.map((item, index) => {\r\n                                        return (\r\n                                            <div \r\n                                                key={index}\r\n                                                className=\"order-list-item\"\r\n                                            >\r\n                                                <img src={item.productImg[0]} alt=\"\"></img>\r\n                                                <p style={{width: '55%'}}>{item.productName}</p>\r\n                                                <div \r\n                                                    id={index}\r\n                                                    className=\"delete-order-item flex-center\"\r\n                                                    onClick={(event)=>{\r\n                                                        var arr = [];\r\n                                                        const id = event.target.id;\r\n                                                        for (let i in productList) {\r\n                                                            if (i !== id) {\r\n                                                                arr.push(productList[i])\r\n                                                            }\r\n                                                        }\r\n                                                        setProductList(arr)\r\n                                                    }}>\r\n                                                    <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    </div> \r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Update collection\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardCollectionTable(props) {\r\n\r\n    const [collection, setCollection] = useState([])\r\n    const [isSortByName, setIsSortByName] = useState(false)\r\n    const [constCollection, setConstCollection] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/collection`)\r\n            .then(res => {\r\n                setCollection(res.data)\r\n                setConstCollection(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = collection.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(collection.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        axios.post(`http://pe.heromc.net:4000/collection/delete/:${event.target.id}`, {\r\n            id: event.target.id\r\n        })\r\n        setCollection(collection.filter((item)=>{\r\n            return item._id !== event.target.id\r\n        }))\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constCollection) {\r\n            if ((constCollection[i].collectionName).toLowerCase().includes(searchInput)) {\r\n                search.push(constCollection[i])\r\n            }\r\n        }\r\n        setCollection(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"CollectionName\") {\r\n            if (isSortByName) {\r\n                const sortByName = [...collection]\r\n                sortByName.sort(function(a, b) {\r\n                    var collectionA = a.collectionName.toLowerCase();\r\n                    var collectionB = b.collectionName.toLowerCase(); \r\n                    if(collectionA === collectionB) return 0; \r\n                    return collectionA > collectionB ? 1 : -1;\r\n                })\r\n                setIsSortByName(false)\r\n                setCollection(sortByName)\r\n            } else {\r\n                const sortByName = [...collection]\r\n                sortByName.sort(function(a, b) {\r\n                    var collectionA = a.collectionName.toLowerCase();\r\n                    var collectionB = b.collectionName.toLowerCase(); \r\n                    if(collectionA === collectionB) return 0; \r\n                    return collectionA < collectionB ? 1 : -1;\r\n                })\r\n                setIsSortByName(true)\r\n                setCollection(sortByName)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form \r\n                                onSubmit={searchOnSubmit}\r\n                            >\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                    onChange={searchOnChange}\r\n                                ></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr className=\"dashboard-order\">\r\n                                {\r\n                                    props.table.map((item, index) => {\r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-new-title table-order-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }}\r\n                                                id={`Collection${item}`}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    const date = new Date(item.collectionTime)\r\n                                    const day = date.getDate()\r\n                                    const month = date.getMonth() + 1\r\n                                    const year = date.getFullYear()\r\n                                    // let totalItem = 0;\r\n                                    // for (let i in item.orderList) {\r\n                                    //     totalItem += item.orderList[i].amount\r\n                                    // }\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td className=\"table-name\">\r\n                                                <p>{item.collectionName}</p>\r\n                                            </td>\r\n                                            <td \r\n                                                style={{display: 'flex'}}\r\n                                                className=\"table-mobile-collectionbanner\">\r\n                                                <img \r\n                                                    src={item.collectionBanner} \r\n                                                    width=\"120px\" height=\"80px\"\r\n                                                    style={{padding: '5px 0'}}\r\n                                                    alt=\"\"\r\n                                                />\r\n                                            </td>\r\n                                            <td>\r\n                                                <select\r\n                                                    className=\"table-input\"\r\n                                                    style={{height: '30px', width: '80%'}}\r\n                                                > \r\n                                                    {\r\n                                                        item.collectionItems.map((item, index)=>{\r\n                                                            return (\r\n                                                                <option key={index}>\r\n                                                                    {item.productName}\r\n                                                                </option>\r\n                                                            )\r\n                                                        })\r\n                                                    } \r\n                                                </select>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-collectiondate\">\r\n                                                <p>{day}-{month}-{year}</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faCheckCircle, faShoppingBag } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React from 'react'\r\nimport DashboardCollectionTable from './DashboardCollectionTable'\r\n\r\nexport default function DashboardCollection(props) {\r\n\r\n    const table = [\r\n        \"Name\",\r\n        \"Banner\",\r\n        \"Items\",\r\n        \"Date\",\r\n        \"Action\"\r\n    ]\r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update collection successfully\r\n            </div>\r\n            <DashboardCollectionTable\r\n                icon = {faShoppingBag}\r\n                title = \"Collections\"\r\n                color = \"orange\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardSubscriberCreate(props) {\r\n\r\n    const createForm = useRef();\r\n     \r\n    const [subscriberEmail, setSubscriberEmail] = useState(\"\") \r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n        axios.post('http://pe.heromc.net:4000/email', {\r\n            subscriber: subscriberEmail\r\n        }).then(()=>{\r\n            props.setCloseCreateFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Subcriber infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseCreateFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={subscriberEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setSubscriberEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Create subcriber\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useRef, useState } from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faTimes } from '@fortawesome/free-solid-svg-icons'\r\nimport axios from 'axios'\r\n\r\nexport default function DashboardSubscriberCreate(props) {\r\n\r\n    const createForm = useRef();\r\n    \r\n    const [subscriberEmail, setSubscriberEmail] = useState(\"\")\r\n\r\n    const email = props.email;\r\n \r\n    useEffect(()=> {\r\n        if (email) {    \r\n            setSubscriberEmail(email.subscriberEmail)\r\n        }\r\n    },[email])\r\n\r\n    const onSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        axios.post(`http://pe.heromc.net:4000/email/update/${email._id}`, {\r\n            subscriberEmail: subscriberEmail\r\n        }).then(()=>{\r\n            props.setCloseEditFunc(false);\r\n            props.setToastFunc(true);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"DashboardProductInfo\">\r\n            <div className=\"create-box\"> \r\n                <div className=\"create-box-title flex\">\r\n                    <div className=\"create-box-title-text\">\r\n                        Email infomation\r\n                    </div>\r\n                    <div  \r\n                        className=\"create-box-title-close flex-center\"\r\n                        onClick={()=>{\r\n                            props.setCloseEditFunc(false);\r\n                        }}\r\n                    >\r\n                        <FontAwesomeIcon icon={faTimes}/>\r\n                    </div>\r\n                </div>\r\n                <form onSubmit={onSubmit} encType=\"multipart/form-data\" ref={createForm}>\r\n                    <div className=\"create-box-row flex\">\r\n                        <div className=\"dashboard-left flex\">Email</div>\r\n                        <div className=\"dashboard-right\">\r\n                            <input \r\n                                type=\"text\" name=\"email\" \r\n                                value={subscriberEmail || \"\"}\r\n                                onChange={(event)=>{\r\n                                    setSubscriberEmail(event.target.value)\r\n                                }} required\r\n                                ></input>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-center\" style={{marginTop: '40px'}}>\r\n                        <button className=\"create-box-btn btn\">\r\n                            Edit subscriber\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../../App.css'\r\nimport '../../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faPencilAlt, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport axios from 'axios';\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardSubscriberTable(props) {\r\n\r\n    const [email, setEmail] = useState([])\r\n    const [isSortByName, setIsSortByName] = useState(false)\r\n    const [constEmail, setConstEmail] = useState([])\r\n    \r\n    useEffect(()=>{\r\n        axios.get(`http://pe.heromc.net:4000/email`)\r\n            .then(res => {\r\n                setEmail(res.data)\r\n                setConstEmail(res.data)\r\n            }\r\n        )\r\n    },[props.isChange]) \r\n\r\n    console.log(email)\r\n\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const itemsPerPage = 5;\r\n\r\n    const choosePage = (event) => {\r\n        if (Number(event.target.id) === 0) {\r\n            setCurrentPage(currentPage)\r\n        } else if (Number(event.target.id) === -1) {\r\n            if (currentPage > 1) {\r\n                setCurrentPage(currentPage - 1)\r\n            } else {\r\n                setCurrentPage(1);\r\n            }\r\n        } else if (Number(event.target.id) === 999) {\r\n            setCurrentPage(currentPage + 1)\r\n        } else {\r\n            setCurrentPage(Number(event.target.id))\r\n        }\r\n    }\r\n\r\n    const indexOfLast = currentPage * itemsPerPage;\r\n    const indexOfFirst = indexOfLast - itemsPerPage;\r\n    const current = email.slice(indexOfFirst, indexOfLast);\r\n    const pageNumbers = [];\r\n    for (let i = 1; i <= Math.ceil(email.length / itemsPerPage); i++) {\r\n        pageNumbers.push(i);\r\n    }\r\n\r\n    const pages = [];\r\n\r\n    if (pageNumbers.length > 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 3) {\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1, currentPage + 2 );\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else if (currentPage > 2 && currentPage < pageNumbers.length - 1) {\r\n                pages.push(currentPage -1, currentPage, currentPage + 1);\r\n            } else if (currentPage === pageNumbers.length - 1) {\r\n                pages.push(currentPage - 1, currentPage, currentPage + 1);\r\n            } else {\r\n                pages.push(currentPage - 2, currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else if (pageNumbers.length === 2){\r\n        if (currentPage === 2) {\r\n            pages.push(currentPage - 1, currentPage);\r\n        } else {\r\n            if (currentPage === 1) {\r\n                pages.push(currentPage, currentPage + 1);\r\n            } else if (currentPage === 2) {\r\n                pages.push(currentPage - 1, currentPage);\r\n            }\r\n        }\r\n    } else {\r\n        if (currentPage === 1) {\r\n            pages.push(currentPage);\r\n        }\r\n    }\r\n\r\n    const deleteOnClick = (event) => {\r\n        axios.post(`http://pe.heromc.net:4000/email/delete/:${event.target.id}`, {\r\n            id: event.target.id\r\n        })\r\n        setEmail(email.filter((item)=>{\r\n            return item._id !== event.target.id\r\n        }))\r\n    }\r\n\r\n    const searchOnSubmit = (event) =>{\r\n        event.preventDefault()\r\n    }\r\n    const searchOnChange = (event) => {\r\n        const searchInput = event.target.value\r\n        const search = []\r\n        for (let i in constEmail) {\r\n            if ((constEmail[i].subscriberEmail).toLowerCase().includes(searchInput)) {\r\n                search.push(constEmail[i])\r\n            }\r\n        }\r\n        setEmail(search)\r\n    }\r\n\r\n    const sortTable = (event) => {\r\n        if (event.target.id === \"SubscriberEmail\") {\r\n            if (isSortByName) {\r\n                const sortByName = [...email]\r\n                sortByName.sort(function(a, b) {\r\n                    var userA = a.subscriberEmail.toLowerCase();\r\n                    var userB = b.subscriberEmail.toLowerCase(); \r\n                    if(userA === userB) return 0; \r\n                    return userA > userB ? 1 : -1;\r\n                })\r\n                setIsSortByName(false)\r\n                setEmail(sortByName)\r\n            } else {\r\n                const sortByName = [...email]\r\n                sortByName.sort(function(a, b) {\r\n                    var userA = a.subscriberEmail.toLowerCase();\r\n                    var userB = b.subscriberEmail.toLowerCase(); \r\n                    if(userA === userB) return 0; \r\n                    return userA < userB ? 1 : -1;\r\n                })\r\n                setIsSortByName(true)\r\n                setEmail(sortByName)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"topfive flex-col\" style={{width: '100%'}}>\r\n            <div className={`headerbox flex-center ${props.color}`}>\r\n                <FontAwesomeIcon icon={props.icon} className=\"icon\"/>\r\n            </div>\r\n            <div className=\"top-location-container\">\r\n                <div className=\"headerbox-header\">\r\n                    <p>{props.title}</p>\r\n                </div>\r\n                <div className=\"topfive-content flex-col\">\r\n                    <div className=\"dashboard-addnew flex\">\r\n                        <div \r\n                            className=\"dashboard-addnew-btn btn\"\r\n                            onClick={props.setOpenCreateFunc}\r\n                        >Add new</div>\r\n                        <div className=\"dashboard-addnew-search\">\r\n                            <form \r\n                                onSubmit={searchOnSubmit}\r\n                            >\r\n                                <input type=\"text\" placeholder=\"Search records\"\r\n                                    onChange={searchOnChange}\r\n                                ></input>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                    <table className=\"dashboard-table\" style={{tableLayout: 'fixed'}}>\r\n                        <tbody>\r\n                            <tr>\r\n                                {\r\n                                    props.table.map((item, index) => {\r\n                                        return (\r\n                                            <th \r\n                                                key={index} className=\"table-new-title table-user-title\"\r\n                                                onClick={(event)=>{\r\n                                                    sortTable(event)\r\n                                                }}\r\n                                                id={`Subscriber${item}`}\r\n                                            >\r\n                                                {item}\r\n                                            </th>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </tr>\r\n                            {\r\n                                current.map((item, index) => {\r\n                                    let count = 0;\r\n                                    for (let i in item.sendedEmail) {\r\n                                        if (item.sendedEmail[i].isSeen === true) {\r\n                                            count++\r\n                                        }\r\n                                    }\r\n                                    return (\r\n                                        <tr key={index}>\r\n                                            <td className=\"table-mobile-subscribername\">\r\n                                                <p>{item.subscriberEmail}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-subscribersent\">\r\n                                                <p>{item.sendedEmail.length}</p>\r\n                                            </td>\r\n                                            <td className=\"table-mobile-subscriberread\">\r\n                                                <p>{count}</p>\r\n                                            </td>\r\n                                            <td>\r\n                                                <div className=\"action-table flex\">\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-green\"\r\n                                                        onClick={props.setOpenEditFunc}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faPencilAlt}/>\r\n                                                    </div>\r\n                                                    <div \r\n                                                        className=\"action-item flex-center action-red\"\r\n                                                        onClick={deleteOnClick}\r\n                                                        id={item._id}\r\n                                                        >\r\n                                                        <FontAwesomeIcon style={{pointerEvents: 'none'}} icon={faTimes}/>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </td>\r\n                                        </tr>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                    \r\n                    <div className=\"pagination-container flex\" style={{ justifyContent: 'flex-end', margin: '20px 0'}}>\r\n                        <div className=\"pagnigation flex-center\" onClick={choosePage}>\r\n                            <div id=\"-1\" className={classNames({\r\n                                pagnigation_disable: currentPage === 1\r\n                            })}>←</div>\r\n                            { pages.map(function(number, index) { \r\n                                if (currentPage === number) {\r\n                                    return (\r\n                                        <div key={number} id={number} className=\"pagnigation-active\">\r\n                                            {number}\r\n                                        </div>\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                    <div \r\n                                        key={number}\r\n                                        id={number}\r\n                                        >\r\n                                            {number}\r\n                                    </div>\r\n                                    )\r\n                                }\r\n                            })}\r\n                            <div id=\"999\" className={classNames({\r\n                                pagnigation_disable: currentPage === pageNumbers.length\r\n                            })}>→</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import { faEnvelope } from '@fortawesome/free-solid-svg-icons'\r\nimport React from 'react'\r\nimport DashboardProductTable from './DashboardSubscriberTable'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function DashboardSubscriber(props) {\r\n\r\n    const table = [\r\n        \"Email\",\r\n        \"Sent\",\r\n        \"Read\",\r\n        \"Action\"\r\n    ]\r\n\r\n    return (\r\n        <div className=\"dashboard-product\">\r\n            <div className={props.toast ? \"toast toast-show\" : \"toast\"} style={{top: '20px'}}>\r\n                <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n                Update products successfully\r\n            </div>\r\n            <DashboardProductTable\r\n                icon = {faEnvelope}\r\n                title = \"Subscriber\"\r\n                color = \"lightblue\"\r\n                table = {table}\r\n                setOpenCreateFunc = {props.setOpenCreateFunc}\r\n                setCloseCreateFunc = {props.setCloseCreateFunc}\r\n                setOpenEditFunc = {props.setOpenEditFunc}\r\n                setCloseEditFunc = {props.setCloseEditFunc}\r\n                isChange = {props.isChange}\r\n            />\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../App.css'\r\nimport '../../../Styles/Dashboard.css'\r\nimport DashboardHeader from './DashboardHeader'\r\nimport DashboardMain from './Main/DashboardMain';\r\nimport classNames from 'classnames'\r\nimport DashboardInbox from './Inbox/DashboardInbox';\r\nimport DashboardProduct from './Product/DashboardProduct';\r\nimport DashboardNews from './News/DashboardNews';\r\nimport DashboardProductEdit from './Product/DashboardProductEdit';\r\nimport DashboardProductCreate from './Product/DashboardProductCreate';\r\nimport Axios from 'axios';\r\nimport DashboardNewsCreate from './News/DashboardNewsCreate';\r\nimport DashboardNewsEdit from './News/DashboardNewsEdit';\r\nimport DashboardUser from './User/DashboardUser';\r\nimport DashboardUserCreate from './User/DashboardUserCreate';\r\nimport DashboardUserEdit from './User/DashboardUserEdit';\r\nimport DashboardOrder from './Order/DashboardOrder';\r\nimport DashboardOrderEdit from './Order/DashboardOrderEdit';\r\nimport DashboardOrderCreate from './Order/DashboardOrderCreate';\r\nimport DashboardCollectionCreate from './Collection/DashboardCollectionCreate';\r\nimport DashboardCollectionEdit from './Collection/DashboardCollectionEdit';\r\nimport DashboardCollection from './Collection/DashboardCollection';\r\nimport DashboardSubscriberCreate from './Subscriber/DashboardSubscriberCreate';\r\nimport DashboardSubscriberEdit from './Subscriber/DashboardSubscriberEdit';\r\nimport DashboardSubscriber from './Subscriber/DashboardSubscriber';\r\n\r\nexport default function DashboardBody(props) {\r\n\r\n    const tabId = props.tabId;\r\n    const [toast, setToast] = useState(false)\r\n    const [isChange, setIsChange] = useState(false)\r\n    const [product, setProduct] = useState({})\r\n    const [news, setNews] = useState({})\r\n    const [user, setUser] = useState({})\r\n    const [order, setOrder] = useState({})\r\n    const [collection, setCollection] = useState({})\r\n    const [email, setEmail] = useState([])\r\n\r\n    const setToastFunc = (bool) => {\r\n        setIsChange(true)\r\n        setTimeout(()=>{\r\n            setIsChange(false)\r\n        }, 100)\r\n        setToast(true)\r\n        setTimeout(()=>{\r\n            setToast(false)\r\n        }, 3000)\r\n    }\r\n    \r\n    useEffect(()=> {\r\n        Axios.get(`http://pe.heromc.net:4000/products/${props.productId}`)\r\n            .then(res => {\r\n                setProduct(res.data)\r\n            } \r\n        )\r\n        Axios.get(`http://pe.heromc.net:4000/news/${props.productId}`)\r\n            .then(res => {\r\n                setNews(res.data)\r\n            } \r\n        )\r\n        Axios.get(`http://pe.heromc.net:4000/users/list/${props.productId}`)\r\n            .then(res => {\r\n                setUser(res.data)\r\n            } \r\n        )\r\n        Axios.get(`http://pe.heromc.net:4000/order/${props.productId}`)\r\n            .then(res => {\r\n                setOrder(res.data)\r\n            } \r\n        )\r\n        Axios.get(`http://pe.heromc.net:4000/collection/${props.productId}`)\r\n            .then(res => {\r\n                setCollection(res.data)\r\n            } \r\n        )\r\n        Axios.get(`http://pe.heromc.net:4000/email/${props.productId}`)\r\n            .then(res => {\r\n                setEmail(res.data)\r\n            } \r\n        )\r\n    },[props.productId, props.openEdit])\r\n    const openMenuMobile = props.openMenuMobile;\r\n\r\n    return (\r\n        <div \r\n            className={classNames(\"DashboardBody\", {\r\n                DashboardBody_small: !props.openMenu\r\n        })}>          \r\n            {\r\n                !openMenuMobile && \r\n                <div \r\n                    className=\"DashboardBody-closemenu\"\r\n                    onClick={props.setOpenMenuOnClick}\r\n                ></div>\r\n            }\r\n            { (props.openCreate && tabId === \"3\") &&\r\n                <DashboardOrderCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"3\") &&\r\n                <DashboardOrderEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    order={order}\r\n                />\r\n            }\r\n            { (props.openCreate && tabId === \"4\") &&\r\n                <DashboardProductCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"4\") &&\r\n                <DashboardProductEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    product={product}\r\n                />\r\n            }\r\n            { (props.openCreate && tabId === \"5\") &&\r\n                <DashboardNewsCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"5\") &&\r\n                <DashboardNewsEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    news={news} \r\n                />\r\n            }\r\n            { (props.openCreate && tabId === \"6\") &&\r\n                <DashboardUserCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"6\") &&\r\n                <DashboardUserEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    user={user} \r\n                />\r\n            }\r\n\r\n            { (props.openCreate && tabId === \"7\") &&\r\n                <DashboardCollectionCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"7\") &&\r\n                <DashboardCollectionEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    collection={collection} \r\n                />\r\n            }\r\n\r\n            { (props.openCreate && tabId === \"8\") &&\r\n                <DashboardSubscriberCreate\r\n                    setCloseCreateFunc={props.setCloseCreateFunc}\r\n                    setToastFunc={setToastFunc}\r\n                />\r\n            }\r\n            { (props.openEdit && tabId === \"8\") &&\r\n                <DashboardSubscriberEdit\r\n                    setCloseEditFunc={props.setCloseEditFunc}\r\n                    setToastFunc={setToastFunc}\r\n                    email={email} \r\n                />\r\n            }\r\n            <DashboardHeader\r\n                itemName= {props.menuItems[tabId-1].name}\r\n                setOpenMenuOnClick = {props.setOpenMenuOnClick}\r\n                openMenu = {props.openMenu}\r\n                orderNotice = {props.orderNotice}\r\n            />\r\n            {\r\n                tabId === \"1\" && <DashboardMain/>\r\n            }\r\n            {\r\n                tabId === \"2\" && <DashboardInbox/>\r\n            }\r\n            {/* {\r\n                tabId === \"2\" && \r\n                    <DashboardEmail\r\n                        email={email}\r\n                    />\r\n            } */}\r\n            {\r\n                tabId === \"3\" && \r\n                <DashboardOrder\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n            {\r\n                tabId === \"4\" && \r\n                <DashboardProduct\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n            {\r\n                tabId === \"5\" && \r\n                <DashboardNews\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n            {\r\n                tabId === \"6\" && \r\n                <DashboardUser\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n            {\r\n                tabId === \"7\" && \r\n                <DashboardCollection\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n            {\r\n                tabId === \"8\" && \r\n                <DashboardSubscriber\r\n                    setOpenCreateFunc={props.setOpenCreateFunc}\r\n                    setOpenEditFunc={props.setOpenEditFunc}\r\n                    toast={toast}\r\n                    isChange={isChange}\r\n                />\r\n            }\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../App.css'\r\nimport '../../../Styles/Dashboard.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faAngleDown, faAngleUp, faIdCard, faSignOutAlt } from '@fortawesome/free-solid-svg-icons'\r\nimport classNames from 'classnames'\r\n\r\nexport default function DashboardMenu(props) {\r\n\r\n    const [openUserOpt, setOpenUserOpt] = useState(false)\r\n    const [hideText, setHideText] = useState(false)\r\n    const clickToShowUserOpt = () => {\r\n        if (openUserOpt) setOpenUserOpt(false);\r\n        else setOpenUserOpt(true);\r\n    }\r\n\r\n    const menuItems = props.menuItems;\r\n    const openMenu = props.openMenu;\r\n    const openMenuMobile = props.openMenuMobile;\r\n    useEffect(()=> {\r\n        setTimeout(()=>{\r\n            if (openMenu === false) setHideText(true)\r\n        }, 480)\r\n        if (openMenu === true) setHideText(false)\r\n    }, [setHideText, openMenu]) \r\n\r\n \r\n    return (\r\n        <div \r\n            className={classNames(\"DashboardMenu flex\", {\r\n                DashboardMenu_small: !openMenu,\r\n                DashboardMenu_mobile: !openMenuMobile\r\n            })}>\r\n            <div className=\"db-menu-overlay\"></div>\r\n            <div className=\"db-menu\">\r\n                <div className=\"db-menu-logo flex\">\r\n                    <div className=\"flex-center\" style={{height: '24px', marginLeft: '12px'}}>\r\n                        <p className=\"logo-text\">SB</p>\r\n                    </div>\r\n                    { hideText === false\r\n                        &&  \r\n                        <img \r\n                            alt=\"\" \r\n                            src=\"https://demo.uix.store/sober/wp-content/themes/sober/images/logo-light.svg\" \r\n                            height='24px'\r\n                            style={{marginLeft:'27px'}}\r\n                        ></img> \r\n                    }\r\n                </div>              \r\n                <div className=\"menu-line\"></div>\r\n                <div \r\n                    className=\"db-menu-user\"\r\n                    onClick={clickToShowUserOpt}\r\n                >\r\n                    <div className=\"flex-center\" style={{padding: '0 5px'}}>\r\n                        <div className=\"db-menu-avt flex-center\">\r\n                            <img alt=\"\" src=\"https://3.bp.blogspot.com/-kZtIWvxcorE/XG6Raeh5FWI/AAAAAAAALf4/RzyQNykxgJYqz-tK5nBBBIqlOEm2qU-mwCLcBGAs/s1600/0061jeoUly1g0e0l5schoj30u00u0kk2.jpg\"></img>\r\n                        </div>\r\n                        { (hideText === false && props.userInfo )&& <p className=\"db-menu-name\" style={{marginLeft: '26px'}}>\r\n                            {props.userInfo.userName}\r\n                        </p> }\r\n                        { hideText === false && openUserOpt === true && <FontAwesomeIcon icon={faAngleUp} style={{fontSize: '18px'}}/>}\r\n                        { hideText === false && openUserOpt === false && <FontAwesomeIcon icon={faAngleDown} style={{fontSize: '18px'}}/>}\r\n                    </div>\r\n                    <div className={openUserOpt ? \"db-menu-user-opt closeOpt\" : \"db-menu-user-opt\"}>\r\n                        <div className=\"db-menu-item flex-center\">\r\n                            <FontAwesomeIcon icon={faIdCard} style={{fontSize: '18px'}} className=\"icon\"/>\r\n                            <p className=\"db-menu-name\">profile</p>\r\n                        </div>\r\n                        <div \r\n                            className=\"db-menu-item flex-center\"\r\n                            style={{margin: '0'}}\r\n                            onClick={()=> {\r\n                                localStorage.removeItem('user-id')\r\n                                localStorage.removeItem('token');\r\n                                sessionStorage.removeItem('chat-id')\r\n                                window.location.reload(false);\r\n                            }}\r\n                        >\r\n                            <FontAwesomeIcon icon={faSignOutAlt} style={{fontSize: '18px'}} className=\"icon\"/>\r\n                            <p className=\"db-menu-name\">Log out</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"menu-line\"></div>\r\n                <div className=\"db-menu-listitem\">\r\n                    {\r\n                        menuItems.map((item, index) => {\r\n                            return (\r\n                                <div \r\n                                    key={index}\r\n                                    className={classNames(\"db-menu-item flex-center\", {\r\n                                        db_menu_active: props.tabId === item.id,\r\n                                    })}\r\n                                    onClick={() => {\r\n                                        props.setTabIdOnClick(item.id);\r\n                                        props.setCloseCreateFunc(false);\r\n                                        props.setCloseEditFunc(false);\r\n                                        if (window.innerWidth <= 1110) {\r\n                                            props.setOpenMenuOnClick()\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    <FontAwesomeIcon icon={item.icon} style={{fontSize: '18px'}} className=\"icon\"/>\r\n                                    {hideText===false&&<p className=\"db-menu-name\">{item.name}</p>}\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useState } from 'react'\r\nimport '../../../App.css'\r\nimport '../../../Styles/Dashboard.css'\r\nimport DashboardBody from './DashboardBody'\r\nimport DashboardMenu from './DashboardMenu'\r\nimport { faEnvelope, faFileInvoice, faHome, faInbox, faNewspaper, faShoppingBag, faTshirt, faUser } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport socketIOClient from \"socket.io-client\" \r\nimport Axios from 'axios'\r\nimport { withRouter } from 'react-router-dom'\r\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\r\n\r\nfunction Dashboard(props) {\r\n    const menuItems = [\r\n        {\r\n            id: \"1\",\r\n            name: \"Dashboard\",\r\n            icon: faHome\r\n        },\r\n        {\r\n            id: \"2\",\r\n            name: \"Live Chat\",\r\n            icon: faInbox\r\n        },\r\n        // {\r\n        //     id: \"3\",\r\n        //     name: \"Email\",\r\n        //     icon: faEnvelope\r\n        // },\r\n        {\r\n            id: \"3\",\r\n            name: \"Orders\",\r\n            icon: faFileInvoice\r\n        },\r\n        {\r\n            id: \"4\",\r\n            name: \"Products\",\r\n            icon: faTshirt\r\n        },\r\n        {\r\n            id: \"5\",\r\n            name: \"News\",\r\n            icon: faNewspaper\r\n        },\r\n        {\r\n            id: \"6\",\r\n            name: \"Users\",\r\n            icon: faUser\r\n        },\r\n        {\r\n            id: \"7\",\r\n            name: \"Collection\",\r\n            icon: faShoppingBag\r\n        },\r\n        {\r\n            id: \"8\",\r\n            name: \"Subscribers\",\r\n            icon: faEnvelope\r\n        },\r\n    ]\r\n    const [tabId, setTabId] = useState(\"1\");\r\n    const [openMenu, setOpenMenu] = useState(true); \r\n    const [openMenuMobile, setOpenMenuMobile] = useState(true); \r\n    const [productId, setProductId] = useState(\"\")\r\n\r\n    const socket = socketIOClient(ENDPOINT);\r\n\r\n    const [orderNotice, setOrderNotice] = useState(null) \r\n    const [userInfo, setUserInfo] = useState(null)\r\n\r\n    useEffect(()=>{\r\n        if (localStorage.getItem('token')) {\r\n            Axios.get(`http://pe.heromc.net:4000/users/${localStorage.getItem('user-id')}`, { \r\n                headers: {\"authorization\" : `Bearer ${localStorage.getItem('token')}`}\r\n            })\r\n            .then(res => {\r\n                setUserInfo(res.data.user)\r\n                const userInfo = res.data.user; \r\n                if (userInfo.userRole === 'admin') {\r\n                    socket.emit('join', {\r\n                        sessionId: 'admin',\r\n                        isAdmin: true\r\n                    })\r\n                    socket.on(\"placeAnOrder-notice\", function(data) {\r\n                        setOrderNotice(data)\r\n                    }) \r\n                } else {\r\n                    localStorage.setItem(\"errLogin\", \"You do not have Administrator access!\")\r\n                    props.history.push('/admin') \r\n                }\r\n            })\r\n            .catch(err => { \r\n                console.log(err)\r\n            })\r\n        } else {\r\n            props.history.push('/admin')\r\n        }\r\n    },[]) \r\n\r\n    const setTabIdOnClick = (id) => {\r\n        setTabId(id);\r\n    }\r\n\r\n    const setOpenMenuOnClick = () => {\r\n        if (window.innerWidth <= 1110) {\r\n            setOpenMenu(true);\r\n            if (openMenuMobile) setOpenMenuMobile(false);\r\n            else setOpenMenuMobile(true);\r\n        } else {\r\n            if (openMenu) setOpenMenu(false);\r\n            else setOpenMenu(true);\r\n        }\r\n    }\r\n\r\n    const [openCreate, setOpenCreate] = useState(false)\r\n\r\n    const setOpenCreateFunc = () => {\r\n        document.body.style.overflow = 'hidden';\r\n        setOpenCreate(true)\r\n    }\r\n\r\n    const setCloseCreateFunc = (bool) => {\r\n        document.body.style.overflow = 'unset';\r\n        setOpenCreate(bool)\r\n    }\r\n\r\n    const [openEdit, setOpenEdit] = useState(false)\r\n\r\n    const setOpenEditFunc = (event) => {\r\n        document.body.style.overflow = 'hidden';\r\n        setOpenEdit(true)\r\n        setProductId(event.target.id)\r\n    }\r\n    \r\n    const setCloseEditFunc = (bool) => {\r\n        document.body.style.overflow = 'unset';\r\n        setOpenEdit(bool)\r\n    }\r\n\r\n    return (\r\n        <div className=\"Dashboard flex\">\r\n            <DashboardMenu\r\n                setTabIdOnClick = {setTabIdOnClick}\r\n                setOpenMenuOnClick = {setOpenMenuOnClick}\r\n                tabId = {tabId}\r\n                menuItems = {menuItems}\r\n                openMenu = {openMenu} \r\n                openMenuMobile = {openMenuMobile}\r\n                setCloseCreateFunc={setCloseCreateFunc}\r\n                setCloseEditFunc={setCloseEditFunc}\r\n                userInfo={userInfo}\r\n            />\r\n            <DashboardBody\r\n                tabId = {tabId}\r\n                menuItems = {menuItems}\r\n                openMenu = {openMenu}\r\n                openMenuMobile = {openMenuMobile}\r\n                openCreate = {openCreate}\r\n                openEdit = {openEdit}\r\n                setOpenMenuOnClick = {setOpenMenuOnClick}\r\n                setOpenCreateFunc={setOpenCreateFunc}\r\n                setCloseCreateFunc={setCloseCreateFunc}\r\n                setOpenEditFunc={setOpenEditFunc}\r\n                setCloseEditFunc={setCloseEditFunc}\r\n                productId={productId}\r\n                orderNotice={orderNotice}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default withRouter(Dashboard)","import React, { useState } from 'react'\r\n\r\nexport const ChatContext = React.createContext();\r\n\r\nexport function ChatProvider(props) {\r\n    \r\n    const [chatData ,setChatData] = useState({})\r\n\r\n    const setChatDataFunc = (chat) => {\r\n        setChatData(Object.assign(chat, chatData));\r\n    };\r\n\r\n    return (\r\n        <ChatContext.Provider\r\n            value={{\r\n                chatData: chatData,\r\n                setChatDataFunc: setChatDataFunc\r\n            }}\r\n        >\r\n            {props.children}\r\n        </ChatContext.Provider>\r\n    )\r\n}","import { faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React, { useContext } from 'react'\r\nimport { CartContext } from '../contexts/Cart'\r\n\r\nimport '../Styles/Toast.css'\r\n\r\nexport default function Toast(props) {\r\n \r\n    const {\r\n        toast\r\n    } = useContext(CartContext)\r\n\r\n    return (\r\n        <div className={toast ? \"toast toast-show\" : \"toast\"}>\r\n            <FontAwesomeIcon icon={faCheckCircle} className=\"icon\"/>\r\n            Product is added to cart successfully\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport '../../App.css';\r\nimport {\r\n    withRouter\r\n  } from \"react-router-dom\"; \r\nimport '../../Styles/BannerV4.css'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nfunction BannerV4(props) {\r\n\r\n    const location = props.history.location.pathname\r\n    const locationText = location.slice(1);\r\n\r\n    return(\r\n        <div className=\"BannerV4\">\r\n            <div className=\"bannerv4-title\">\r\n                {props.collectionTitle}\r\n            </div> \r\n            <div className=\"newsbanner-breadcrumb flex-center\">\r\n                <div>Home</div>\r\n                <FontAwesomeIcon icon={faAngleRight} className=\"cart-icon\" style={{margin: '0 10px'}}/>\r\n                <div style={{textTransform: 'capitalize'}}>{locationText}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(BannerV4);","import $ from 'jquery'; \r\nexport const HOST = 'http://pe.heromc.net:4000';\r\n\r\nexport const APIs = {\r\n  QR: HOST + '/order/zalo/createorder?ordertype=createorder',\r\n  GATEWAY: HOST + '/order/zalo/createorder?ordertype=gateway',\r\n  QUICKPAY: HOST + '/order/zalo/createorder?ordertype=quickpay',\r\n  GETBANKLIST: HOST + '/order/zalo/getbanklist',\r\n  GETORDERSTATUS: HOST + '/order/zalo/getorderstatus',\r\n  GETREFUNDSTATUS: HOST + '/order/zalo/getrefundstatus',\r\n  REFUND: HOST + '/order/zalo/refund',\r\n  GETHISTORY: HOST + '/order/zalo/gethistory',\r\n  SUBSCRIBE: HOST.replace('http', 'ws') + '/subscribe',\r\n}\r\n\r\nexport function parseResult(obj) {\r\n  let str = '';\r\n  for(const key in obj) {\r\n    str += key + ' = ' + obj[key] + '\\n';\r\n  }\r\n  return str;\r\n}\r\n\r\nexport function postJSON(url, data = {}, done, fail) {\r\n  return $.ajax({\r\n    url,\r\n    data: JSON.stringify(data),\r\n    method: 'POST',\r\n    contentType: 'application/json'\r\n  })\r\n  .done(res => {\r\n    try {\r\n      res = JSON.parse(res);\r\n      done(res);\r\n    } catch {\r\n      done(res);\r\n    }\r\n  })\r\n  .fail(fail);\r\n}\r\n\r\nexport function getQueryString() {\r\n  const result = {};\r\n  const querys = window.location.search.slice(1).split('&');\r\n  querys.forEach(q => {\r\n    const [key, val] = q.split('=');\r\n    result[key] = val;\r\n  });\r\n  return result;\r\n}","import { APIs, postJSON } from './common'; \r\n\r\nexport class ZaloPay {\r\n    static listenCallback(apptransid, cb) {\r\n      const ws = new WebSocket(APIs.SUBSCRIBE + \"?apptransid=\" + apptransid); \r\n      console.log(ws)\r\n      ws.onopen = e => {\r\n          console.log('open ws', apptransid);\r\n      };\r\n      ws.onmessage = e => {\r\n          const data = JSON.parse(e.data);\r\n          console.log('ws message', data);\r\n          cb(data);\r\n        //   alert('Thanh toán thành công');\r\n      };\r\n      ws.onclose = e => {\r\n          console.log('close ws', apptransid);\r\n      };\r\n    }\r\n\r\n    static pay(url, data = {}, done) {\r\n        return postJSON(url, data, done, () => {\r\n            // alert('Thanh toán thất bại');\r\n        })\r\n    }\r\n  \r\n    static qr(data, done) {\r\n        ZaloPay.pay(APIs.QR, data, res => {\r\n            if (res.returncode === 1) { \r\n                done(res);\r\n            } else {\r\n                // alert(parseResult(res));\r\n            }\r\n        });\r\n    }  \r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport { UserContext } from '../contexts/User';\r\nimport '../Styles/BannerV4.css'\r\nimport axios from 'axios'\r\nimport {\r\n    withRouter\r\n} from 'react-router-dom'\r\nimport socketIOClient from \"socket.io-client\"\r\nimport { ZaloPay } from './ZaloPay/zalopay';\r\nimport QRCode from 'qrcode.react'\r\nimport { APIs } from './ZaloPay/common';\r\nimport $ from 'jquery';  \r\n\r\nconst ENDPOINT = \"http://pe.heromc.net:4000\";\r\n\r\nfunction CheckoutBody(props) {\r\n    \r\n    const [tinh, setTinh] = useState([])\r\n    const [huyen, setHuyen] = useState([])\r\n    const { \r\n        userInfo\r\n    } = useContext(UserContext);\r\n    const socket = socketIOClient(ENDPOINT)\r\n\r\n    const [nameInput, setNameInput] = useState(\"\")\r\n    const [_id, set_Id] = useState(\"\")\r\n    const [userAvt, setUserAvt] = useState(\"\")\r\n    const [emailInput, setEmailInput] = useState(\"\")\r\n    const [phoneInput, setPhoneInput] = useState(\"\")\r\n    const [provinceId, setProvinceId] = useState(\"\")\r\n    const [userTinh, setUserTinh] = useState(null)\r\n    const [userHuyen, setUserHuyen] = useState(null)\r\n    const [addressInput, setAddressInput] = useState(null)\r\n    const [cartList, setCartList] = useState([])\r\n    const subTotal = localStorage.getItem('total')\r\n    const [shipping, setShipping] = useState(0)\r\n    const total = Number(subTotal) + Number(shipping)\r\n    const [confirm, setConfirm] = useState(false)\r\n    const [orderPaymentMethod, setOrderPaymentMethod] = useState(\"\")\r\n    const [orderAddressConfirm, setOrderAddressConfirm] = useState(\"\")\r\n    const [isShowQR, setIsShowQR] = useState(false)\r\n    const [qrValue, setQRValue] = useState(\"\")\r\n    const [isPaid, setIsPaid] = useState(false) \r\n\r\n    useEffect(()=>{\r\n        if (userInfo) {\r\n            setUserAvt(userInfo.userAvt)\r\n            set_Id(userInfo._id)\r\n            setNameInput(userInfo.userName)\r\n            setEmailInput(userInfo.userEmail)\r\n            setPhoneInput(userInfo.userPhone)\r\n            setAddressInput(userInfo.userAddress)\r\n            if (userInfo.userTinh !== \"\") {\r\n                axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n                    .then(res => {\r\n                        setTinh(res.data[0].tinh)\r\n                        setHuyen(res.data[0].huyen)\r\n                        res.data[0].tinh.filter((item)=>{ \r\n                            if (userInfo.userTinh === item.name) {\r\n                                setProvinceId(item.id)\r\n                            }\r\n                            return null\r\n                        })\r\n                    }\r\n                )  \r\n                setUserTinh(userInfo.userTinh)\r\n            } else {\r\n                axios.get(`http://pe.heromc.net:4000/vietnam`)\r\n                    .then(res => {\r\n                        setTinh(res.data[0].tinh)\r\n                        setHuyen(res.data[0].huyen) \r\n                    }\r\n                )   \r\n            }\r\n            if (userInfo.userHuyen !== \"\") {\r\n                setUserHuyen(userInfo.userHuyen)\r\n            }\r\n        }\r\n        setCartList((JSON.parse(localStorage.getItem('cart'))))\r\n    },[userInfo])  \r\n\r\n    const [methodPayment, setMethodPayMent] = useState(0)\r\n\r\n    const checkedPayMent = (event) => {\r\n        setMethodPayMent(Number(event.target.id))\r\n    } \r\n\r\n    const showQR = (text) => {\r\n        setIsShowQR(true) \r\n        setQRValue(text)\r\n    } \r\n\r\n    const placeAnOrder = () => {\r\n        let orderPaymentMethod2 = \"\";\r\n        if (methodPayment === 1) {\r\n            orderPaymentMethod2 = \"cash on delivery\"\r\n        } else if (methodPayment === 2) {\r\n            orderPaymentMethod2 = \"zalopay\"\r\n        } else {\r\n            orderPaymentMethod2 = \"\"\r\n        }\r\n        var cartId = []\r\n        for (let i in cartList) {\r\n            cartId.push(\r\n                {\r\n                    id: cartList[i]._id,\r\n                    amount: cartList[i].count \r\n                }\r\n            )\r\n        }\r\n\r\n        const data = {\r\n            orderName: nameInput,\r\n            orderAvatar: userAvt,\r\n            orderEmail: emailInput,\r\n            orderPhone: phoneInput,\r\n            orderAddress: addressInput,\r\n            orderTinh: userTinh,\r\n            orderHuyen: userHuyen,\r\n            orderList: cartId,\r\n            orderTotal: total,\r\n            orderPaymentMethod: orderPaymentMethod2,\r\n            orderDate: new Date()\r\n        }\r\n        \r\n        if (orderPaymentMethod2 === \"\") {\r\n            alert(\"Fill in all infomation please\")\r\n        } else if (orderPaymentMethod2 === \"zalopay\") {\r\n            if (isPaid === false) {\r\n                alert(\"Your payment not yet confirmed!\")\r\n                return\r\n            } else {\r\n                axios.post('http://pe.heromc.net:4000/order', data)\r\n                setTimeout(()=>{ \r\n                    setConfirm(true)\r\n                    document.body.style.overflow = 'hidden';\r\n                    window.scrollTo(0,0);\r\n                    socket.emit('placeAnOrder', data)\r\n                }, 1000)\r\n            }\r\n        } else {\r\n            axios.post('http://pe.heromc.net:4000/order', data)\r\n            setTimeout(()=>{ \r\n                setConfirm(true)\r\n                document.body.style.overflow = 'hidden';\r\n                window.scrollTo(0,0);\r\n                socket.emit('placeAnOrder', data)\r\n            }, 1000)\r\n        }\r\n        setOrderPaymentMethod(orderPaymentMethod2)\r\n        let addressStr = addressInput + ', ' + userTinh + ', ' + userHuyen \r\n        setOrderAddressConfirm(addressStr)\r\n    }\r\n\r\n    return(\r\n        <div className=\"CheckoutBody\">\r\n            {\r\n                confirm &&\r\n                <div className=\"billing-detail confirmPage\">\r\n                    <p style={{fontSize: '18px', color: 'green', marginBottom: '30px'}}>Thank you. Your order has been received.</p> \r\n                    <div className=\"billing-detail-title\">Order details</div>\r\n                    <div> \r\n                        <div className=\"billing-detail-list comfirm-list\">\r\n                            { cartList &&\r\n                                cartList.map((item, index)=>{\r\n                                    return (\r\n                                        <div \r\n                                            key={index}\r\n                                            className=\"billing-detail-item\"\r\n                                        >\r\n                                            <div\r\n                                                style={{width: '300px'}}\r\n                                            >\r\n                                                <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\r\n                                            </div>\r\n                                            <div className=\"billing-detail-mobile\">\r\n                                                <div className=\"billing-detail-name\">{item.productName}</div>\r\n                                                <div className=\"billing-detail-count\">\r\n                                                    <p>x</p>\r\n                                                    {item.count}\r\n                                                </div>\r\n                                                <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                }) \r\n                            }\r\n                            <div className=\"billing-detail-item flex\">\r\n                                <div className=\"billing-confirm-left\">SUBTOTAL</div>\r\n                                <div className=\"billing-detail-mobile\">\r\n                                    <div className=\"billing-detail-name\"></div>\r\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                    {subTotal &&\r\n                                        <div className=\"billing-detail-price billing-confirm-right\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            <div \r\n                                className=\"billing-detail-item flex\"\r\n                                style={{justifyContent: 'space-between'}}\r\n                            >\r\n                                <div className=\"billing-confirm-left\">ADDRESS</div><div className=\"billing-detail-mobile\">\r\n                                    <div className=\"billing-detail-name\"></div>\r\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                    <div className=\"billing-detail-price billing-confirm-right orderAddressConfirm\" style={{textTransform: 'capitalize'}}>{orderAddressConfirm} đ</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"billing-detail-item flex\">\r\n                                <div className=\"billing-confirm-left\">SHIPPING FEE</div>\r\n                                <div className=\"billing-detail-mobile\">\r\n                                    <div className=\"billing-detail-name\"></div>\r\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                    <div className=\"billing-detail-price billing-confirm-right\" style={{textTransform: 'capitalize'}}>{shipping} đ</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"billing-detail-item flex\">\r\n                                <div className=\"billing-confirm-left\">TOTAL</div>\r\n                                <div className=\"billing-detail-mobile\">\r\n                                    <div className=\"billing-detail-name\"></div>\r\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div> \r\n                                    <div className=\"billing-detail-price billing-confirm-right\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                </div>\r\n                            </div> \r\n                            <div className=\"billing-detail-item flex\">\r\n                                <div className=\"billing-confirm-left\">PAYMENT METHOD</div>\r\n                                <div className=\"billing-detail-mobile\">\r\n                                    <div className=\"billing-detail-name\"></div>\r\n                                    <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                    <div className=\"billing-detail-price billing-confirm-right\" style={{textTransform: 'capitalize'}}>{orderPaymentMethod}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"order-btn btn\" style={{marginTop: '30px', marginBottom: '30px'}} onClick={()=>{\r\n                                document.body.style.overflow = 'unset';\r\n                                localStorage.removeItem('total')\r\n                                localStorage.removeItem('cart') \r\n                                props.history.push(\"/shop\")\r\n                                window.location.reload(false);\r\n                            }}>\r\n                                CONFIRM\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            } \r\n            <div className=\"billing-detail\">\r\n                <div className=\"billing-detail-title\">Billing details</div>\r\n                <form className=\"billing-detail-form\"> \r\n                    <table className=\"billing-detail-table\"> \r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Name</td>\r\n                                <td>\r\n                                    <input \r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        name=\"name\" \r\n                                        value={nameInput}\r\n                                        onChange={(event)=>{\r\n                                            setNameInput(event.target.value)\r\n                                        }}\r\n                                    ></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Phone number</td>\r\n                                <td>\r\n                                    <input \r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        name=\"phone\" \r\n                                        value={phoneInput}\r\n                                        onChange={(event)=>{\r\n                                            setPhoneInput(event.target.value)\r\n                                        }}\r\n                                    ></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Email</td>\r\n                                <td>\r\n                                    <input \r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        name=\"phone\" \r\n                                        value={emailInput}\r\n                                        onChange={(event)=>{\r\n                                            setEmailInput(event.target.value)\r\n                                        }}\r\n                                    ></input>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Province</td>\r\n                                <td>\r\n                                    <select \r\n                                        className=\"input\"\r\n                                        value={userTinh || ''}\r\n                                        onChange={(event)=>{\r\n                                            setProvinceId(event.target.selectedIndex)\r\n                                            setUserTinh(event.target.value)\r\n                                        }}\r\n                                    >\r\n                                        <option disabled defaultValue>select a province</option>\r\n                                        {tinh.map((item, index) => {\r\n                                            return (\r\n                                                <option \r\n                                                    key={index}\r\n                                                    value={item.name}\r\n                                                >{item.name}</option>\r\n                                            )\r\n                                        })}\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>District</td>\r\n                                <td>\r\n                                    <select \r\n                                        className=\"input\"\r\n                                        value={userHuyen || ''}\r\n                                        onChange={(event)=>{\r\n                                            setUserHuyen(event.target.value)\r\n                                        }}\r\n                                    >\r\n                                        <option disabled defaultValue>select a district</option>\r\n                                        {huyen.map((item, index) => {\r\n                                            if (item.tinh_id === provinceId) {\r\n                                                return (\r\n                                                    <option\r\n                                                        key={index}\r\n                                                        value={item.name}\r\n                                                        >{item.name}</option>\r\n                                                )\r\n                                            }\r\n                                            return null\r\n                                        })}\r\n                                    </select>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Address</td>\r\n                                <td>\r\n                                    <input \r\n                                        type=\"text\"\r\n                                        className=\"input\"\r\n                                        name=\"address\" \r\n                                        value={addressInput || ''}\r\n                                        onChange={(event)=>{\r\n                                            setAddressInput(event.target.value)\r\n                                        }}\r\n                                    ></input>\r\n                                </td>\r\n                            </tr>\r\n                            \r\n                                \r\n                        </tbody>\r\n                    </table>\r\n                </form>\r\n            </div> \r\n            <div className=\"billing-detail\">\r\n                <div className=\"billing-detail-title\">Your order</div>\r\n                <div className=\"billing-detail-form\"> \r\n                    <div className=\"billing-detail-list\">\r\n                        { cartList &&\r\n                            cartList.map((item, index)=>{\r\n                                return (\r\n                                    <div \r\n                                        key={index}\r\n                                        className=\"billing-detail-item\"\r\n                                    >\r\n                                        <img src={item.productImg[0]} alt=\"\" width=\"60px\" height=\"60px\"></img>\r\n                                        <div className=\"billing-detail-mobile\">\r\n                                            <div className=\"billing-detail-name\">{item.productName}</div>\r\n                                            <div className=\"billing-detail-count\">\r\n                                                <p>x</p>\r\n                                                {item.count}\r\n                                            </div>\r\n                                            <div className=\"billing-detail-price\">{(item.productFinalPrice * item.count).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            }) \r\n                        }\r\n                        <div className=\"billing-detail-item flex\">\r\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SUBTOTAL</div>\r\n                            <div className=\"billing-detail-mobile\">\r\n                                <div className=\"billing-detail-name\"></div>\r\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                { subTotal &&\r\n                                    <div className=\"billing-detail-price\">{subTotal.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div \r\n                            className=\"billing-detail-item flex\"\r\n                            style={{justifyContent: 'space-between'}}\r\n                        >\r\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>SHIPPING</div>\r\n                            <div className=\"billing-detail-shipping\">\r\n                                <select onChange={(event)=>{\r\n                                    setShipping(event.target.value)\r\n                                }}>\r\n                                    <option value=\"0\">FREESHIP - 0đ</option>\r\n                                    <option value=\"30000\">FAST SHIPPING - 30000đ</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"billing-detail-item flex\">\r\n                            <div style={{width:'60px', height: '60px', lineHeight: '60px', fontSize: '18px'}}>TOTAL</div>\r\n                            <div className=\"billing-detail-mobile\">\r\n                                <div className=\"billing-detail-name\"></div>\r\n                                <div className=\"billing-detail-count\" style={{color: '#111'}}></div>\r\n                                <div className=\"billing-detail-price\">{(Number(subTotal) + Number(shipping)).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\")} đ</div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"billing-detail-payment\">\r\n                            <div style={{fontSize: '18px'}}>PAYMENT METHOD</div>\r\n                            <div className=\"billing-detail-mobile\">\r\n                                <div className=\"payment-method-list\">\r\n                                    <div \r\n                                        id=\"1\"\r\n                                        className=\"flex payment-method-item\" \r\n                                        onClick={(event)=>{\r\n                                            checkedPayMent(event)\r\n                                            setIsShowQR(false)\r\n                                        }}>\r\n                                        <div \r\n                                            id=\"1\"\r\n                                            className={methodPayment === 1 ? \"size-check isChecked2\" : \"size-check\"}\r\n                                            ></div>\r\n                                            <p\r\n                                                id=\"1\"\r\n                                                >CASH ON DELIVERY</p>\r\n                                        </div>\r\n                                    <div \r\n                                        id=\"2\"\r\n                                        className=\"flex payment-method-item\"\r\n                                        onClick={(event)=>{\r\n                                            checkedPayMent(event) \r\n                                            const description = `Thanh toan don hang #${_id}` \r\n                                            let order = {\r\n                                                description: description,\r\n                                                amount: total\r\n                                            }  \r\n                                            ZaloPay.qr(order, res => { \r\n                                                showQR(res.orderurl); \r\n                                                const check = setInterval(()=>{  \r\n                                                    $.getJSON(APIs.GETORDERSTATUS +'?morderid='+ res.apptransid)\r\n                                                        .done(res => {  \r\n                                                            if (res.returncode === 1) { \r\n                                                                setIsPaid(true)\r\n                                                                clearInterval(check)\r\n                                                            }\r\n                                                        }\r\n                                                    ) \r\n                                                }, 1000)  \r\n                                            });  \r\n                                        }}>\r\n                                        <div \r\n                                            id=\"2\"\r\n                                            className={methodPayment === 2 ? \"size-check isChecked2\" : \"size-check\"} ></div>\r\n                                        <p\r\n                                            id=\"2\">\r\n                                            ZALOPAY\r\n                                        </p>\r\n                                    </div> \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={isShowQR ? \"qr-box flex-col\" : \"d-none\"}> \r\n                            <div className=\"qr-code-box flex-center\">\r\n                                <QRCode value={qrValue}></QRCode> \r\n                            </div> \r\n                            { !isPaid &&\r\n                                <div className=\"qr-status\" style={{color: \"red\"}}>\r\n                                    Đang chờ thanh toán...\r\n                                </div>\r\n                            }\r\n                            { isPaid &&\r\n                                <div className=\"qr-status\">\r\n                                    Thanh toán thành công!\r\n                                </div>\r\n                            }\r\n                            { !isPaid && \r\n                                <div className=\"qr-help\">\r\n                                    <div className=\"qr-help-title\">Hướng dẫn thanh toán</div>\r\n                                    <ul className=\"qr-help-list\">\r\n                                        <li><span>Bước 1:</span><strong> Mở</strong> ứng dụng <strong>ZaloPay</strong></li>\r\n                                        <li><span>Bước 2:</span> Chọn <strong>\"Thanh Toán\"</strong> và quét mã QR</li>\r\n                                        <li><span>Bước 3:</span> <strong> Xác nhận thanh toán</strong> ở trong ứng dụng</li>\r\n                                    </ul>\r\n                                </div>\r\n                            }\r\n                        </div> \r\n                        <div className=\"order-btn btn\" onClick={placeAnOrder}>\r\n                            PLACE AN ORDER\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(CheckoutBody)","import React, { useEffect } from \"react\";\r\nimport \"../App.css\";\r\nimport BannerV4 from \"../components/Banner/BannerV4\";\r\nimport CheckoutBody from \"../components/CheckoutBody\";\r\nimport Header from \"../components/Header/Header\";\r\nimport Footer from \"../components/Layouts/Footer\";\r\nimport Newsletter from \"../components/Layouts/Newsletter\";\r\n\r\nfunction Checkout() {\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n        document.body.style.overflow = 'unset';\r\n    },[])\r\n\r\n    return (\r\n        <div className=\"Contact\">\r\n            <Header/>\r\n            <BannerV4\r\n                bannerImage={\"\"} collectionTitle={\"Checkout\"}\r\n            />\r\n            <CheckoutBody/>\r\n            <Newsletter/>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\nexport default Checkout;\r\n","import React, { useEffect, useState } from 'react';\r\nimport './App.css';\r\nimport './Styles/Chat.css'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route\r\n} from \"react-router-dom\"; \r\nimport Home from './pages/Home.js'\r\nimport News from './pages/News.js'\r\nimport Shop from './pages/Shop.js'\r\nimport Contact from './pages/Contact.js'\r\nimport ProductDetail from './pages/ProductDetail.js'\r\nimport Collection from './pages/Collection';\r\nimport NewsDetail from './pages/NewsDetail';\r\nimport OpenChatBtn from './components/OpenChatBtn';\r\nimport NewsCate from './pages/NewsCate';\r\n\r\n\r\nimport Login from './components/admin/Login/Login';\r\n\r\nimport { CartProvider } from './contexts/Cart'\r\nimport Dashboard from './components/admin/Dashboard/Dashboard';\r\nimport { UserProvider } from './contexts/User';\r\nimport { ChatProvider } from './contexts/Chat';\r\n// import LoadingPage from './components/LoadingPage';\r\nimport Toast from './components/Toast';\r\nimport Checkout from './pages/Checkout'; \r\n\r\nfunction App(props) {\r\n\r\n  // const [loading, setLoading] = useState(true)\r\n\r\n  // useEffect(()=>{\r\n  //   if (window.location.href.split('/')[3] === \"\") {\r\n  //     setTimeout(()=>{\r\n  //       setLoading(false)\r\n  //     }, 3500)\r\n  //   } else {\r\n  //     setLoading(false)\r\n  //   }\r\n  // },[])\r\n\r\n  return (\r\n    <UserProvider>\r\n    <CartProvider>\r\n    <ChatProvider>\r\n      {/* { loading === true &&\r\n        <LoadingPage\r\n          loading={loading} \r\n        />\r\n      } */}\r\n      {/* { loading === false && */}\r\n        <Router>\r\n          <div className=\"App\">\r\n            <Toast/>\r\n            <Route path=\"/\" exact component={Home}></Route>\r\n            <Route path=\"/home\" exact component={Home}></Route>\r\n            <Route path=\"/news\" exact component={News}></Route>\r\n            <Route path=\"/men\" exact component={Shop}></Route>\r\n            <Route path=\"/shop\" exact component={Shop}></Route>\r\n            <Route path=\"/shop/:search\" exact component={Shop}></Route>\r\n            <Route path=\"/men/:cate\" exact component={Shop}></Route>\r\n            <Route path=\"/women\" exact component={Shop}></Route>\r\n            <Route path=\"/women/:cate\" exact component={Shop}></Route>\r\n            <Route path=\"/contact\" exact component={Contact}></Route>\r\n            <Route path=\"/collection/:id\" exact component={Collection}></Route>\r\n            <Route path=\"/products/:id\" exact component={ProductDetail}></Route>\r\n            <Route path=\"/news/:id\" exact component={NewsDetail}></Route>\r\n            <Route path=\"/news/category/:cate\" exact component={NewsCate}></Route>\r\n            <Route path=\"/admin\" exact component={Login}></Route>\r\n            <Route path=\"/admin/dashboard\" exact component={Dashboard}></Route>\r\n            <Route path=\"/checkout\" exact component={Checkout}></Route> \r\n          </div>\r\n          <OpenChatBtn/>\r\n        </Router>\r\n      {/* } */}\r\n    </ChatProvider>\r\n    </CartProvider>\r\n    </UserProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}